var Sb=Object.defineProperty;var l=(K,d)=>Sb(K,"name",{value:d,configurable:!0});(()=>{var __webpack_modules__={6232:(K,d,B)=>{"use strict";const S=B(8641),N=B(8692),L=B(1474),j=B(5870),W=l((R,m={})=>{let _=[];if(Array.isArray(R))for(let b of R){let y=W.create(b,m);Array.isArray(y)?_.push(...y):_.push(y)}else _=[].concat(W.create(R,m));return m&&m.expand===!0&&m.nodupes===!0&&(_=[...new Set(_)]),_},"braces");W.parse=(R,m={})=>j(R,m),W.stringify=(R,m={})=>S(typeof R=="string"?W.parse(R,m):R,m),W.compile=(R,m={})=>(typeof R=="string"&&(R=W.parse(R,m)),N(R,m)),W.expand=(R,m={})=>{typeof R=="string"&&(R=W.parse(R,m));let _=L(R,m);return m.noempty===!0&&(_=_.filter(Boolean)),m.nodupes===!0&&(_=[...new Set(_)]),_},W.create=(R,m={})=>R===""||R.length<3?[R]:m.expand!==!0?W.compile(R,m):W.expand(R,m),K.exports=W},8692:(K,d,B)=>{"use strict";const S=B(1516),N=B(3596),L=l((j,W={})=>{let R=l((m,_={})=>{let b=N.isInvalidBrace(_),y=m.invalid===!0&&W.escapeInvalid===!0,x=b===!0||y===!0,U=W.escapeInvalid===!0?"\\":"",I="";if(m.isOpen===!0||m.isClose===!0)return U+m.value;if(m.type==="open")return x?U+m.value:"(";if(m.type==="close")return x?U+m.value:")";if(m.type==="comma")return m.prev.type==="comma"?"":x?m.value:"|";if(m.value)return m.value;if(m.nodes&&m.ranges>0){let G=N.reduce(m.nodes),te=S(...G,{...W,wrap:!1,toRegex:!0});if(te.length!==0)return G.length>1&&te.length>1?`(${te})`:te}if(m.nodes)for(let G of m.nodes)I+=R(G,m);return I},"walk");return R(j)},"compile");K.exports=L},7007:K=>{"use strict";K.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}},1474:(K,d,B)=>{"use strict";const S=B(1516),N=B(8641),L=B(3596),j=l((R="",m="",_=!1)=>{let b=[];if(R=[].concat(R),m=[].concat(m),!m.length)return R;if(!R.length)return _?L.flatten(m).map(y=>`{${y}}`):m;for(let y of R)if(Array.isArray(y))for(let x of y)b.push(j(x,m,_));else for(let x of m)_===!0&&typeof x=="string"&&(x=`{${x}}`),b.push(Array.isArray(x)?j(y,x,_):y+x);return L.flatten(b)},"append"),W=l((R,m={})=>{let _=m.rangeLimit===void 0?1e3:m.rangeLimit,b=l((y,x={})=>{y.queue=[];let U=x,I=x.queue;for(;U.type!=="brace"&&U.type!=="root"&&U.parent;)U=U.parent,I=U.queue;if(y.invalid||y.dollar){I.push(j(I.pop(),N(y,m)));return}if(y.type==="brace"&&y.invalid!==!0&&y.nodes.length===2){I.push(j(I.pop(),["{}"]));return}if(y.nodes&&y.ranges>0){let O=L.reduce(y.nodes);if(L.exceedsLimit(...O,m.step,_))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let z=S(...O,m);z.length===0&&(z=N(y,m)),I.push(j(I.pop(),z)),y.nodes=[];return}let G=L.encloseBrace(y),te=y.queue,ue=y;for(;ue.type!=="brace"&&ue.type!=="root"&&ue.parent;)ue=ue.parent,te=ue.queue;for(let O=0;O<y.nodes.length;O++){let z=y.nodes[O];if(z.type==="comma"&&y.type==="brace"){O===1&&te.push(""),te.push("");continue}if(z.type==="close"){I.push(j(I.pop(),te,G));continue}if(z.value&&z.type!=="open"){te.push(j(te.pop(),z.value));continue}z.nodes&&b(z,y)}return te},"walk");return L.flatten(b(R))},"expand");K.exports=W},5870:(K,d,B)=>{"use strict";const S=B(8641),{MAX_LENGTH:N,CHAR_BACKSLASH:L,CHAR_BACKTICK:j,CHAR_COMMA:W,CHAR_DOT:R,CHAR_LEFT_PARENTHESES:m,CHAR_RIGHT_PARENTHESES:_,CHAR_LEFT_CURLY_BRACE:b,CHAR_RIGHT_CURLY_BRACE:y,CHAR_LEFT_SQUARE_BRACKET:x,CHAR_RIGHT_SQUARE_BRACKET:U,CHAR_DOUBLE_QUOTE:I,CHAR_SINGLE_QUOTE:G,CHAR_NO_BREAK_SPACE:te,CHAR_ZERO_WIDTH_NOBREAK_SPACE:ue}=B(7007),O=l((z,Z={})=>{if(typeof z!="string")throw new TypeError("Expected a string");let M=Z||{},H=typeof M.maxLength=="number"?Math.min(N,M.maxLength):N;if(z.length>H)throw new SyntaxError(`Input length (${z.length}), exceeds max characters (${H})`);let J={type:"root",input:z,nodes:[]},ne=[J],re=J,se=J,he=0,Ee=z.length,Fe=0,Y=0,we,Me={};const Je=l(()=>z[Fe++],"advance"),Pe=l(ye=>{if(ye.type==="text"&&se.type==="dot"&&(se.type="text"),se&&se.type==="text"&&ye.type==="text"){se.value+=ye.value;return}return re.nodes.push(ye),ye.parent=re,ye.prev=se,se=ye,ye},"push");for(Pe({type:"bos"});Fe<Ee;)if(re=ne[ne.length-1],we=Je(),!(we===ue||we===te)){if(we===L){Pe({type:"text",value:(Z.keepEscaping?we:"")+Je()});continue}if(we===U){Pe({type:"text",value:"\\"+we});continue}if(we===x){he++;let ye=!0,je;for(;Fe<Ee&&(je=Je());){if(we+=je,je===x){he++;continue}if(je===L){we+=Je();continue}if(je===U&&(he--,he===0))break}Pe({type:"text",value:we});continue}if(we===m){re=Pe({type:"paren",nodes:[]}),ne.push(re),Pe({type:"text",value:we});continue}if(we===_){if(re.type!=="paren"){Pe({type:"text",value:we});continue}re=ne.pop(),Pe({type:"text",value:we}),re=ne[ne.length-1];continue}if(we===I||we===G||we===j){let ye=we,je;for(Z.keepQuotes!==!0&&(we="");Fe<Ee&&(je=Je());){if(je===L){we+=je+Je();continue}if(je===ye){Z.keepQuotes===!0&&(we+=je);break}we+=je}Pe({type:"text",value:we});continue}if(we===b){Y++;let ye=se.value&&se.value.slice(-1)==="$"||re.dollar===!0;re=Pe({type:"brace",open:!0,close:!1,dollar:ye,depth:Y,commas:0,ranges:0,nodes:[]}),ne.push(re),Pe({type:"open",value:we});continue}if(we===y){if(re.type!=="brace"){Pe({type:"text",value:we});continue}let ye="close";re=ne.pop(),re.close=!0,Pe({type:ye,value:we}),Y--,re=ne[ne.length-1];continue}if(we===W&&Y>0){if(re.ranges>0){re.ranges=0;let ye=re.nodes.shift();re.nodes=[ye,{type:"text",value:S(re)}]}Pe({type:"comma",value:we}),re.commas++;continue}if(we===R&&Y>0&&re.commas===0){let ye=re.nodes;if(Y===0||ye.length===0){Pe({type:"text",value:we});continue}if(se.type==="dot"){if(re.range=[],se.value+=we,se.type="range",re.nodes.length!==3&&re.nodes.length!==5){re.invalid=!0,re.ranges=0,se.type="text";continue}re.ranges++,re.args=[];continue}if(se.type==="range"){ye.pop();let je=ye[ye.length-1];je.value+=se.value+we,se=je,re.ranges--;continue}Pe({type:"dot",value:we});continue}Pe({type:"text",value:we})}do if(re=ne.pop(),re.type!=="root"){re.nodes.forEach(nt=>{nt.nodes||(nt.type==="open"&&(nt.isOpen=!0),nt.type==="close"&&(nt.isClose=!0),nt.nodes||(nt.type="text"),nt.invalid=!0)});let ye=ne[ne.length-1],je=ye.nodes.indexOf(re);ye.nodes.splice(je,1,...re.nodes)}while(ne.length>0);return Pe({type:"eos"}),J},"parse");K.exports=O},8641:(K,d,B)=>{"use strict";const S=B(3596);K.exports=(N,L={})=>{let j=l((W,R={})=>{let m=L.escapeInvalid&&S.isInvalidBrace(R),_=W.invalid===!0&&L.escapeInvalid===!0,b="";if(W.value)return(m||_)&&S.isOpenOrClose(W)?"\\"+W.value:W.value;if(W.value)return W.value;if(W.nodes)for(let y of W.nodes)b+=j(y);return b},"stringify");return j(N)}},3596:(K,d)=>{"use strict";d.isInteger=B=>typeof B=="number"?Number.isInteger(B):typeof B=="string"&&B.trim()!==""?Number.isInteger(Number(B)):!1,d.find=(B,S)=>B.nodes.find(N=>N.type===S),d.exceedsLimit=(B,S,N=1,L)=>L===!1||!d.isInteger(B)||!d.isInteger(S)?!1:(Number(S)-Number(B))/Number(N)>=L,d.escapeNode=(B,S=0,N)=>{let L=B.nodes[S];!L||(N&&L.type===N||L.type==="open"||L.type==="close")&&L.escaped!==!0&&(L.value="\\"+L.value,L.escaped=!0)},d.encloseBrace=B=>B.type!=="brace"?!1:B.commas>>0+B.ranges>>0==0?(B.invalid=!0,!0):!1,d.isInvalidBrace=B=>B.type!=="brace"?!1:B.invalid===!0||B.dollar?!0:B.commas>>0+B.ranges>>0==0||B.open!==!0||B.close!==!0?(B.invalid=!0,!0):!1,d.isOpenOrClose=B=>B.type==="open"||B.type==="close"?!0:B.open===!0||B.close===!0,d.reduce=B=>B.reduce((S,N)=>(N.type==="text"&&S.push(N.value),N.type==="range"&&(N.type="text"),S),[]),d.flatten=(...B)=>{const S=[],N=l(L=>{for(let j=0;j<L.length;j++){let W=L[j];Array.isArray(W)?N(W,S):W!==void 0&&S.push(W)}return S},"flat");return N(B),S}},1516:(K,d,B)=>{"use strict";/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */const S=B(6529),N=B(2999),L=l(M=>M!==null&&typeof M=="object"&&!Array.isArray(M),"isObject"),j=l(M=>H=>M===!0?Number(H):String(H),"transform"),W=l(M=>typeof M=="number"||typeof M=="string"&&M!=="","isValidValue"),R=l(M=>Number.isInteger(+M),"isNumber"),m=l(M=>{let H=`${M}`,J=-1;if(H[0]==="-"&&(H=H.slice(1)),H==="0")return!1;for(;H[++J]==="0";);return J>0},"zeros"),_=l((M,H,J)=>typeof M=="string"||typeof H=="string"?!0:J.stringify===!0,"stringify"),b=l((M,H,J)=>{if(H>0){let ne=M[0]==="-"?"-":"";ne&&(M=M.slice(1)),M=ne+M.padStart(ne?H-1:H,"0")}return J===!1?String(M):M},"pad"),y=l((M,H)=>{let J=M[0]==="-"?"-":"";for(J&&(M=M.slice(1),H--);M.length<H;)M="0"+M;return J?"-"+M:M},"toMaxLen"),x=l((M,H)=>{M.negatives.sort((he,Ee)=>he<Ee?-1:he>Ee?1:0),M.positives.sort((he,Ee)=>he<Ee?-1:he>Ee?1:0);let J=H.capture?"":"?:",ne="",re="",se;return M.positives.length&&(ne=M.positives.join("|")),M.negatives.length&&(re=`-(${J}${M.negatives.join("|")})`),ne&&re?se=`${ne}|${re}`:se=ne||re,H.wrap?`(${J}${se})`:se},"toSequence"),U=l((M,H,J,ne)=>{if(J)return N(M,H,{wrap:!1,...ne});let re=String.fromCharCode(M);if(M===H)return re;let se=String.fromCharCode(H);return`[${re}-${se}]`},"toRange"),I=l((M,H,J)=>{if(Array.isArray(M)){let ne=J.wrap===!0,re=J.capture?"":"?:";return ne?`(${re}${M.join("|")})`:M.join("|")}return N(M,H,J)},"toRegex"),G=l((...M)=>new RangeError("Invalid range arguments: "+S.inspect(...M)),"rangeError"),te=l((M,H,J)=>{if(J.strictRanges===!0)throw G([M,H]);return[]},"invalidRange"),ue=l((M,H)=>{if(H.strictRanges===!0)throw new TypeError(`Expected step "${M}" to be a number`);return[]},"invalidStep"),O=l((M,H,J=1,ne={})=>{let re=Number(M),se=Number(H);if(!Number.isInteger(re)||!Number.isInteger(se)){if(ne.strictRanges===!0)throw G([M,H]);return[]}re===0&&(re=0),se===0&&(se=0);let he=re>se,Ee=String(M),Fe=String(H),Y=String(J);J=Math.max(Math.abs(J),1);let we=m(Ee)||m(Fe)||m(Y),Me=we?Math.max(Ee.length,Fe.length,Y.length):0,Je=we===!1&&_(M,H,ne)===!1,Pe=ne.transform||j(Je);if(ne.toRegex&&J===1)return U(y(M,Me),y(H,Me),!0,ne);let ye={negatives:[],positives:[]},je=l(X=>ye[X<0?"negatives":"positives"].push(Math.abs(X)),"push"),nt=[],qe=0;for(;he?re>=se:re<=se;)ne.toRegex===!0&&J>1?je(re):nt.push(b(Pe(re,qe),Me,Je)),re=he?re-J:re+J,qe++;return ne.toRegex===!0?J>1?x(ye,ne):I(nt,null,{wrap:!1,...ne}):nt},"fillNumbers"),z=l((M,H,J=1,ne={})=>{if(!R(M)&&M.length>1||!R(H)&&H.length>1)return te(M,H,ne);let re=ne.transform||(Je=>String.fromCharCode(Je)),se=`${M}`.charCodeAt(0),he=`${H}`.charCodeAt(0),Ee=se>he,Fe=Math.min(se,he),Y=Math.max(se,he);if(ne.toRegex&&J===1)return U(Fe,Y,!1,ne);let we=[],Me=0;for(;Ee?se>=he:se<=he;)we.push(re(se,Me)),se=Ee?se-J:se+J,Me++;return ne.toRegex===!0?I(we,null,{wrap:!1,options:ne}):we},"fillLetters"),Z=l((M,H,J,ne={})=>{if(H==null&&W(M))return[M];if(!W(M)||!W(H))return te(M,H,ne);if(typeof J=="function")return Z(M,H,1,{transform:J});if(L(J))return Z(M,H,0,J);let re={...ne};return re.capture===!0&&(re.wrap=!0),J=J||re.step||1,R(J)?R(M)&&R(H)?O(M,H,J,re):z(M,H,Math.max(Math.abs(J),1),re):J!=null&&!L(J)?ue(J,re):Z(M,H,1,J)},"fill");K.exports=Z},3338:K=>{"use strict";/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */K.exports=function(d){return typeof d=="number"?d-d==0:typeof d=="string"&&d.trim()!==""?Number.isFinite?Number.isFinite(+d):isFinite(+d):!1}},5179:(K,d,B)=>{K=B.nmd(K);var S=200,N="__lodash_hash_undefined__",L=1,j=2,W=9007199254740991,R="[object Arguments]",m="[object Array]",_="[object AsyncFunction]",b="[object Boolean]",y="[object Date]",x="[object Error]",U="[object Function]",I="[object GeneratorFunction]",G="[object Map]",te="[object Number]",ue="[object Null]",O="[object Object]",z="[object Promise]",Z="[object Proxy]",M="[object RegExp]",H="[object Set]",J="[object String]",ne="[object Symbol]",re="[object Undefined]",se="[object WeakMap]",he="[object ArrayBuffer]",Ee="[object DataView]",Fe="[object Float32Array]",Y="[object Float64Array]",we="[object Int8Array]",Me="[object Int16Array]",Je="[object Int32Array]",Pe="[object Uint8Array]",ye="[object Uint8ClampedArray]",je="[object Uint16Array]",nt="[object Uint32Array]",qe=/[\\^$.*+?()[\]{}|]/g,X=/^\[object .+?Constructor\]$/,ft=/^(?:0|[1-9]\d*)$/,We={};We[Fe]=We[Y]=We[we]=We[Me]=We[Je]=We[Pe]=We[ye]=We[je]=We[nt]=!0,We[R]=We[m]=We[he]=We[b]=We[Ee]=We[y]=We[x]=We[U]=We[G]=We[te]=We[O]=We[M]=We[H]=We[J]=We[se]=!1;var Ve=typeof B.g=="object"&&B.g&&B.g.Object===Object&&B.g,oe=typeof self=="object"&&self&&self.Object===Object&&self,ce=Ve||oe||Function("return this")(),Oe=d&&!d.nodeType&&d,Qe=Oe&&!0&&K&&!K.nodeType&&K,dt=Qe&&Qe.exports===Oe,Vt=dt&&Ve.process,gt=function(){try{return Vt&&Vt.binding&&Vt.binding("util")}catch(k){}}(),wt=gt&&gt.isTypedArray;function un(k,P){for(var ve=-1,He=k==null?0:k.length,Ft=0,at=[];++ve<He;){var Nt=k[ve];P(Nt,ve,k)&&(at[Ft++]=Nt)}return at}l(un,"arrayFilter");function rt(k,P){for(var ve=-1,He=P.length,Ft=k.length;++ve<He;)k[Ft+ve]=P[ve];return k}l(rt,"arrayPush");function xt(k,P){for(var ve=-1,He=k==null?0:k.length;++ve<He;)if(P(k[ve],ve,k))return!0;return!1}l(xt,"arraySome");function Ne(k,P){for(var ve=-1,He=Array(k);++ve<k;)He[ve]=P(ve);return He}l(Ne,"baseTimes");function $t(k){return function(P){return k(P)}}l($t,"baseUnary");function Pn(k,P){return k.has(P)}l(Pn,"cacheHas");function ke(k,P){return k==null?void 0:k[P]}l(ke,"getValue");function le(k){var P=-1,ve=Array(k.size);return k.forEach(function(He,Ft){ve[++P]=[Ft,He]}),ve}l(le,"mapToArray");function Ce(k,P){return function(ve){return k(P(ve))}}l(Ce,"overArg");function Xe(k){var P=-1,ve=Array(k.size);return k.forEach(function(He){ve[++P]=He}),ve}l(Xe,"setToArray");var ht=Array.prototype,Rt=Function.prototype,kt=Object.prototype,E=ce["__core-js_shared__"],h=Rt.toString,p=kt.hasOwnProperty,F=function(){var k=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||"");return k?"Symbol(src)_1."+k:""}(),Q=kt.toString,ae=RegExp("^"+h.call(p).replace(qe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pe=dt?ce.Buffer:void 0,it=ce.Symbol,At=ce.Uint8Array,It=kt.propertyIsEnumerable,Ot=ht.splice,ut=it?it.toStringTag:void 0,$l=Object.getOwnPropertySymbols,Vo=pe?pe.isBuffer:void 0,Zf=Ce(Object.keys,Object),Hr=ar(ce,"DataView"),yn=ar(ce,"Map"),Ta=ar(ce,"Promise"),Ra=ar(ce,"Set"),ka=ar(ce,"WeakMap"),_r=ar(Object,"create"),Ml=Wr(Hr),Pl=Wr(yn),zr=Wr(Ta),Qf=Wr(Ra),Da=Wr(ka),di=it?it.prototype:void 0,Go=di?di.valueOf:void 0;function Nn(k){var P=-1,ve=k==null?0:k.length;for(this.clear();++P<ve;){var He=k[P];this.set(He[0],He[1])}}l(Nn,"Hash");function Ol(){this.__data__=_r?_r(null):{},this.size=0}l(Ol,"hashClear");function Ko(k){var P=this.has(k)&&delete this.__data__[k];return this.size-=P?1:0,P}l(Ko,"hashDelete");function Xf(k){var P=this.__data__;if(_r){var ve=P[k];return ve===N?void 0:ve}return p.call(P,k)?P[k]:void 0}l(Xf,"hashGet");function Zo(k){var P=this.__data__;return _r?P[k]!==void 0:p.call(P,k)}l(Zo,"hashHas");function Ul(k,P){var ve=this.__data__;return this.size+=this.has(k)?0:1,ve[k]=_r&&P===void 0?N:P,this}l(Ul,"hashSet"),Nn.prototype.clear=Ol,Nn.prototype.delete=Ko,Nn.prototype.get=Xf,Nn.prototype.has=Zo,Nn.prototype.set=Ul;function Vn(k){var P=-1,ve=k==null?0:k.length;for(this.clear();++P<ve;){var He=k[P];this.set(He[0],He[1])}}l(Vn,"ListCache");function Hl(){this.__data__=[],this.size=0}l(Hl,"listCacheClear");function zl(k){var P=this.__data__,ve=Ba(P,k);if(ve<0)return!1;var He=P.length-1;return ve==He?P.pop():Ot.call(P,ve,1),--this.size,!0}l(zl,"listCacheDelete");function Fa(k){var P=this.__data__,ve=Ba(P,k);return ve<0?void 0:P[ve][1]}l(Fa,"listCacheGet");function ql(k){return Ba(this.__data__,k)>-1}l(ql,"listCacheHas");function Yf(k,P){var ve=this.__data__,He=Ba(ve,k);return He<0?(++this.size,ve.push([k,P])):ve[He][1]=P,this}l(Yf,"listCacheSet"),Vn.prototype.clear=Hl,Vn.prototype.delete=zl,Vn.prototype.get=Fa,Vn.prototype.has=ql,Vn.prototype.set=Yf;function ir(k){var P=-1,ve=k==null?0:k.length;for(this.clear();++P<ve;){var He=k[P];this.set(He[0],He[1])}}l(ir,"MapCache");function Qo(){this.size=0,this.__data__={hash:new Nn,map:new(yn||Vn),string:new Nn}}l(Qo,"mapCacheClear");function Hi(k){var P=qi(this,k).delete(k);return this.size-=P?1:0,P}l(Hi,"mapCacheDelete");function Xo(k){return qi(this,k).get(k)}l(Xo,"mapCacheGet");function Yo(k){return qi(this,k).has(k)}l(Yo,"mapCacheHas");function Wl(k,P){var ve=qi(this,k),He=ve.size;return ve.set(k,P),this.size+=ve.size==He?0:1,this}l(Wl,"mapCacheSet"),ir.prototype.clear=Qo,ir.prototype.delete=Hi,ir.prototype.get=Xo,ir.prototype.has=Yo,ir.prototype.set=Wl;function zi(k){var P=-1,ve=k==null?0:k.length;for(this.__data__=new ir;++P<ve;)this.add(k[P])}l(zi,"SetCache");function Jo(k){return this.__data__.set(k,N),this}l(Jo,"setCacheAdd");function Na(k){return this.__data__.has(k)}l(Na,"setCacheHas"),zi.prototype.add=zi.prototype.push=Jo,zi.prototype.has=Na;function Gn(k){var P=this.__data__=new Vn(k);this.size=P.size}l(Gn,"Stack");function es(){this.__data__=new Vn,this.size=0}l(es,"stackClear");function xr(k){var P=this.__data__,ve=P.delete(k);return this.size=P.size,ve}l(xr,"stackDelete");function jl(k){return this.__data__.get(k)}l(jl,"stackGet");function ts(k){return this.__data__.has(k)}l(ts,"stackHas");function ns(k,P){var ve=this.__data__;if(ve instanceof Vn){var He=ve.__data__;if(!yn||He.length<S-1)return He.push([k,P]),this.size=++ve.size,this;ve=this.__data__=new ir(He)}return ve.set(k,P),this.size=ve.size,this}l(ns,"stackSet"),Gn.prototype.clear=es,Gn.prototype.delete=xr,Gn.prototype.get=jl,Gn.prototype.has=ts,Gn.prototype.set=ns;function La(k,P){var ve=jr(k),He=!ve&&nd(k),Ft=!ve&&!He&&Wi(k),at=!ve&&!He&&!Ft&&_n(k),Nt=ve||He||Ft||at,Gt=Nt?Ne(k.length,String):[],Jt=Gt.length;for(var Ut in k)(P||p.call(k,Ut))&&!(Nt&&(Ut=="length"||Ft&&(Ut=="offset"||Ut=="parent")||at&&(Ut=="buffer"||Ut=="byteLength"||Ut=="byteOffset")||Ql(Ut,Jt)))&&Gt.push(Ut);return Gt}l(La,"arrayLikeKeys");function Ba(k,P){for(var ve=k.length;ve--;)if(Yl(k[ve][0],P))return ve;return-1}l(Ba,"assocIndexOf");function Jf(k,P,ve){var He=P(k);return jr(k)?He:rt(He,ve(k))}l(Jf,"baseGetAllKeys");function hi(k){return k==null?k===void 0?re:ue:ut&&ut in Object(k)?Zl(k):td(k)}l(hi,"baseGetTag");function $a(k){return pi(k)&&hi(k)==R}l($a,"baseIsArguments");function Ma(k,P,ve,He,Ft){return k===P?!0:k==null||P==null||!pi(k)&&!pi(P)?k!==k&&P!==P:rs(k,P,ve,He,Ma,Ft)}l(Ma,"baseIsEqual");function rs(k,P,ve,He,Ft,at){var Nt=jr(k),Gt=jr(P),Jt=Nt?m:br(k),Ut=Gt?m:br(P);Jt=Jt==R?O:Jt,Ut=Ut==R?O:Ut;var en=Jt==O,Tn=Ut==O,Kt=Jt==Ut;if(Kt&&Wi(k)){if(!Wi(P))return!1;Nt=!0,en=!1}if(Kt&&!en)return at||(at=new Gn),Nt||_n(k)?is(k,P,ve,He,Ft,at):Kl(k,P,Jt,ve,He,Ft,at);if(!(ve&L)){var xn=en&&p.call(k,"__wrapped__"),bn=Tn&&p.call(P,"__wrapped__");if(xn||bn){var Kn=xn?k.value():k,Zn=bn?P.value():P;return at||(at=new Gn),Ft(Kn,Zn,ve,He,at)}}return Kt?(at||(at=new Gn),hn(k,P,ve,He,Ft,at)):!1}l(rs,"baseIsEqualDeep");function Vl(k){if(!ss(k)||ed(k))return!1;var P=Ua(k)?ae:X;return P.test(Wr(k))}l(Vl,"baseIsNative");function Gl(k){return pi(k)&&os(k.length)&&!!We[hi(k)]}l(Gl,"baseIsTypedArray");function Se(k){if(!Xl(k))return Zf(k);var P=[];for(var ve in Object(k))p.call(k,ve)&&ve!="constructor"&&P.push(ve);return P}l(Se,"baseKeys");function is(k,P,ve,He,Ft,at){var Nt=ve&L,Gt=k.length,Jt=P.length;if(Gt!=Jt&&!(Nt&&Jt>Gt))return!1;var Ut=at.get(k);if(Ut&&at.get(P))return Ut==P;var en=-1,Tn=!0,Kt=ve&j?new zi:void 0;for(at.set(k,P),at.set(P,k);++en<Gt;){var xn=k[en],bn=P[en];if(He)var Kn=Nt?He(bn,xn,en,P,k,at):He(xn,bn,en,k,P,at);if(Kn!==void 0){if(Kn)continue;Tn=!1;break}if(Kt){if(!xt(P,function(Zn,Er){if(!Pn(Kt,Er)&&(xn===Zn||Ft(xn,Zn,ve,He,at)))return Kt.push(Er)})){Tn=!1;break}}else if(!(xn===bn||Ft(xn,bn,ve,He,at))){Tn=!1;break}}return at.delete(k),at.delete(P),Tn}l(is,"equalArrays");function Kl(k,P,ve,He,Ft,at,Nt){switch(ve){case Ee:if(k.byteLength!=P.byteLength||k.byteOffset!=P.byteOffset)return!1;k=k.buffer,P=P.buffer;case he:return!(k.byteLength!=P.byteLength||!at(new At(k),new At(P)));case b:case y:case te:return Yl(+k,+P);case x:return k.name==P.name&&k.message==P.message;case M:case J:return k==P+"";case G:var Gt=le;case H:var Jt=He&L;if(Gt||(Gt=Xe),k.size!=P.size&&!Jt)return!1;var Ut=Nt.get(k);if(Ut)return Ut==P;He|=j,Nt.set(k,P);var en=is(Gt(k),Gt(P),He,Ft,at,Nt);return Nt.delete(k),en;case ne:if(Go)return Go.call(k)==Go.call(P)}return!1}l(Kl,"equalByTag");function hn(k,P,ve,He,Ft,at){var Nt=ve&L,Gt=qr(k),Jt=Gt.length,Ut=qr(P),en=Ut.length;if(Jt!=en&&!Nt)return!1;for(var Tn=Jt;Tn--;){var Kt=Gt[Tn];if(!(Nt?Kt in P:p.call(P,Kt)))return!1}var xn=at.get(k);if(xn&&at.get(P))return xn==P;var bn=!0;at.set(k,P),at.set(P,k);for(var Kn=Nt;++Tn<Jt;){Kt=Gt[Tn];var Zn=k[Kt],Er=P[Kt];if(He)var ls=Nt?He(Er,Zn,Kt,P,k,at):He(Zn,Er,Kt,k,P,at);if(!(ls===void 0?Zn===Er||Ft(Zn,Er,ve,He,at):ls)){bn=!1;break}Kn||(Kn=Kt=="constructor")}if(bn&&!Kn){var ji=k.constructor,Vi=P.constructor;ji!=Vi&&"constructor"in k&&"constructor"in P&&!(typeof ji=="function"&&ji instanceof ji&&typeof Vi=="function"&&Vi instanceof Vi)&&(bn=!1)}return at.delete(k),at.delete(P),bn}l(hn,"equalObjects");function qr(k){return Jf(k,gi,as)}l(qr,"getAllKeys");function qi(k,P){var ve=k.__data__;return Pa(P)?ve[typeof P=="string"?"string":"hash"]:ve.map}l(qi,"getMapData");function ar(k,P){var ve=ke(k,P);return Vl(ve)?ve:void 0}l(ar,"getNative");function Zl(k){var P=p.call(k,ut),ve=k[ut];try{k[ut]=void 0;var He=!0}catch(at){}var Ft=Q.call(k);return He&&(P?k[ut]=ve:delete k[ut]),Ft}l(Zl,"getRawTag");var as=$l?function(k){return k==null?[]:(k=Object(k),un($l(k),function(P){return It.call(k,P)}))}:Ha,br=hi;(Hr&&br(new Hr(new ArrayBuffer(1)))!=Ee||yn&&br(new yn)!=G||Ta&&br(Ta.resolve())!=z||Ra&&br(new Ra)!=H||ka&&br(new ka)!=se)&&(br=l(function(k){var P=hi(k),ve=P==O?k.constructor:void 0,He=ve?Wr(ve):"";if(He)switch(He){case Ml:return Ee;case Pl:return G;case zr:return z;case Qf:return H;case Da:return se}return P},"getTag"));function Ql(k,P){return P=P==null?W:P,!!P&&(typeof k=="number"||ft.test(k))&&k>-1&&k%1==0&&k<P}l(Ql,"isIndex");function Pa(k){var P=typeof k;return P=="string"||P=="number"||P=="symbol"||P=="boolean"?k!=="__proto__":k===null}l(Pa,"isKeyable");function ed(k){return!!F&&F in k}l(ed,"isMasked");function Xl(k){var P=k&&k.constructor,ve=typeof P=="function"&&P.prototype||kt;return k===ve}l(Xl,"isPrototype");function td(k){return Q.call(k)}l(td,"objectToString");function Wr(k){if(k!=null){try{return h.call(k)}catch(P){}try{return k+""}catch(P){}}return""}l(Wr,"toSource");function Yl(k,P){return k===P||k!==k&&P!==P}l(Yl,"eq");var nd=$a(function(){return arguments}())?$a:function(k){return pi(k)&&p.call(k,"callee")&&!It.call(k,"callee")},jr=Array.isArray;function Oa(k){return k!=null&&os(k.length)&&!Ua(k)}l(Oa,"isArrayLike");var Wi=Vo||ec;function Jl(k,P){return Ma(k,P)}l(Jl,"isEqual");function Ua(k){if(!ss(k))return!1;var P=hi(k);return P==U||P==I||P==_||P==Z}l(Ua,"isFunction");function os(k){return typeof k=="number"&&k>-1&&k%1==0&&k<=W}l(os,"isLength");function ss(k){var P=typeof k;return k!=null&&(P=="object"||P=="function")}l(ss,"isObject");function pi(k){return k!=null&&typeof k=="object"}l(pi,"isObjectLike");var _n=wt?$t(wt):Gl;function gi(k){return Oa(k)?La(k):Se(k)}l(gi,"keys");function Ha(){return[]}l(Ha,"stubArray");function ec(){return!1}l(ec,"stubFalse"),K.exports=Jl},919:(K,d,B)=>{"use strict";const S=B(6391),N=B(6232),L=B(6796),j=B(292),W=l(m=>m===""||m==="./","isEmptyString"),R=l((m,_,b)=>{_=[].concat(_),m=[].concat(m);let y=new Set,x=new Set,U=new Set,I=0,G=l(O=>{U.add(O.output),b&&b.onResult&&b.onResult(O)},"onResult");for(let O=0;O<_.length;O++){let z=L(String(_[O]),{...b,onResult:G},!0),Z=z.state.negated||z.state.negatedExtglob;Z&&I++;for(let M of m){let H=z(M,!0);!(Z?!H.isMatch:H.isMatch)||(Z?y.add(H.output):(y.delete(H.output),x.add(H.output)))}}let ue=(I===_.length?[...U]:[...x]).filter(O=>!y.has(O));if(b&&ue.length===0){if(b.failglob===!0)throw new Error(`No matches found for "${_.join(", ")}"`);if(b.nonull===!0||b.nullglob===!0)return b.unescape?_.map(O=>O.replace(/\\/g,"")):_}return ue},"micromatch");R.match=R,R.matcher=(m,_)=>L(m,_),R.isMatch=(m,_,b)=>L(_,b)(m),R.any=R.isMatch,R.not=(m,_,b={})=>{_=[].concat(_).map(String);let y=new Set,x=[],U=l(G=>{b.onResult&&b.onResult(G),x.push(G.output)},"onResult"),I=new Set(R(m,_,{...b,onResult:U}));for(let G of x)I.has(G)||y.add(G);return[...y]},R.contains=(m,_,b)=>{if(typeof m!="string")throw new TypeError(`Expected a string: "${S.inspect(m)}"`);if(Array.isArray(_))return _.some(y=>R.contains(m,y,b));if(typeof _=="string"){if(W(m)||W(_))return!1;if(m.includes(_)||m.startsWith("./")&&m.slice(2).includes(_))return!0}return R.isMatch(m,_,{...b,contains:!0})},R.matchKeys=(m,_,b)=>{if(!j.isObject(m))throw new TypeError("Expected the first argument to be an object");let y=R(Object.keys(m),_,b),x={};for(let U of y)x[U]=m[U];return x},R.some=(m,_,b)=>{let y=[].concat(m);for(let x of[].concat(_)){let U=L(String(x),b);if(y.some(I=>U(I)))return!0}return!1},R.every=(m,_,b)=>{let y=[].concat(m);for(let x of[].concat(_)){let U=L(String(x),b);if(!y.every(I=>U(I)))return!1}return!0},R.all=(m,_,b)=>{if(typeof m!="string")throw new TypeError(`Expected a string: "${S.inspect(m)}"`);return[].concat(_).every(y=>L(y,b)(m))},R.capture=(m,_,b)=>{let y=j.isWindows(b),U=L.makeRe(String(m),{...b,capture:!0}).exec(y?j.toPosixSlashes(_):_);if(U)return U.slice(1).map(I=>I===void 0?"":I)},R.makeRe=(...m)=>L.makeRe(...m),R.scan=(...m)=>L.scan(...m),R.parse=(m,_)=>{let b=[];for(let y of[].concat(m||[]))for(let x of N(String(y),_))b.push(L.parse(x,_));return b},R.braces=(m,_)=>{if(typeof m!="string")throw new TypeError("Expected a string");return _&&_.nobrace===!0||!/\{.*\}/.test(m)?[m]:N(m,_)},R.braceExpand=(m,_)=>{if(typeof m!="string")throw new TypeError("Expected a string");return R.braces(m,{..._,expand:!0})},K.exports=R},6796:(K,d,B)=>{"use strict";K.exports=B(5761)},3889:(K,d,B)=>{"use strict";const S=B(6470),N="\\\\/",L=`[^${N}]`,j="\\.",W="\\+",R="\\?",m="\\/",_="(?=.)",b="[^/]",y=`(?:${m}|$)`,x=`(?:^|${m})`,U=`${j}{1,2}${y}`,I=`(?!${j})`,G=`(?!${x}${U})`,te=`(?!${j}{0,1}${y})`,ue=`(?!${U})`,O=`[^.${m}]`,z=`${b}*?`,Z={DOT_LITERAL:j,PLUS_LITERAL:W,QMARK_LITERAL:R,SLASH_LITERAL:m,ONE_CHAR:_,QMARK:b,END_ANCHOR:y,DOTS_SLASH:U,NO_DOT:I,NO_DOTS:G,NO_DOT_SLASH:te,NO_DOTS_SLASH:ue,QMARK_NO_DOT:O,STAR:z,START_ANCHOR:x},M={...Z,SLASH_LITERAL:`[${N}]`,QMARK:L,STAR:`${L}*?`,DOTS_SLASH:`${j}{1,2}(?:[${N}]|$)`,NO_DOT:`(?!${j})`,NO_DOTS:`(?!(?:^|[${N}])${j}{1,2}(?:[${N}]|$))`,NO_DOT_SLASH:`(?!${j}{0,1}(?:[${N}]|$))`,NO_DOTS_SLASH:`(?!${j}{1,2}(?:[${N}]|$))`,QMARK_NO_DOT:`[^.${N}]`,START_ANCHOR:`(?:^|[${N}])`,END_ANCHOR:`(?:[${N}]|$)`},H={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};K.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:H,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:S.sep,extglobChars(J){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${J.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(J){return J===!0?M:Z}}},3969:(K,d,B)=>{"use strict";const S=B(3889),N=B(292),{MAX_LENGTH:L,POSIX_REGEX_SOURCE:j,REGEX_NON_SPECIAL_CHARS:W,REGEX_SPECIAL_CHARS_BACKREF:R,REPLACEMENTS:m}=S,_=l((x,U)=>{if(typeof U.expandRange=="function")return U.expandRange(...x,U);x.sort();const I=`[${x.join("-")}]`;try{new RegExp(I)}catch(G){return x.map(te=>N.escapeRegex(te)).join("..")}return I},"expandRange"),b=l((x,U)=>`Missing ${x}: "${U}" - use "\\\\${U}" to match literal characters`,"syntaxError"),y=l((x,U)=>{if(typeof x!="string")throw new TypeError("Expected a string");x=m[x]||x;const I={...U},G=typeof I.maxLength=="number"?Math.min(L,I.maxLength):L;let te=x.length;if(te>G)throw new SyntaxError(`Input length: ${te}, exceeds maximum allowed length: ${G}`);const ue={type:"bos",value:"",output:I.prepend||""},O=[ue],z=I.capture?"":"?:",Z=N.isWindows(U),M=S.globChars(Z),H=S.extglobChars(M),{DOT_LITERAL:J,PLUS_LITERAL:ne,SLASH_LITERAL:re,ONE_CHAR:se,DOTS_SLASH:he,NO_DOT:Ee,NO_DOT_SLASH:Fe,NO_DOTS_SLASH:Y,QMARK:we,QMARK_NO_DOT:Me,STAR:Je,START_ANCHOR:Pe}=M,ye=l(ke=>`(${z}(?:(?!${Pe}${ke.dot?he:J}).)*?)`,"globstar"),je=I.dot?"":Ee,nt=I.dot?we:Me;let qe=I.bash===!0?ye(I):Je;I.capture&&(qe=`(${qe})`),typeof I.noext=="boolean"&&(I.noextglob=I.noext);const X={input:x,index:-1,start:0,dot:I.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:O};x=N.removePrefix(x,X),te=x.length;const ft=[],We=[],Ve=[];let oe=ue,ce;const Oe=l(()=>X.index===te-1,"eos"),Qe=X.peek=(ke=1)=>x[X.index+ke],dt=X.advance=()=>x[++X.index]||"",Vt=l(()=>x.slice(X.index+1),"remaining"),gt=l((ke="",le=0)=>{X.consumed+=ke,X.index+=le},"consume"),wt=l(ke=>{X.output+=ke.output!=null?ke.output:ke.value,gt(ke.value)},"append"),un=l(()=>{let ke=1;for(;Qe()==="!"&&(Qe(2)!=="("||Qe(3)==="?");)dt(),X.start++,ke++;return ke%2==0?!1:(X.negated=!0,X.start++,!0)},"negate"),rt=l(ke=>{X[ke]++,Ve.push(ke)},"increment"),xt=l(ke=>{X[ke]--,Ve.pop()},"decrement"),Ne=l(ke=>{if(oe.type==="globstar"){const le=X.braces>0&&(ke.type==="comma"||ke.type==="brace"),Ce=ke.extglob===!0||ft.length&&(ke.type==="pipe"||ke.type==="paren");ke.type!=="slash"&&ke.type!=="paren"&&!le&&!Ce&&(X.output=X.output.slice(0,-oe.output.length),oe.type="star",oe.value="*",oe.output=qe,X.output+=oe.output)}if(ft.length&&ke.type!=="paren"&&(ft[ft.length-1].inner+=ke.value),(ke.value||ke.output)&&wt(ke),oe&&oe.type==="text"&&ke.type==="text"){oe.value+=ke.value,oe.output=(oe.output||"")+ke.value;return}ke.prev=oe,O.push(ke),oe=ke},"push"),$t=l((ke,le)=>{const Ce={...H[le],conditions:1,inner:""};Ce.prev=oe,Ce.parens=X.parens,Ce.output=X.output;const Xe=(I.capture?"(":"")+Ce.open;rt("parens"),Ne({type:ke,value:le,output:X.output?"":se}),Ne({type:"paren",extglob:!0,value:dt(),output:Xe}),ft.push(Ce)},"extglobOpen"),Pn=l(ke=>{let le=ke.close+(I.capture?")":""),Ce;if(ke.type==="negate"){let Xe=qe;if(ke.inner&&ke.inner.length>1&&ke.inner.includes("/")&&(Xe=ye(I)),(Xe!==qe||Oe()||/^\)+$/.test(Vt()))&&(le=ke.close=`)$))${Xe}`),ke.inner.includes("*")&&(Ce=Vt())&&/^\.[^\\/.]+$/.test(Ce)){const ht=y(Ce,{...U,fastpaths:!1}).output;le=ke.close=`)${ht})${Xe})`}ke.prev.type==="bos"&&(X.negatedExtglob=!0)}Ne({type:"paren",extglob:!0,value:ce,output:le}),xt("parens")},"extglobClose");if(I.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(x)){let ke=!1,le=x.replace(R,(Ce,Xe,ht,Rt,kt,E)=>Rt==="\\"?(ke=!0,Ce):Rt==="?"?Xe?Xe+Rt+(kt?we.repeat(kt.length):""):E===0?nt+(kt?we.repeat(kt.length):""):we.repeat(ht.length):Rt==="."?J.repeat(ht.length):Rt==="*"?Xe?Xe+Rt+(kt?qe:""):qe:Xe?Ce:`\\${Ce}`);return ke===!0&&(I.unescape===!0?le=le.replace(/\\/g,""):le=le.replace(/\\+/g,Ce=>Ce.length%2==0?"\\\\":Ce?"\\":"")),le===x&&I.contains===!0?(X.output=x,X):(X.output=N.wrapOutput(le,X,U),X)}for(;!Oe();){if(ce=dt(),ce==="\0")continue;if(ce==="\\"){const Ce=Qe();if(Ce==="/"&&I.bash!==!0||Ce==="."||Ce===";")continue;if(!Ce){ce+="\\",Ne({type:"text",value:ce});continue}const Xe=/^\\+/.exec(Vt());let ht=0;if(Xe&&Xe[0].length>2&&(ht=Xe[0].length,X.index+=ht,ht%2!=0&&(ce+="\\")),I.unescape===!0?ce=dt():ce+=dt(),X.brackets===0){Ne({type:"text",value:ce});continue}}if(X.brackets>0&&(ce!=="]"||oe.value==="["||oe.value==="[^")){if(I.posix!==!1&&ce===":"){const Ce=oe.value.slice(1);if(Ce.includes("[")&&(oe.posix=!0,Ce.includes(":"))){const Xe=oe.value.lastIndexOf("["),ht=oe.value.slice(0,Xe),Rt=oe.value.slice(Xe+2),kt=j[Rt];if(kt){oe.value=ht+kt,X.backtrack=!0,dt(),!ue.output&&O.indexOf(oe)===1&&(ue.output=se);continue}}}(ce==="["&&Qe()!==":"||ce==="-"&&Qe()==="]")&&(ce=`\\${ce}`),ce==="]"&&(oe.value==="["||oe.value==="[^")&&(ce=`\\${ce}`),I.posix===!0&&ce==="!"&&oe.value==="["&&(ce="^"),oe.value+=ce,wt({value:ce});continue}if(X.quotes===1&&ce!=='"'){ce=N.escapeRegex(ce),oe.value+=ce,wt({value:ce});continue}if(ce==='"'){X.quotes=X.quotes===1?0:1,I.keepQuotes===!0&&Ne({type:"text",value:ce});continue}if(ce==="("){rt("parens"),Ne({type:"paren",value:ce});continue}if(ce===")"){if(X.parens===0&&I.strictBrackets===!0)throw new SyntaxError(b("opening","("));const Ce=ft[ft.length-1];if(Ce&&X.parens===Ce.parens+1){Pn(ft.pop());continue}Ne({type:"paren",value:ce,output:X.parens?")":"\\)"}),xt("parens");continue}if(ce==="["){if(I.nobracket===!0||!Vt().includes("]")){if(I.nobracket!==!0&&I.strictBrackets===!0)throw new SyntaxError(b("closing","]"));ce=`\\${ce}`}else rt("brackets");Ne({type:"bracket",value:ce});continue}if(ce==="]"){if(I.nobracket===!0||oe&&oe.type==="bracket"&&oe.value.length===1){Ne({type:"text",value:ce,output:`\\${ce}`});continue}if(X.brackets===0){if(I.strictBrackets===!0)throw new SyntaxError(b("opening","["));Ne({type:"text",value:ce,output:`\\${ce}`});continue}xt("brackets");const Ce=oe.value.slice(1);if(oe.posix!==!0&&Ce[0]==="^"&&!Ce.includes("/")&&(ce=`/${ce}`),oe.value+=ce,wt({value:ce}),I.literalBrackets===!1||N.hasRegexChars(Ce))continue;const Xe=N.escapeRegex(oe.value);if(X.output=X.output.slice(0,-oe.value.length),I.literalBrackets===!0){X.output+=Xe,oe.value=Xe;continue}oe.value=`(${z}${Xe}|${oe.value})`,X.output+=oe.value;continue}if(ce==="{"&&I.nobrace!==!0){rt("braces");const Ce={type:"brace",value:ce,output:"(",outputIndex:X.output.length,tokensIndex:X.tokens.length};We.push(Ce),Ne(Ce);continue}if(ce==="}"){const Ce=We[We.length-1];if(I.nobrace===!0||!Ce){Ne({type:"text",value:ce,output:ce});continue}let Xe=")";if(Ce.dots===!0){const ht=O.slice(),Rt=[];for(let kt=ht.length-1;kt>=0&&(O.pop(),ht[kt].type!=="brace");kt--)ht[kt].type!=="dots"&&Rt.unshift(ht[kt].value);Xe=_(Rt,I),X.backtrack=!0}if(Ce.comma!==!0&&Ce.dots!==!0){const ht=X.output.slice(0,Ce.outputIndex),Rt=X.tokens.slice(Ce.tokensIndex);Ce.value=Ce.output="\\{",ce=Xe="\\}",X.output=ht;for(const kt of Rt)X.output+=kt.output||kt.value}Ne({type:"brace",value:ce,output:Xe}),xt("braces"),We.pop();continue}if(ce==="|"){ft.length>0&&ft[ft.length-1].conditions++,Ne({type:"text",value:ce});continue}if(ce===","){let Ce=ce;const Xe=We[We.length-1];Xe&&Ve[Ve.length-1]==="braces"&&(Xe.comma=!0,Ce="|"),Ne({type:"comma",value:ce,output:Ce});continue}if(ce==="/"){if(oe.type==="dot"&&X.index===X.start+1){X.start=X.index+1,X.consumed="",X.output="",O.pop(),oe=ue;continue}Ne({type:"slash",value:ce,output:re});continue}if(ce==="."){if(X.braces>0&&oe.type==="dot"){oe.value==="."&&(oe.output=J);const Ce=We[We.length-1];oe.type="dots",oe.output+=ce,oe.value+=ce,Ce.dots=!0;continue}if(X.braces+X.parens===0&&oe.type!=="bos"&&oe.type!=="slash"){Ne({type:"text",value:ce,output:J});continue}Ne({type:"dot",value:ce,output:J});continue}if(ce==="?"){if(!(oe&&oe.value==="(")&&I.noextglob!==!0&&Qe()==="("&&Qe(2)!=="?"){$t("qmark",ce);continue}if(oe&&oe.type==="paren"){const Xe=Qe();let ht=ce;if(Xe==="<"&&!N.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(oe.value==="("&&!/[!=<:]/.test(Xe)||Xe==="<"&&!/<([!=]|\w+>)/.test(Vt()))&&(ht=`\\${ce}`),Ne({type:"text",value:ce,output:ht});continue}if(I.dot!==!0&&(oe.type==="slash"||oe.type==="bos")){Ne({type:"qmark",value:ce,output:Me});continue}Ne({type:"qmark",value:ce,output:we});continue}if(ce==="!"){if(I.noextglob!==!0&&Qe()==="("&&(Qe(2)!=="?"||!/[!=<:]/.test(Qe(3)))){$t("negate",ce);continue}if(I.nonegate!==!0&&X.index===0){un();continue}}if(ce==="+"){if(I.noextglob!==!0&&Qe()==="("&&Qe(2)!=="?"){$t("plus",ce);continue}if(oe&&oe.value==="("||I.regex===!1){Ne({type:"plus",value:ce,output:ne});continue}if(oe&&(oe.type==="bracket"||oe.type==="paren"||oe.type==="brace")||X.parens>0){Ne({type:"plus",value:ce});continue}Ne({type:"plus",value:ne});continue}if(ce==="@"){if(I.noextglob!==!0&&Qe()==="("&&Qe(2)!=="?"){Ne({type:"at",extglob:!0,value:ce,output:""});continue}Ne({type:"text",value:ce});continue}if(ce!=="*"){(ce==="$"||ce==="^")&&(ce=`\\${ce}`);const Ce=W.exec(Vt());Ce&&(ce+=Ce[0],X.index+=Ce[0].length),Ne({type:"text",value:ce});continue}if(oe&&(oe.type==="globstar"||oe.star===!0)){oe.type="star",oe.star=!0,oe.value+=ce,oe.output=qe,X.backtrack=!0,X.globstar=!0,gt(ce);continue}let ke=Vt();if(I.noextglob!==!0&&/^\([^?]/.test(ke)){$t("star",ce);continue}if(oe.type==="star"){if(I.noglobstar===!0){gt(ce);continue}const Ce=oe.prev,Xe=Ce.prev,ht=Ce.type==="slash"||Ce.type==="bos",Rt=Xe&&(Xe.type==="star"||Xe.type==="globstar");if(I.bash===!0&&(!ht||ke[0]&&ke[0]!=="/")){Ne({type:"star",value:ce,output:""});continue}const kt=X.braces>0&&(Ce.type==="comma"||Ce.type==="brace"),E=ft.length&&(Ce.type==="pipe"||Ce.type==="paren");if(!ht&&Ce.type!=="paren"&&!kt&&!E){Ne({type:"star",value:ce,output:""});continue}for(;ke.slice(0,3)==="/**";){const h=x[X.index+4];if(h&&h!=="/")break;ke=ke.slice(3),gt("/**",3)}if(Ce.type==="bos"&&Oe()){oe.type="globstar",oe.value+=ce,oe.output=ye(I),X.output=oe.output,X.globstar=!0,gt(ce);continue}if(Ce.type==="slash"&&Ce.prev.type!=="bos"&&!Rt&&Oe()){X.output=X.output.slice(0,-(Ce.output+oe.output).length),Ce.output=`(?:${Ce.output}`,oe.type="globstar",oe.output=ye(I)+(I.strictSlashes?")":"|$)"),oe.value+=ce,X.globstar=!0,X.output+=Ce.output+oe.output,gt(ce);continue}if(Ce.type==="slash"&&Ce.prev.type!=="bos"&&ke[0]==="/"){const h=ke[1]!==void 0?"|$":"";X.output=X.output.slice(0,-(Ce.output+oe.output).length),Ce.output=`(?:${Ce.output}`,oe.type="globstar",oe.output=`${ye(I)}${re}|${re}${h})`,oe.value+=ce,X.output+=Ce.output+oe.output,X.globstar=!0,gt(ce+dt()),Ne({type:"slash",value:"/",output:""});continue}if(Ce.type==="bos"&&ke[0]==="/"){oe.type="globstar",oe.value+=ce,oe.output=`(?:^|${re}|${ye(I)}${re})`,X.output=oe.output,X.globstar=!0,gt(ce+dt()),Ne({type:"slash",value:"/",output:""});continue}X.output=X.output.slice(0,-oe.output.length),oe.type="globstar",oe.output=ye(I),oe.value+=ce,X.output+=oe.output,X.globstar=!0,gt(ce);continue}const le={type:"star",value:ce,output:qe};if(I.bash===!0){le.output=".*?",(oe.type==="bos"||oe.type==="slash")&&(le.output=je+le.output),Ne(le);continue}if(oe&&(oe.type==="bracket"||oe.type==="paren")&&I.regex===!0){le.output=ce,Ne(le);continue}(X.index===X.start||oe.type==="slash"||oe.type==="dot")&&(oe.type==="dot"?(X.output+=Fe,oe.output+=Fe):I.dot===!0?(X.output+=Y,oe.output+=Y):(X.output+=je,oe.output+=je),Qe()!=="*"&&(X.output+=se,oe.output+=se)),Ne(le)}for(;X.brackets>0;){if(I.strictBrackets===!0)throw new SyntaxError(b("closing","]"));X.output=N.escapeLast(X.output,"["),xt("brackets")}for(;X.parens>0;){if(I.strictBrackets===!0)throw new SyntaxError(b("closing",")"));X.output=N.escapeLast(X.output,"("),xt("parens")}for(;X.braces>0;){if(I.strictBrackets===!0)throw new SyntaxError(b("closing","}"));X.output=N.escapeLast(X.output,"{"),xt("braces")}if(I.strictSlashes!==!0&&(oe.type==="star"||oe.type==="bracket")&&Ne({type:"maybe_slash",value:"",output:`${re}?`}),X.backtrack===!0){X.output="";for(const ke of X.tokens)X.output+=ke.output!=null?ke.output:ke.value,ke.suffix&&(X.output+=ke.suffix)}return X},"parse");y.fastpaths=(x,U)=>{const I={...U},G=typeof I.maxLength=="number"?Math.min(L,I.maxLength):L,te=x.length;if(te>G)throw new SyntaxError(`Input length: ${te}, exceeds maximum allowed length: ${G}`);x=m[x]||x;const ue=N.isWindows(U),{DOT_LITERAL:O,SLASH_LITERAL:z,ONE_CHAR:Z,DOTS_SLASH:M,NO_DOT:H,NO_DOTS:J,NO_DOTS_SLASH:ne,STAR:re,START_ANCHOR:se}=S.globChars(ue),he=I.dot?J:H,Ee=I.dot?ne:H,Fe=I.capture?"":"?:",Y={negated:!1,prefix:""};let we=I.bash===!0?".*?":re;I.capture&&(we=`(${we})`);const Me=l(je=>je.noglobstar===!0?we:`(${Fe}(?:(?!${se}${je.dot?M:O}).)*?)`,"globstar"),Je=l(je=>{switch(je){case"*":return`${he}${Z}${we}`;case".*":return`${O}${Z}${we}`;case"*.*":return`${he}${we}${O}${Z}${we}`;case"*/*":return`${he}${we}${z}${Z}${Ee}${we}`;case"**":return he+Me(I);case"**/*":return`(?:${he}${Me(I)}${z})?${Ee}${Z}${we}`;case"**/*.*":return`(?:${he}${Me(I)}${z})?${Ee}${we}${O}${Z}${we}`;case"**/.*":return`(?:${he}${Me(I)}${z})?${O}${Z}${we}`;default:{const nt=/^(.*?)\.(\w+)$/.exec(je);if(!nt)return;const qe=Je(nt[1]);return qe?qe+O+nt[2]:void 0}}},"create"),Pe=N.removePrefix(x,Y);let ye=Je(Pe);return ye&&I.strictSlashes!==!0&&(ye+=`${z}?`),ye},K.exports=y},5761:(K,d,B)=>{"use strict";const S=B(6470),N=B(9826),L=B(3969),j=B(292),W=B(3889),R=l(_=>_&&typeof _=="object"&&!Array.isArray(_),"isObject"),m=l((_,b,y=!1)=>{if(Array.isArray(_)){const z=_.map(M=>m(M,b,y));return l(M=>{for(const H of z){const J=H(M);if(J)return J}return!1},"arrayMatcher")}const x=R(_)&&_.tokens&&_.input;if(_===""||typeof _!="string"&&!x)throw new TypeError("Expected pattern to be a non-empty string");const U=b||{},I=j.isWindows(b),G=x?m.compileRe(_,b):m.makeRe(_,b,!1,!0),te=G.state;delete G.state;let ue=l(()=>!1,"isIgnored");if(U.ignore){const z={...b,ignore:null,onMatch:null,onResult:null};ue=m(U.ignore,z,y)}const O=l((z,Z=!1)=>{const{isMatch:M,match:H,output:J}=m.test(z,G,b,{glob:_,posix:I}),ne={glob:_,state:te,regex:G,posix:I,input:z,output:J,match:H,isMatch:M};return typeof U.onResult=="function"&&U.onResult(ne),M===!1?(ne.isMatch=!1,Z?ne:!1):ue(z)?(typeof U.onIgnore=="function"&&U.onIgnore(ne),ne.isMatch=!1,Z?ne:!1):(typeof U.onMatch=="function"&&U.onMatch(ne),Z?ne:!0)},"matcher");return y&&(O.state=te),O},"picomatch");m.test=(_,b,y,{glob:x,posix:U}={})=>{if(typeof _!="string")throw new TypeError("Expected input to be a string");if(_==="")return{isMatch:!1,output:""};const I=y||{},G=I.format||(U?j.toPosixSlashes:null);let te=_===x,ue=te&&G?G(_):_;return te===!1&&(ue=G?G(_):_,te=ue===x),(te===!1||I.capture===!0)&&(I.matchBase===!0||I.basename===!0?te=m.matchBase(_,b,y,U):te=b.exec(ue)),{isMatch:Boolean(te),match:te,output:ue}},m.matchBase=(_,b,y,x=j.isWindows(y))=>(b instanceof RegExp?b:m.makeRe(b,y)).test(S.basename(_)),m.isMatch=(_,b,y)=>m(b,y)(_),m.parse=(_,b)=>Array.isArray(_)?_.map(y=>m.parse(y,b)):L(_,{...b,fastpaths:!1}),m.scan=(_,b)=>N(_,b),m.compileRe=(_,b,y=!1,x=!1)=>{if(y===!0)return _.output;const U=b||{},I=U.contains?"":"^",G=U.contains?"":"$";let te=`${I}(?:${_.output})${G}`;_&&_.negated===!0&&(te=`^(?!${te}).*$`);const ue=m.toRegex(te,b);return x===!0&&(ue.state=_),ue},m.makeRe=(_,b={},y=!1,x=!1)=>{if(!_||typeof _!="string")throw new TypeError("Expected a non-empty string");let U={negated:!1,fastpaths:!0};return b.fastpaths!==!1&&(_[0]==="."||_[0]==="*")&&(U.output=L.fastpaths(_,b)),U.output||(U=L(_,b)),m.compileRe(U,b,y,x)},m.toRegex=(_,b)=>{try{const y=b||{};return new RegExp(_,y.flags||(y.nocase?"i":""))}catch(y){if(b&&b.debug===!0)throw y;return/$^/}},m.constants=W,K.exports=m},9826:(K,d,B)=>{"use strict";const S=B(292),{CHAR_ASTERISK:N,CHAR_AT:L,CHAR_BACKWARD_SLASH:j,CHAR_COMMA:W,CHAR_DOT:R,CHAR_EXCLAMATION_MARK:m,CHAR_FORWARD_SLASH:_,CHAR_LEFT_CURLY_BRACE:b,CHAR_LEFT_PARENTHESES:y,CHAR_LEFT_SQUARE_BRACKET:x,CHAR_PLUS:U,CHAR_QUESTION_MARK:I,CHAR_RIGHT_CURLY_BRACE:G,CHAR_RIGHT_PARENTHESES:te,CHAR_RIGHT_SQUARE_BRACKET:ue}=B(3889),O=l(M=>M===_||M===j,"isPathSeparator"),z=l(M=>{M.isPrefix!==!0&&(M.depth=M.isGlobstar?1/0:1)},"depth"),Z=l((M,H)=>{const J=H||{},ne=M.length-1,re=J.parts===!0||J.scanToEnd===!0,se=[],he=[],Ee=[];let Fe=M,Y=-1,we=0,Me=0,Je=!1,Pe=!1,ye=!1,je=!1,nt=!1,qe=!1,X=!1,ft=!1,We=!1,Ve=!1,oe=0,ce,Oe,Qe={value:"",depth:0,isGlob:!1};const dt=l(()=>Y>=ne,"eos"),Vt=l(()=>Fe.charCodeAt(Y+1),"peek"),gt=l(()=>(ce=Oe,Fe.charCodeAt(++Y)),"advance");for(;Y<ne;){Oe=gt();let Ne;if(Oe===j){X=Qe.backslashes=!0,Oe=gt(),Oe===b&&(qe=!0);continue}if(qe===!0||Oe===b){for(oe++;dt()!==!0&&(Oe=gt());){if(Oe===j){X=Qe.backslashes=!0,gt();continue}if(Oe===b){oe++;continue}if(qe!==!0&&Oe===R&&(Oe=gt())===R){if(Je=Qe.isBrace=!0,ye=Qe.isGlob=!0,Ve=!0,re===!0)continue;break}if(qe!==!0&&Oe===W){if(Je=Qe.isBrace=!0,ye=Qe.isGlob=!0,Ve=!0,re===!0)continue;break}if(Oe===G&&(oe--,oe===0)){qe=!1,Je=Qe.isBrace=!0,Ve=!0;break}}if(re===!0)continue;break}if(Oe===_){if(se.push(Y),he.push(Qe),Qe={value:"",depth:0,isGlob:!1},Ve===!0)continue;if(ce===R&&Y===we+1){we+=2;continue}Me=Y+1;continue}if(J.noext!==!0&&(Oe===U||Oe===L||Oe===N||Oe===I||Oe===m)===!0&&Vt()===y){if(ye=Qe.isGlob=!0,je=Qe.isExtglob=!0,Ve=!0,Oe===m&&Y===we&&(We=!0),re===!0){for(;dt()!==!0&&(Oe=gt());){if(Oe===j){X=Qe.backslashes=!0,Oe=gt();continue}if(Oe===te){ye=Qe.isGlob=!0,Ve=!0;break}}continue}break}if(Oe===N){if(ce===N&&(nt=Qe.isGlobstar=!0),ye=Qe.isGlob=!0,Ve=!0,re===!0)continue;break}if(Oe===I){if(ye=Qe.isGlob=!0,Ve=!0,re===!0)continue;break}if(Oe===x){for(;dt()!==!0&&(Ne=gt());){if(Ne===j){X=Qe.backslashes=!0,gt();continue}if(Ne===ue){Pe=Qe.isBracket=!0,ye=Qe.isGlob=!0,Ve=!0;break}}if(re===!0)continue;break}if(J.nonegate!==!0&&Oe===m&&Y===we){ft=Qe.negated=!0,we++;continue}if(J.noparen!==!0&&Oe===y){if(ye=Qe.isGlob=!0,re===!0){for(;dt()!==!0&&(Oe=gt());){if(Oe===y){X=Qe.backslashes=!0,Oe=gt();continue}if(Oe===te){Ve=!0;break}}continue}break}if(ye===!0){if(Ve=!0,re===!0)continue;break}}J.noext===!0&&(je=!1,ye=!1);let wt=Fe,un="",rt="";we>0&&(un=Fe.slice(0,we),Fe=Fe.slice(we),Me-=we),wt&&ye===!0&&Me>0?(wt=Fe.slice(0,Me),rt=Fe.slice(Me)):ye===!0?(wt="",rt=Fe):wt=Fe,wt&&wt!==""&&wt!=="/"&&wt!==Fe&&O(wt.charCodeAt(wt.length-1))&&(wt=wt.slice(0,-1)),J.unescape===!0&&(rt&&(rt=S.removeBackslashes(rt)),wt&&X===!0&&(wt=S.removeBackslashes(wt)));const xt={prefix:un,input:M,start:we,base:wt,glob:rt,isBrace:Je,isBracket:Pe,isGlob:ye,isExtglob:je,isGlobstar:nt,negated:ft,negatedExtglob:We};if(J.tokens===!0&&(xt.maxDepth=0,O(Oe)||he.push(Qe),xt.tokens=he),J.parts===!0||J.tokens===!0){let Ne;for(let $t=0;$t<se.length;$t++){const Pn=Ne?Ne+1:we,ke=se[$t],le=M.slice(Pn,ke);J.tokens&&($t===0&&we!==0?(he[$t].isPrefix=!0,he[$t].value=un):he[$t].value=le,z(he[$t]),xt.maxDepth+=he[$t].depth),($t!==0||le!=="")&&Ee.push(le),Ne=ke}if(Ne&&Ne+1<M.length){const $t=M.slice(Ne+1);Ee.push($t),J.tokens&&(he[he.length-1].value=$t,z(he[he.length-1]),xt.maxDepth+=he[he.length-1].depth)}xt.slashes=se,xt.parts=Ee}return xt},"scan");K.exports=Z},292:(K,d,B)=>{"use strict";var S=B(6038);const N=B(6470),L=S.platform==="win32",{REGEX_BACKSLASH:j,REGEX_REMOVE_BACKSLASH:W,REGEX_SPECIAL_CHARS:R,REGEX_SPECIAL_CHARS_GLOBAL:m}=B(3889);d.isObject=_=>_!==null&&typeof _=="object"&&!Array.isArray(_),d.hasRegexChars=_=>R.test(_),d.isRegexChar=_=>_.length===1&&d.hasRegexChars(_),d.escapeRegex=_=>_.replace(m,"\\$1"),d.toPosixSlashes=_=>_.replace(j,"/"),d.removeBackslashes=_=>_.replace(W,b=>b==="\\"?"":b),d.supportsLookbehinds=()=>{const _=S.version.slice(1).split(".").map(Number);return _.length===3&&_[0]>=9||_[0]===8&&_[1]>=10},d.isWindows=_=>_&&typeof _.windows=="boolean"?_.windows:L===!0||N.sep==="\\",d.escapeLast=(_,b,y)=>{const x=_.lastIndexOf(b,y);return x===-1?_:_[x-1]==="\\"?d.escapeLast(_,b,x-1):`${_.slice(0,x)}\\${_.slice(x)}`},d.removePrefix=(_,b={})=>{let y=_;return y.startsWith("./")&&(y=y.slice(2),b.prefix="./"),y},d.wrapOutput=(_,b={},y={})=>{const x=y.contains?"":"^",U=y.contains?"":"$";let I=`${x}(?:${_})${U}`;return b.negated===!0&&(I=`(?:^(?!${I}).*$)`),I}},6038:K=>{var d=K.exports={},B,S;function N(){throw new Error("setTimeout has not been defined")}l(N,"defaultSetTimout");function L(){throw new Error("clearTimeout has not been defined")}l(L,"defaultClearTimeout"),function(){try{typeof setTimeout=="function"?B=setTimeout:B=N}catch(G){B=N}try{typeof clearTimeout=="function"?S=clearTimeout:S=L}catch(G){S=L}}();function j(G){if(B===setTimeout)return setTimeout(G,0);if((B===N||!B)&&setTimeout)return B=setTimeout,setTimeout(G,0);try{return B(G,0)}catch(te){try{return B.call(null,G,0)}catch(ue){return B.call(this,G,0)}}}l(j,"runTimeout");function W(G){if(S===clearTimeout)return clearTimeout(G);if((S===L||!S)&&clearTimeout)return S=clearTimeout,clearTimeout(G);try{return S(G)}catch(te){try{return S.call(null,G)}catch(ue){return S.call(this,G)}}}l(W,"runClearTimeout");var R=[],m=!1,_,b=-1;function y(){!m||!_||(m=!1,_.length?R=_.concat(R):b=-1,R.length&&x())}l(y,"cleanUpNextTick");function x(){if(!m){var G=j(y);m=!0;for(var te=R.length;te;){for(_=R,R=[];++b<te;)_&&_[b].run();b=-1,te=R.length}_=null,m=!1,W(G)}}l(x,"drainQueue"),d.nextTick=function(G){var te=new Array(arguments.length-1);if(arguments.length>1)for(var ue=1;ue<arguments.length;ue++)te[ue-1]=arguments[ue];R.push(new U(G,te)),R.length===1&&!m&&j(x)};function U(G,te){this.fun=G,this.array=te}l(U,"Item"),U.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={};function I(){}l(I,"noop"),d.on=I,d.addListener=I,d.once=I,d.off=I,d.removeListener=I,d.removeAllListeners=I,d.emit=I,d.prependListener=I,d.prependOnceListener=I,d.listeners=function(G){return[]},d.binding=function(G){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(G){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},5431:(K,d,B)=>{"use strict";K.exports=B(7905)},7905:(K,d,B)=>{"use strict";var S=B(1417);function N(){return!0}l(N,"_toTrue");function L(){return!1}l(L,"_toFalse");function j(te){return te.then(N,L)}l(j,"pSuccess");function W(te){return te}l(W,"_pass");function R(te){throw te}l(R,"_throw");function m(te){return te.then(W,R)}l(m,"ensurePromise");function _(te,ue){return{result:te,args:ue,expire_id:0,prefetch_id:0,need_prefetch:!1}}l(_,"createCacheObj");function b(te,ue){!te[ue]||(clearTimeout(te[ue].expire_id),clearTimeout(te[ue].prefetch_id),delete te[ue])}l(b,"destroyCacheObj");function y(te,ue){!te[ue]||(te[ue].need_prefetch=!0)}l(y,"askPrefetch");function x(te){var ue=te[0],O=te[1],z=te[2],Z=te[3];if(!!O[z]){if(ue){if(!Z.maxAge)return;O[z].expire_id=setTimeout(b,Z.maxAge,O,z),O[z].prefetch_id=setTimeout(y,Z.maxAge*.7,O,z),O[z].expire_id.unref&&O[z].expire_id.unref(),O[z].prefetch_id.unref&&O[z].prefetch_id.unref();return}if(!Z.maxErrorAge){b(O,z);return}O[z].expire_id=setTimeout(b,Z.maxErrorAge,O,z),O[z].expire_id.unref&&O[z].expire_id.unref()}}l(x,"_track_proceed");function U(te,ue,O){var z=te[ue].result.constructor;z.all([j(te[ue].result),te,ue,O]).then(x)}l(U,"trackCacheObj");function I(te){var ue=te[0],O=te[1],z=te[2],Z=te[3],M=te[4][0];!O[z]||!ue||(O[z].result=M,clearTimeout(O[z].expire_id),U(O,z,Z))}l(I,"_prefetch_proceed");function G(te,ue,O){var z=m(O.fn.apply(null,te[ue].args)),Z=z.constructor;te[ue].need_prefetch=!1,Z.all([j(z),te,ue,O,[z]]).then(I)}l(G,"doPrefetch"),K.exports=l(function(ue,O){var z={},Z=O||{},M=S(Z.resolve),H={fn:ue,maxAge:Z.maxAge||0,maxErrorAge:Z.maxErrorAge||0};function J(){for(var ne=new Array(arguments.length),re=0;re<ne.length;re++)ne[re]=arguments[re];var se=M(ne);return z[se]?z[se].need_prefetch&&G(z,se,H):(z[se]=_(m(H.fn.apply(null,ne)),H.maxAge||H.maxErrorAge?ne:null),U(z,se,H)),z[se].result}return l(J,"memoizedFn"),J.clear=function(){var ne=Object.keys(z);return ne.forEach(function(re){b(z,re)}),ne.length},J},"promiseMemoize")},1417:K=>{"use strict";var d={simple:function(S){return S.length?S.join(""):""},json:function(S){if(!S.length)return"";for(var N=[],L=S.length-1;L>=0;L--)N.push(JSON.stringify(S[L]));return N.join("")}};function B(S){return S.forEach(function(N){if(typeof N=="string"&&!d.hasOwnProperty(N))throw new Error('promise-memoize: unknown value "'+N+'" in resolve option')}),function(N){var L=Math.min(S.length,N.length);if(!L)return"";for(var j=[],W=0;W<L;W++)typeof S[W]=="string"?j.push(d[S[W]]([N[W]])):j.push(S[W](N[W]));return j.join("")}}l(B,"createFlexResolver"),K.exports=l(function(N){if(typeof N=="undefined")return d.simple;if(typeof N=="string"&&d.hasOwnProperty(N))return d[N];if(Array.isArray(N))return B(N);if(Object.prototype.toString.call(N)==="[object Function]")return N;throw new Error("promise-memoize: invalid resolve option")},"createResolver")},2999:(K,d,B)=>{"use strict";/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */const S=B(3338),N=l((O,z,Z)=>{if(S(O)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(z===void 0||O===z)return String(O);if(S(z)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let M={relaxZeros:!0,...Z};typeof M.strictZeros=="boolean"&&(M.relaxZeros=M.strictZeros===!1);let H=String(M.relaxZeros),J=String(M.shorthand),ne=String(M.capture),re=String(M.wrap),se=O+":"+z+"="+H+J+ne+re;if(N.cache.hasOwnProperty(se))return N.cache[se].result;let he=Math.min(O,z),Ee=Math.max(O,z);if(Math.abs(he-Ee)===1){let Je=O+"|"+z;return M.capture?`(${Je})`:M.wrap===!1?Je:`(?:${Je})`}let Fe=te(O)||te(z),Y={min:O,max:z,a:he,b:Ee},we=[],Me=[];if(Fe&&(Y.isPadded=Fe,Y.maxLen=String(Y.max).length),he<0){let Je=Ee<0?Math.abs(Ee):1;Me=R(Je,Math.abs(he),Y,M),he=Y.a=0}return Ee>=0&&(we=R(he,Ee,Y,M)),Y.negatives=Me,Y.positives=we,Y.result=L(Me,we,M),M.capture===!0?Y.result=`(${Y.result})`:M.wrap!==!1&&we.length+Me.length>1&&(Y.result=`(?:${Y.result})`),N.cache[se]=Y,Y.result},"toRegexRange");function L(O,z,Z){let M=m(O,z,"-",!1,Z)||[],H=m(z,O,"",!1,Z)||[],J=m(O,z,"-?",!0,Z)||[];return M.concat(J).concat(H).join("|")}l(L,"collatePatterns");function j(O,z){let Z=1,M=1,H=x(O,Z),J=new Set([z]);for(;O<=H&&H<=z;)J.add(H),Z+=1,H=x(O,Z);for(H=U(z+1,M)-1;O<H&&H<=z;)J.add(H),M+=1,H=U(z+1,M)-1;return J=[...J],J.sort(b),J}l(j,"splitToRanges");function W(O,z,Z){if(O===z)return{pattern:O,count:[],digits:0};let M=_(O,z),H=M.length,J="",ne=0;for(let re=0;re<H;re++){let[se,he]=M[re];se===he?J+=se:se!=="0"||he!=="9"?J+=G(se,he,Z):ne++}return ne&&(J+=Z.shorthand===!0?"\\d":"[0-9]"),{pattern:J,count:[ne],digits:H}}l(W,"rangeToPattern");function R(O,z,Z,M){let H=j(O,z),J=[],ne=O,re;for(let se=0;se<H.length;se++){let he=H[se],Ee=W(String(ne),String(he),M),Fe="";if(!Z.isPadded&&re&&re.pattern===Ee.pattern){re.count.length>1&&re.count.pop(),re.count.push(Ee.count[0]),re.string=re.pattern+I(re.count),ne=he+1;continue}Z.isPadded&&(Fe=ue(he,Z,M)),Ee.string=Fe+Ee.pattern+I(Ee.count),J.push(Ee),ne=he+1,re=Ee}return J}l(R,"splitToPatterns");function m(O,z,Z,M,H){let J=[];for(let ne of O){let{string:re}=ne;!M&&!y(z,"string",re)&&J.push(Z+re),M&&y(z,"string",re)&&J.push(Z+re)}return J}l(m,"filterPatterns");function _(O,z){let Z=[];for(let M=0;M<O.length;M++)Z.push([O[M],z[M]]);return Z}l(_,"zip");function b(O,z){return O>z?1:z>O?-1:0}l(b,"compare");function y(O,z,Z){return O.some(M=>M[z]===Z)}l(y,"contains");function x(O,z){return Number(String(O).slice(0,-z)+"9".repeat(z))}l(x,"countNines");function U(O,z){return O-O%Math.pow(10,z)}l(U,"countZeros");function I(O){let[z=0,Z=""]=O;return Z||z>1?`{${z+(Z?","+Z:"")}}`:""}l(I,"toQuantifier");function G(O,z,Z){return`[${O}${z-O==1?"":"-"}${z}]`}l(G,"toCharacterClass");function te(O){return/^-?(0+)\d/.test(O)}l(te,"hasPadding");function ue(O,z,Z){if(!z.isPadded)return O;let M=Math.abs(z.maxLen-String(O).length),H=Z.relaxZeros!==!1;switch(M){case 0:return"";case 1:return H?"0?":"0";case 2:return H?"0{0,2}":"00";default:return H?`0{0,${M}}`:`0{${M}}`}}l(ue,"padZeros"),N.cache={},N.clearCache=()=>N.cache={},K.exports=N},9742:(K,d)=>{"use strict";d.byteLength=m,d.toByteArray=b,d.fromByteArray=U;for(var B=[],S=[],N=typeof Uint8Array!="undefined"?Uint8Array:Array,L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",j=0,W=L.length;j<W;++j)B[j]=L[j],S[L.charCodeAt(j)]=j;S["-".charCodeAt(0)]=62,S["_".charCodeAt(0)]=63;function R(I){var G=I.length;if(G%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var te=I.indexOf("=");te===-1&&(te=G);var ue=te===G?0:4-te%4;return[te,ue]}l(R,"getLens");function m(I){var G=R(I),te=G[0],ue=G[1];return(te+ue)*3/4-ue}l(m,"byteLength");function _(I,G,te){return(G+te)*3/4-te}l(_,"_byteLength");function b(I){var G,te=R(I),ue=te[0],O=te[1],z=new N(_(I,ue,O)),Z=0,M=O>0?ue-4:ue,H;for(H=0;H<M;H+=4)G=S[I.charCodeAt(H)]<<18|S[I.charCodeAt(H+1)]<<12|S[I.charCodeAt(H+2)]<<6|S[I.charCodeAt(H+3)],z[Z++]=G>>16&255,z[Z++]=G>>8&255,z[Z++]=G&255;return O===2&&(G=S[I.charCodeAt(H)]<<2|S[I.charCodeAt(H+1)]>>4,z[Z++]=G&255),O===1&&(G=S[I.charCodeAt(H)]<<10|S[I.charCodeAt(H+1)]<<4|S[I.charCodeAt(H+2)]>>2,z[Z++]=G>>8&255,z[Z++]=G&255),z}l(b,"toByteArray");function y(I){return B[I>>18&63]+B[I>>12&63]+B[I>>6&63]+B[I&63]}l(y,"tripletToBase64");function x(I,G,te){for(var ue,O=[],z=G;z<te;z+=3)ue=(I[z]<<16&16711680)+(I[z+1]<<8&65280)+(I[z+2]&255),O.push(y(ue));return O.join("")}l(x,"encodeChunk");function U(I){for(var G,te=I.length,ue=te%3,O=[],z=16383,Z=0,M=te-ue;Z<M;Z+=z)O.push(x(I,Z,Z+z>M?M:Z+z));return ue===1?(G=I[te-1],O.push(B[G>>2]+B[G<<4&63]+"==")):ue===2&&(G=(I[te-2]<<8)+I[te-1],O.push(B[G>>10]+B[G>>4&63]+B[G<<2&63]+"=")),O.join("")}l(U,"fromByteArray")},5186:(K,d,B)=>{var S=B(3698),N=B(2505),L=B(6417),j=Function.bind,W=j.bind(j);function R(x,U,I){var G=W(L,null).apply(null,I?[U,I]:[U]);x.api={remove:G},x.remove=G,["before","error","after","wrap"].forEach(function(te){var ue=I?[U,te,I]:[U,te];x[te]=x.api[te]=W(N,null).apply(null,ue)})}l(R,"bindApi");function m(){var x="h",U={registry:{}},I=S.bind(null,U,x);return R(I,U,x),I}l(m,"HookSingular");function _(){var x={registry:{}},U=S.bind(null,x);return R(U,x),U}l(_,"HookCollection");var b=!1;function y(){return b||(console.warn('[before-after-hook]: "Hook()" repurposing warning, use "Hook.Collection()". Read more: https://git.io/upgrade-before-after-hook-to-1.4'),b=!0),_()}l(y,"Hook"),y.Singular=m.bind(),y.Collection=_.bind(),K.exports=y,K.exports.Hook=y,K.exports.Singular=y.Singular,K.exports.Collection=y.Collection},2505:K=>{K.exports=d;function d(B,S,N,L){var j=L;B.registry[N]||(B.registry[N]=[]),S==="before"&&(L=l(function(W,R){return Promise.resolve().then(j.bind(null,R)).then(W.bind(null,R))},"hook")),S==="after"&&(L=l(function(W,R){var m;return Promise.resolve().then(W.bind(null,R)).then(function(_){return m=_,j(m,R)}).then(function(){return m})},"hook")),S==="error"&&(L=l(function(W,R){return Promise.resolve().then(W.bind(null,R)).catch(function(m){return j(m,R)})},"hook")),B.registry[N].push({hook:L,orig:j})}l(d,"addHook")},3698:K=>{K.exports=d;function d(B,S,N,L){if(typeof N!="function")throw new Error("method for before hook must be a function");return L||(L={}),Array.isArray(S)?S.reverse().reduce(function(j,W){return d.bind(null,B,W,j,L)},N)():Promise.resolve().then(function(){return B.registry[S]?B.registry[S].reduce(function(j,W){return W.hook.bind(null,j,L)},N)():N(L)})}l(d,"register")},6417:K=>{K.exports=d;function d(B,S,N){if(!!B.registry[S]){var L=B.registry[S].map(function(j){return j.orig}).indexOf(N);L!==-1&&B.registry[S].splice(L,1)}}l(d,"removeHook")},8764:(K,d,B)=>{"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const S=B(9742),N=B(645),L=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;d.Buffer=m,d.SlowBuffer=z,d.INSPECT_MAX_BYTES=50;const j=2147483647;d.kMaxLength=j,m.TYPED_ARRAY_SUPPORT=W(),!m.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function W(){try{const E=new Uint8Array(1),h={foo:function(){return 42}};return Object.setPrototypeOf(h,Uint8Array.prototype),Object.setPrototypeOf(E,h),E.foo()===42}catch(E){return!1}}l(W,"typedArraySupport"),Object.defineProperty(m.prototype,"parent",{enumerable:!0,get:function(){if(!!m.isBuffer(this))return this.buffer}}),Object.defineProperty(m.prototype,"offset",{enumerable:!0,get:function(){if(!!m.isBuffer(this))return this.byteOffset}});function R(E){if(E>j)throw new RangeError('The value "'+E+'" is invalid for option "size"');const h=new Uint8Array(E);return Object.setPrototypeOf(h,m.prototype),h}l(R,"createBuffer");function m(E,h,p){if(typeof E=="number"){if(typeof h=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(E)}return _(E,h,p)}l(m,"Buffer"),m.poolSize=8192;function _(E,h,p){if(typeof E=="string")return U(E,h);if(ArrayBuffer.isView(E))return G(E);if(E==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof E);if(Ce(E,ArrayBuffer)||E&&Ce(E.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Ce(E,SharedArrayBuffer)||E&&Ce(E.buffer,SharedArrayBuffer)))return te(E,h,p);if(typeof E=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const F=E.valueOf&&E.valueOf();if(F!=null&&F!==E)return m.from(F,h,p);const Q=ue(E);if(Q)return Q;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof E[Symbol.toPrimitive]=="function")return m.from(E[Symbol.toPrimitive]("string"),h,p);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof E)}l(_,"from"),m.from=function(E,h,p){return _(E,h,p)},Object.setPrototypeOf(m.prototype,Uint8Array.prototype),Object.setPrototypeOf(m,Uint8Array);function b(E){if(typeof E!="number")throw new TypeError('"size" argument must be of type number');if(E<0)throw new RangeError('The value "'+E+'" is invalid for option "size"')}l(b,"assertSize");function y(E,h,p){return b(E),E<=0?R(E):h!==void 0?typeof p=="string"?R(E).fill(h,p):R(E).fill(h):R(E)}l(y,"alloc"),m.alloc=function(E,h,p){return y(E,h,p)};function x(E){return b(E),R(E<0?0:O(E)|0)}l(x,"allocUnsafe"),m.allocUnsafe=function(E){return x(E)},m.allocUnsafeSlow=function(E){return x(E)};function U(E,h){if((typeof h!="string"||h==="")&&(h="utf8"),!m.isEncoding(h))throw new TypeError("Unknown encoding: "+h);const p=Z(E,h)|0;let F=R(p);const Q=F.write(E,h);return Q!==p&&(F=F.slice(0,Q)),F}l(U,"fromString");function I(E){const h=E.length<0?0:O(E.length)|0,p=R(h);for(let F=0;F<h;F+=1)p[F]=E[F]&255;return p}l(I,"fromArrayLike");function G(E){if(Ce(E,Uint8Array)){const h=new Uint8Array(E);return te(h.buffer,h.byteOffset,h.byteLength)}return I(E)}l(G,"fromArrayView");function te(E,h,p){if(h<0||E.byteLength<h)throw new RangeError('"offset" is outside of buffer bounds');if(E.byteLength<h+(p||0))throw new RangeError('"length" is outside of buffer bounds');let F;return h===void 0&&p===void 0?F=new Uint8Array(E):p===void 0?F=new Uint8Array(E,h):F=new Uint8Array(E,h,p),Object.setPrototypeOf(F,m.prototype),F}l(te,"fromArrayBuffer");function ue(E){if(m.isBuffer(E)){const h=O(E.length)|0,p=R(h);return p.length===0||E.copy(p,0,0,h),p}if(E.length!==void 0)return typeof E.length!="number"||Xe(E.length)?R(0):I(E);if(E.type==="Buffer"&&Array.isArray(E.data))return I(E.data)}l(ue,"fromObject");function O(E){if(E>=j)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+j.toString(16)+" bytes");return E|0}l(O,"checked");function z(E){return+E!=E&&(E=0),m.alloc(+E)}l(z,"SlowBuffer"),m.isBuffer=l(function(h){return h!=null&&h._isBuffer===!0&&h!==m.prototype},"isBuffer"),m.compare=l(function(h,p){if(Ce(h,Uint8Array)&&(h=m.from(h,h.offset,h.byteLength)),Ce(p,Uint8Array)&&(p=m.from(p,p.offset,p.byteLength)),!m.isBuffer(h)||!m.isBuffer(p))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(h===p)return 0;let F=h.length,Q=p.length;for(let ae=0,pe=Math.min(F,Q);ae<pe;++ae)if(h[ae]!==p[ae]){F=h[ae],Q=p[ae];break}return F<Q?-1:Q<F?1:0},"compare"),m.isEncoding=l(function(h){switch(String(h).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},"isEncoding"),m.concat=l(function(h,p){if(!Array.isArray(h))throw new TypeError('"list" argument must be an Array of Buffers');if(h.length===0)return m.alloc(0);let F;if(p===void 0)for(p=0,F=0;F<h.length;++F)p+=h[F].length;const Q=m.allocUnsafe(p);let ae=0;for(F=0;F<h.length;++F){let pe=h[F];if(Ce(pe,Uint8Array))ae+pe.length>Q.length?(m.isBuffer(pe)||(pe=m.from(pe)),pe.copy(Q,ae)):Uint8Array.prototype.set.call(Q,pe,ae);else if(m.isBuffer(pe))pe.copy(Q,ae);else throw new TypeError('"list" argument must be an Array of Buffers');ae+=pe.length}return Q},"concat");function Z(E,h){if(m.isBuffer(E))return E.length;if(ArrayBuffer.isView(E)||Ce(E,ArrayBuffer))return E.byteLength;if(typeof E!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof E);const p=E.length,F=arguments.length>2&&arguments[2]===!0;if(!F&&p===0)return 0;let Q=!1;for(;;)switch(h){case"ascii":case"latin1":case"binary":return p;case"utf8":case"utf-8":return Ne(E).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return p*2;case"hex":return p>>>1;case"base64":return ke(E).length;default:if(Q)return F?-1:Ne(E).length;h=(""+h).toLowerCase(),Q=!0}}l(Z,"byteLength"),m.byteLength=Z;function M(E,h,p){let F=!1;if((h===void 0||h<0)&&(h=0),h>this.length||((p===void 0||p>this.length)&&(p=this.length),p<=0)||(p>>>=0,h>>>=0,p<=h))return"";for(E||(E="utf8");;)switch(E){case"hex":return je(this,h,p);case"utf8":case"utf-8":return we(this,h,p);case"ascii":return Pe(this,h,p);case"latin1":case"binary":return ye(this,h,p);case"base64":return Y(this,h,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return nt(this,h,p);default:if(F)throw new TypeError("Unknown encoding: "+E);E=(E+"").toLowerCase(),F=!0}}l(M,"slowToString"),m.prototype._isBuffer=!0;function H(E,h,p){const F=E[h];E[h]=E[p],E[p]=F}l(H,"swap"),m.prototype.swap16=l(function(){const h=this.length;if(h%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let p=0;p<h;p+=2)H(this,p,p+1);return this},"swap16"),m.prototype.swap32=l(function(){const h=this.length;if(h%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let p=0;p<h;p+=4)H(this,p,p+3),H(this,p+1,p+2);return this},"swap32"),m.prototype.swap64=l(function(){const h=this.length;if(h%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let p=0;p<h;p+=8)H(this,p,p+7),H(this,p+1,p+6),H(this,p+2,p+5),H(this,p+3,p+4);return this},"swap64"),m.prototype.toString=l(function(){const h=this.length;return h===0?"":arguments.length===0?we(this,0,h):M.apply(this,arguments)},"toString"),m.prototype.toLocaleString=m.prototype.toString,m.prototype.equals=l(function(h){if(!m.isBuffer(h))throw new TypeError("Argument must be a Buffer");return this===h?!0:m.compare(this,h)===0},"equals"),m.prototype.inspect=l(function(){let h="";const p=d.INSPECT_MAX_BYTES;return h=this.toString("hex",0,p).replace(/(.{2})/g,"$1 ").trim(),this.length>p&&(h+=" ... "),"<Buffer "+h+">"},"inspect"),L&&(m.prototype[L]=m.prototype.inspect),m.prototype.compare=l(function(h,p,F,Q,ae){if(Ce(h,Uint8Array)&&(h=m.from(h,h.offset,h.byteLength)),!m.isBuffer(h))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof h);if(p===void 0&&(p=0),F===void 0&&(F=h?h.length:0),Q===void 0&&(Q=0),ae===void 0&&(ae=this.length),p<0||F>h.length||Q<0||ae>this.length)throw new RangeError("out of range index");if(Q>=ae&&p>=F)return 0;if(Q>=ae)return-1;if(p>=F)return 1;if(p>>>=0,F>>>=0,Q>>>=0,ae>>>=0,this===h)return 0;let pe=ae-Q,it=F-p;const At=Math.min(pe,it),It=this.slice(Q,ae),Ot=h.slice(p,F);for(let ut=0;ut<At;++ut)if(It[ut]!==Ot[ut]){pe=It[ut],it=Ot[ut];break}return pe<it?-1:it<pe?1:0},"compare");function J(E,h,p,F,Q){if(E.length===0)return-1;if(typeof p=="string"?(F=p,p=0):p>2147483647?p=2147483647:p<-2147483648&&(p=-2147483648),p=+p,Xe(p)&&(p=Q?0:E.length-1),p<0&&(p=E.length+p),p>=E.length){if(Q)return-1;p=E.length-1}else if(p<0)if(Q)p=0;else return-1;if(typeof h=="string"&&(h=m.from(h,F)),m.isBuffer(h))return h.length===0?-1:ne(E,h,p,F,Q);if(typeof h=="number")return h=h&255,typeof Uint8Array.prototype.indexOf=="function"?Q?Uint8Array.prototype.indexOf.call(E,h,p):Uint8Array.prototype.lastIndexOf.call(E,h,p):ne(E,[h],p,F,Q);throw new TypeError("val must be string, number or Buffer")}l(J,"bidirectionalIndexOf");function ne(E,h,p,F,Q){let ae=1,pe=E.length,it=h.length;if(F!==void 0&&(F=String(F).toLowerCase(),F==="ucs2"||F==="ucs-2"||F==="utf16le"||F==="utf-16le")){if(E.length<2||h.length<2)return-1;ae=2,pe/=2,it/=2,p/=2}function At(Ot,ut){return ae===1?Ot[ut]:Ot.readUInt16BE(ut*ae)}l(At,"read");let It;if(Q){let Ot=-1;for(It=p;It<pe;It++)if(At(E,It)===At(h,Ot===-1?0:It-Ot)){if(Ot===-1&&(Ot=It),It-Ot+1===it)return Ot*ae}else Ot!==-1&&(It-=It-Ot),Ot=-1}else for(p+it>pe&&(p=pe-it),It=p;It>=0;It--){let Ot=!0;for(let ut=0;ut<it;ut++)if(At(E,It+ut)!==At(h,ut)){Ot=!1;break}if(Ot)return It}return-1}l(ne,"arrayIndexOf"),m.prototype.includes=l(function(h,p,F){return this.indexOf(h,p,F)!==-1},"includes"),m.prototype.indexOf=l(function(h,p,F){return J(this,h,p,F,!0)},"indexOf"),m.prototype.lastIndexOf=l(function(h,p,F){return J(this,h,p,F,!1)},"lastIndexOf");function re(E,h,p,F){p=Number(p)||0;const Q=E.length-p;F?(F=Number(F),F>Q&&(F=Q)):F=Q;const ae=h.length;F>ae/2&&(F=ae/2);let pe;for(pe=0;pe<F;++pe){const it=parseInt(h.substr(pe*2,2),16);if(Xe(it))return pe;E[p+pe]=it}return pe}l(re,"hexWrite");function se(E,h,p,F){return le(Ne(h,E.length-p),E,p,F)}l(se,"utf8Write");function he(E,h,p,F){return le($t(h),E,p,F)}l(he,"asciiWrite");function Ee(E,h,p,F){return le(ke(h),E,p,F)}l(Ee,"base64Write");function Fe(E,h,p,F){return le(Pn(h,E.length-p),E,p,F)}l(Fe,"ucs2Write"),m.prototype.write=l(function(h,p,F,Q){if(p===void 0)Q="utf8",F=this.length,p=0;else if(F===void 0&&typeof p=="string")Q=p,F=this.length,p=0;else if(isFinite(p))p=p>>>0,isFinite(F)?(F=F>>>0,Q===void 0&&(Q="utf8")):(Q=F,F=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ae=this.length-p;if((F===void 0||F>ae)&&(F=ae),h.length>0&&(F<0||p<0)||p>this.length)throw new RangeError("Attempt to write outside buffer bounds");Q||(Q="utf8");let pe=!1;for(;;)switch(Q){case"hex":return re(this,h,p,F);case"utf8":case"utf-8":return se(this,h,p,F);case"ascii":case"latin1":case"binary":return he(this,h,p,F);case"base64":return Ee(this,h,p,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Fe(this,h,p,F);default:if(pe)throw new TypeError("Unknown encoding: "+Q);Q=(""+Q).toLowerCase(),pe=!0}},"write"),m.prototype.toJSON=l(function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},"toJSON");function Y(E,h,p){return h===0&&p===E.length?S.fromByteArray(E):S.fromByteArray(E.slice(h,p))}l(Y,"base64Slice");function we(E,h,p){p=Math.min(E.length,p);const F=[];let Q=h;for(;Q<p;){const ae=E[Q];let pe=null,it=ae>239?4:ae>223?3:ae>191?2:1;if(Q+it<=p){let At,It,Ot,ut;switch(it){case 1:ae<128&&(pe=ae);break;case 2:At=E[Q+1],(At&192)==128&&(ut=(ae&31)<<6|At&63,ut>127&&(pe=ut));break;case 3:At=E[Q+1],It=E[Q+2],(At&192)==128&&(It&192)==128&&(ut=(ae&15)<<12|(At&63)<<6|It&63,ut>2047&&(ut<55296||ut>57343)&&(pe=ut));break;case 4:At=E[Q+1],It=E[Q+2],Ot=E[Q+3],(At&192)==128&&(It&192)==128&&(Ot&192)==128&&(ut=(ae&15)<<18|(At&63)<<12|(It&63)<<6|Ot&63,ut>65535&&ut<1114112&&(pe=ut))}}pe===null?(pe=65533,it=1):pe>65535&&(pe-=65536,F.push(pe>>>10&1023|55296),pe=56320|pe&1023),F.push(pe),Q+=it}return Je(F)}l(we,"utf8Slice");const Me=4096;function Je(E){const h=E.length;if(h<=Me)return String.fromCharCode.apply(String,E);let p="",F=0;for(;F<h;)p+=String.fromCharCode.apply(String,E.slice(F,F+=Me));return p}l(Je,"decodeCodePointsArray");function Pe(E,h,p){let F="";p=Math.min(E.length,p);for(let Q=h;Q<p;++Q)F+=String.fromCharCode(E[Q]&127);return F}l(Pe,"asciiSlice");function ye(E,h,p){let F="";p=Math.min(E.length,p);for(let Q=h;Q<p;++Q)F+=String.fromCharCode(E[Q]);return F}l(ye,"latin1Slice");function je(E,h,p){const F=E.length;(!h||h<0)&&(h=0),(!p||p<0||p>F)&&(p=F);let Q="";for(let ae=h;ae<p;++ae)Q+=ht[E[ae]];return Q}l(je,"hexSlice");function nt(E,h,p){const F=E.slice(h,p);let Q="";for(let ae=0;ae<F.length-1;ae+=2)Q+=String.fromCharCode(F[ae]+F[ae+1]*256);return Q}l(nt,"utf16leSlice"),m.prototype.slice=l(function(h,p){const F=this.length;h=~~h,p=p===void 0?F:~~p,h<0?(h+=F,h<0&&(h=0)):h>F&&(h=F),p<0?(p+=F,p<0&&(p=0)):p>F&&(p=F),p<h&&(p=h);const Q=this.subarray(h,p);return Object.setPrototypeOf(Q,m.prototype),Q},"slice");function qe(E,h,p){if(E%1!=0||E<0)throw new RangeError("offset is not uint");if(E+h>p)throw new RangeError("Trying to access beyond buffer length")}l(qe,"checkOffset"),m.prototype.readUintLE=m.prototype.readUIntLE=l(function(h,p,F){h=h>>>0,p=p>>>0,F||qe(h,p,this.length);let Q=this[h],ae=1,pe=0;for(;++pe<p&&(ae*=256);)Q+=this[h+pe]*ae;return Q},"readUIntLE"),m.prototype.readUintBE=m.prototype.readUIntBE=l(function(h,p,F){h=h>>>0,p=p>>>0,F||qe(h,p,this.length);let Q=this[h+--p],ae=1;for(;p>0&&(ae*=256);)Q+=this[h+--p]*ae;return Q},"readUIntBE"),m.prototype.readUint8=m.prototype.readUInt8=l(function(h,p){return h=h>>>0,p||qe(h,1,this.length),this[h]},"readUInt8"),m.prototype.readUint16LE=m.prototype.readUInt16LE=l(function(h,p){return h=h>>>0,p||qe(h,2,this.length),this[h]|this[h+1]<<8},"readUInt16LE"),m.prototype.readUint16BE=m.prototype.readUInt16BE=l(function(h,p){return h=h>>>0,p||qe(h,2,this.length),this[h]<<8|this[h+1]},"readUInt16BE"),m.prototype.readUint32LE=m.prototype.readUInt32LE=l(function(h,p){return h=h>>>0,p||qe(h,4,this.length),(this[h]|this[h+1]<<8|this[h+2]<<16)+this[h+3]*16777216},"readUInt32LE"),m.prototype.readUint32BE=m.prototype.readUInt32BE=l(function(h,p){return h=h>>>0,p||qe(h,4,this.length),this[h]*16777216+(this[h+1]<<16|this[h+2]<<8|this[h+3])},"readUInt32BE"),m.prototype.readBigUInt64LE=Rt(l(function(h){h=h>>>0,wt(h,"offset");const p=this[h],F=this[h+7];(p===void 0||F===void 0)&&un(h,this.length-8);const Q=p+this[++h]*2**8+this[++h]*2**16+this[++h]*2**24,ae=this[++h]+this[++h]*2**8+this[++h]*2**16+F*2**24;return BigInt(Q)+(BigInt(ae)<<BigInt(32))},"readBigUInt64LE")),m.prototype.readBigUInt64BE=Rt(l(function(h){h=h>>>0,wt(h,"offset");const p=this[h],F=this[h+7];(p===void 0||F===void 0)&&un(h,this.length-8);const Q=p*2**24+this[++h]*2**16+this[++h]*2**8+this[++h],ae=this[++h]*2**24+this[++h]*2**16+this[++h]*2**8+F;return(BigInt(Q)<<BigInt(32))+BigInt(ae)},"readBigUInt64BE")),m.prototype.readIntLE=l(function(h,p,F){h=h>>>0,p=p>>>0,F||qe(h,p,this.length);let Q=this[h],ae=1,pe=0;for(;++pe<p&&(ae*=256);)Q+=this[h+pe]*ae;return ae*=128,Q>=ae&&(Q-=Math.pow(2,8*p)),Q},"readIntLE"),m.prototype.readIntBE=l(function(h,p,F){h=h>>>0,p=p>>>0,F||qe(h,p,this.length);let Q=p,ae=1,pe=this[h+--Q];for(;Q>0&&(ae*=256);)pe+=this[h+--Q]*ae;return ae*=128,pe>=ae&&(pe-=Math.pow(2,8*p)),pe},"readIntBE"),m.prototype.readInt8=l(function(h,p){return h=h>>>0,p||qe(h,1,this.length),this[h]&128?(255-this[h]+1)*-1:this[h]},"readInt8"),m.prototype.readInt16LE=l(function(h,p){h=h>>>0,p||qe(h,2,this.length);const F=this[h]|this[h+1]<<8;return F&32768?F|4294901760:F},"readInt16LE"),m.prototype.readInt16BE=l(function(h,p){h=h>>>0,p||qe(h,2,this.length);const F=this[h+1]|this[h]<<8;return F&32768?F|4294901760:F},"readInt16BE"),m.prototype.readInt32LE=l(function(h,p){return h=h>>>0,p||qe(h,4,this.length),this[h]|this[h+1]<<8|this[h+2]<<16|this[h+3]<<24},"readInt32LE"),m.prototype.readInt32BE=l(function(h,p){return h=h>>>0,p||qe(h,4,this.length),this[h]<<24|this[h+1]<<16|this[h+2]<<8|this[h+3]},"readInt32BE"),m.prototype.readBigInt64LE=Rt(l(function(h){h=h>>>0,wt(h,"offset");const p=this[h],F=this[h+7];(p===void 0||F===void 0)&&un(h,this.length-8);const Q=this[h+4]+this[h+5]*2**8+this[h+6]*2**16+(F<<24);return(BigInt(Q)<<BigInt(32))+BigInt(p+this[++h]*2**8+this[++h]*2**16+this[++h]*2**24)},"readBigInt64LE")),m.prototype.readBigInt64BE=Rt(l(function(h){h=h>>>0,wt(h,"offset");const p=this[h],F=this[h+7];(p===void 0||F===void 0)&&un(h,this.length-8);const Q=(p<<24)+this[++h]*2**16+this[++h]*2**8+this[++h];return(BigInt(Q)<<BigInt(32))+BigInt(this[++h]*2**24+this[++h]*2**16+this[++h]*2**8+F)},"readBigInt64BE")),m.prototype.readFloatLE=l(function(h,p){return h=h>>>0,p||qe(h,4,this.length),N.read(this,h,!0,23,4)},"readFloatLE"),m.prototype.readFloatBE=l(function(h,p){return h=h>>>0,p||qe(h,4,this.length),N.read(this,h,!1,23,4)},"readFloatBE"),m.prototype.readDoubleLE=l(function(h,p){return h=h>>>0,p||qe(h,8,this.length),N.read(this,h,!0,52,8)},"readDoubleLE"),m.prototype.readDoubleBE=l(function(h,p){return h=h>>>0,p||qe(h,8,this.length),N.read(this,h,!1,52,8)},"readDoubleBE");function X(E,h,p,F,Q,ae){if(!m.isBuffer(E))throw new TypeError('"buffer" argument must be a Buffer instance');if(h>Q||h<ae)throw new RangeError('"value" argument is out of bounds');if(p+F>E.length)throw new RangeError("Index out of range")}l(X,"checkInt"),m.prototype.writeUintLE=m.prototype.writeUIntLE=l(function(h,p,F,Q){if(h=+h,p=p>>>0,F=F>>>0,!Q){const it=Math.pow(2,8*F)-1;X(this,h,p,F,it,0)}let ae=1,pe=0;for(this[p]=h&255;++pe<F&&(ae*=256);)this[p+pe]=h/ae&255;return p+F},"writeUIntLE"),m.prototype.writeUintBE=m.prototype.writeUIntBE=l(function(h,p,F,Q){if(h=+h,p=p>>>0,F=F>>>0,!Q){const it=Math.pow(2,8*F)-1;X(this,h,p,F,it,0)}let ae=F-1,pe=1;for(this[p+ae]=h&255;--ae>=0&&(pe*=256);)this[p+ae]=h/pe&255;return p+F},"writeUIntBE"),m.prototype.writeUint8=m.prototype.writeUInt8=l(function(h,p,F){return h=+h,p=p>>>0,F||X(this,h,p,1,255,0),this[p]=h&255,p+1},"writeUInt8"),m.prototype.writeUint16LE=m.prototype.writeUInt16LE=l(function(h,p,F){return h=+h,p=p>>>0,F||X(this,h,p,2,65535,0),this[p]=h&255,this[p+1]=h>>>8,p+2},"writeUInt16LE"),m.prototype.writeUint16BE=m.prototype.writeUInt16BE=l(function(h,p,F){return h=+h,p=p>>>0,F||X(this,h,p,2,65535,0),this[p]=h>>>8,this[p+1]=h&255,p+2},"writeUInt16BE"),m.prototype.writeUint32LE=m.prototype.writeUInt32LE=l(function(h,p,F){return h=+h,p=p>>>0,F||X(this,h,p,4,4294967295,0),this[p+3]=h>>>24,this[p+2]=h>>>16,this[p+1]=h>>>8,this[p]=h&255,p+4},"writeUInt32LE"),m.prototype.writeUint32BE=m.prototype.writeUInt32BE=l(function(h,p,F){return h=+h,p=p>>>0,F||X(this,h,p,4,4294967295,0),this[p]=h>>>24,this[p+1]=h>>>16,this[p+2]=h>>>8,this[p+3]=h&255,p+4},"writeUInt32BE");function ft(E,h,p,F,Q){gt(h,F,Q,E,p,7);let ae=Number(h&BigInt(4294967295));E[p++]=ae,ae=ae>>8,E[p++]=ae,ae=ae>>8,E[p++]=ae,ae=ae>>8,E[p++]=ae;let pe=Number(h>>BigInt(32)&BigInt(4294967295));return E[p++]=pe,pe=pe>>8,E[p++]=pe,pe=pe>>8,E[p++]=pe,pe=pe>>8,E[p++]=pe,p}l(ft,"wrtBigUInt64LE");function We(E,h,p,F,Q){gt(h,F,Q,E,p,7);let ae=Number(h&BigInt(4294967295));E[p+7]=ae,ae=ae>>8,E[p+6]=ae,ae=ae>>8,E[p+5]=ae,ae=ae>>8,E[p+4]=ae;let pe=Number(h>>BigInt(32)&BigInt(4294967295));return E[p+3]=pe,pe=pe>>8,E[p+2]=pe,pe=pe>>8,E[p+1]=pe,pe=pe>>8,E[p]=pe,p+8}l(We,"wrtBigUInt64BE"),m.prototype.writeBigUInt64LE=Rt(l(function(h,p=0){return ft(this,h,p,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64LE")),m.prototype.writeBigUInt64BE=Rt(l(function(h,p=0){return We(this,h,p,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64BE")),m.prototype.writeIntLE=l(function(h,p,F,Q){if(h=+h,p=p>>>0,!Q){const At=Math.pow(2,8*F-1);X(this,h,p,F,At-1,-At)}let ae=0,pe=1,it=0;for(this[p]=h&255;++ae<F&&(pe*=256);)h<0&&it===0&&this[p+ae-1]!==0&&(it=1),this[p+ae]=(h/pe>>0)-it&255;return p+F},"writeIntLE"),m.prototype.writeIntBE=l(function(h,p,F,Q){if(h=+h,p=p>>>0,!Q){const At=Math.pow(2,8*F-1);X(this,h,p,F,At-1,-At)}let ae=F-1,pe=1,it=0;for(this[p+ae]=h&255;--ae>=0&&(pe*=256);)h<0&&it===0&&this[p+ae+1]!==0&&(it=1),this[p+ae]=(h/pe>>0)-it&255;return p+F},"writeIntBE"),m.prototype.writeInt8=l(function(h,p,F){return h=+h,p=p>>>0,F||X(this,h,p,1,127,-128),h<0&&(h=255+h+1),this[p]=h&255,p+1},"writeInt8"),m.prototype.writeInt16LE=l(function(h,p,F){return h=+h,p=p>>>0,F||X(this,h,p,2,32767,-32768),this[p]=h&255,this[p+1]=h>>>8,p+2},"writeInt16LE"),m.prototype.writeInt16BE=l(function(h,p,F){return h=+h,p=p>>>0,F||X(this,h,p,2,32767,-32768),this[p]=h>>>8,this[p+1]=h&255,p+2},"writeInt16BE"),m.prototype.writeInt32LE=l(function(h,p,F){return h=+h,p=p>>>0,F||X(this,h,p,4,2147483647,-2147483648),this[p]=h&255,this[p+1]=h>>>8,this[p+2]=h>>>16,this[p+3]=h>>>24,p+4},"writeInt32LE"),m.prototype.writeInt32BE=l(function(h,p,F){return h=+h,p=p>>>0,F||X(this,h,p,4,2147483647,-2147483648),h<0&&(h=4294967295+h+1),this[p]=h>>>24,this[p+1]=h>>>16,this[p+2]=h>>>8,this[p+3]=h&255,p+4},"writeInt32BE"),m.prototype.writeBigInt64LE=Rt(l(function(h,p=0){return ft(this,h,p,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64LE")),m.prototype.writeBigInt64BE=Rt(l(function(h,p=0){return We(this,h,p,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64BE"));function Ve(E,h,p,F,Q,ae){if(p+F>E.length)throw new RangeError("Index out of range");if(p<0)throw new RangeError("Index out of range")}l(Ve,"checkIEEE754");function oe(E,h,p,F,Q){return h=+h,p=p>>>0,Q||Ve(E,h,p,4,34028234663852886e22,-34028234663852886e22),N.write(E,h,p,F,23,4),p+4}l(oe,"writeFloat"),m.prototype.writeFloatLE=l(function(h,p,F){return oe(this,h,p,!0,F)},"writeFloatLE"),m.prototype.writeFloatBE=l(function(h,p,F){return oe(this,h,p,!1,F)},"writeFloatBE");function ce(E,h,p,F,Q){return h=+h,p=p>>>0,Q||Ve(E,h,p,8,17976931348623157e292,-17976931348623157e292),N.write(E,h,p,F,52,8),p+8}l(ce,"writeDouble"),m.prototype.writeDoubleLE=l(function(h,p,F){return ce(this,h,p,!0,F)},"writeDoubleLE"),m.prototype.writeDoubleBE=l(function(h,p,F){return ce(this,h,p,!1,F)},"writeDoubleBE"),m.prototype.copy=l(function(h,p,F,Q){if(!m.isBuffer(h))throw new TypeError("argument should be a Buffer");if(F||(F=0),!Q&&Q!==0&&(Q=this.length),p>=h.length&&(p=h.length),p||(p=0),Q>0&&Q<F&&(Q=F),Q===F||h.length===0||this.length===0)return 0;if(p<0)throw new RangeError("targetStart out of bounds");if(F<0||F>=this.length)throw new RangeError("Index out of range");if(Q<0)throw new RangeError("sourceEnd out of bounds");Q>this.length&&(Q=this.length),h.length-p<Q-F&&(Q=h.length-p+F);const ae=Q-F;return this===h&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(p,F,Q):Uint8Array.prototype.set.call(h,this.subarray(F,Q),p),ae},"copy"),m.prototype.fill=l(function(h,p,F,Q){if(typeof h=="string"){if(typeof p=="string"?(Q=p,p=0,F=this.length):typeof F=="string"&&(Q=F,F=this.length),Q!==void 0&&typeof Q!="string")throw new TypeError("encoding must be a string");if(typeof Q=="string"&&!m.isEncoding(Q))throw new TypeError("Unknown encoding: "+Q);if(h.length===1){const pe=h.charCodeAt(0);(Q==="utf8"&&pe<128||Q==="latin1")&&(h=pe)}}else typeof h=="number"?h=h&255:typeof h=="boolean"&&(h=Number(h));if(p<0||this.length<p||this.length<F)throw new RangeError("Out of range index");if(F<=p)return this;p=p>>>0,F=F===void 0?this.length:F>>>0,h||(h=0);let ae;if(typeof h=="number")for(ae=p;ae<F;++ae)this[ae]=h;else{const pe=m.isBuffer(h)?h:m.from(h,Q),it=pe.length;if(it===0)throw new TypeError('The value "'+h+'" is invalid for argument "value"');for(ae=0;ae<F-p;++ae)this[ae+p]=pe[ae%it]}return this},"fill");const Oe={};function Qe(E,h,p){Oe[E]=l(class extends p{constructor(){super();Object.defineProperty(this,"message",{value:h.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${E}]`,this.stack,delete this.name}get code(){return E}set code(Q){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Q,writable:!0})}toString(){return`${this.name} [${E}]: ${this.message}`}},"NodeError")}l(Qe,"E"),Qe("ERR_BUFFER_OUT_OF_BOUNDS",function(E){return E?`${E} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Qe("ERR_INVALID_ARG_TYPE",function(E,h){return`The "${E}" argument must be of type number. Received type ${typeof h}`},TypeError),Qe("ERR_OUT_OF_RANGE",function(E,h,p){let F=`The value of "${E}" is out of range.`,Q=p;return Number.isInteger(p)&&Math.abs(p)>2**32?Q=dt(String(p)):typeof p=="bigint"&&(Q=String(p),(p>BigInt(2)**BigInt(32)||p<-(BigInt(2)**BigInt(32)))&&(Q=dt(Q)),Q+="n"),F+=` It must be ${h}. Received ${Q}`,F},RangeError);function dt(E){let h="",p=E.length;const F=E[0]==="-"?1:0;for(;p>=F+4;p-=3)h=`_${E.slice(p-3,p)}${h}`;return`${E.slice(0,p)}${h}`}l(dt,"addNumericalSeparator");function Vt(E,h,p){wt(h,"offset"),(E[h]===void 0||E[h+p]===void 0)&&un(h,E.length-(p+1))}l(Vt,"checkBounds");function gt(E,h,p,F,Q,ae){if(E>p||E<h){const pe=typeof h=="bigint"?"n":"";let it;throw ae>3?h===0||h===BigInt(0)?it=`>= 0${pe} and < 2${pe} ** ${(ae+1)*8}${pe}`:it=`>= -(2${pe} ** ${(ae+1)*8-1}${pe}) and < 2 ** ${(ae+1)*8-1}${pe}`:it=`>= ${h}${pe} and <= ${p}${pe}`,new Oe.ERR_OUT_OF_RANGE("value",it,E)}Vt(F,Q,ae)}l(gt,"checkIntBI");function wt(E,h){if(typeof E!="number")throw new Oe.ERR_INVALID_ARG_TYPE(h,"number",E)}l(wt,"validateNumber");function un(E,h,p){throw Math.floor(E)!==E?(wt(E,p),new Oe.ERR_OUT_OF_RANGE(p||"offset","an integer",E)):h<0?new Oe.ERR_BUFFER_OUT_OF_BOUNDS:new Oe.ERR_OUT_OF_RANGE(p||"offset",`>= ${p?1:0} and <= ${h}`,E)}l(un,"boundsError");const rt=/[^+/0-9A-Za-z-_]/g;function xt(E){if(E=E.split("=")[0],E=E.trim().replace(rt,""),E.length<2)return"";for(;E.length%4!=0;)E=E+"=";return E}l(xt,"base64clean");function Ne(E,h){h=h||1/0;let p;const F=E.length;let Q=null;const ae=[];for(let pe=0;pe<F;++pe){if(p=E.charCodeAt(pe),p>55295&&p<57344){if(!Q){if(p>56319){(h-=3)>-1&&ae.push(239,191,189);continue}else if(pe+1===F){(h-=3)>-1&&ae.push(239,191,189);continue}Q=p;continue}if(p<56320){(h-=3)>-1&&ae.push(239,191,189),Q=p;continue}p=(Q-55296<<10|p-56320)+65536}else Q&&(h-=3)>-1&&ae.push(239,191,189);if(Q=null,p<128){if((h-=1)<0)break;ae.push(p)}else if(p<2048){if((h-=2)<0)break;ae.push(p>>6|192,p&63|128)}else if(p<65536){if((h-=3)<0)break;ae.push(p>>12|224,p>>6&63|128,p&63|128)}else if(p<1114112){if((h-=4)<0)break;ae.push(p>>18|240,p>>12&63|128,p>>6&63|128,p&63|128)}else throw new Error("Invalid code point")}return ae}l(Ne,"utf8ToBytes");function $t(E){const h=[];for(let p=0;p<E.length;++p)h.push(E.charCodeAt(p)&255);return h}l($t,"asciiToBytes");function Pn(E,h){let p,F,Q;const ae=[];for(let pe=0;pe<E.length&&!((h-=2)<0);++pe)p=E.charCodeAt(pe),F=p>>8,Q=p%256,ae.push(Q),ae.push(F);return ae}l(Pn,"utf16leToBytes");function ke(E){return S.toByteArray(xt(E))}l(ke,"base64ToBytes");function le(E,h,p,F){let Q;for(Q=0;Q<F&&!(Q+p>=h.length||Q>=E.length);++Q)h[Q+p]=E[Q];return Q}l(le,"blitBuffer");function Ce(E,h){return E instanceof h||E!=null&&E.constructor!=null&&E.constructor.name!=null&&E.constructor.name===h.name}l(Ce,"isInstance");function Xe(E){return E!==E}l(Xe,"numberIsNaN");const ht=function(){const E="0123456789abcdef",h=new Array(256);for(let p=0;p<16;++p){const F=p*16;for(let Q=0;Q<16;++Q)h[F+Q]=E[p]+E[Q]}return h}();function Rt(E){return typeof BigInt=="undefined"?kt:E}l(Rt,"defineBigIntMethod");function kt(){throw new Error("BigInt not supported")}l(kt,"BufferBigIntNotDefined")},1:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__(8764).Buffer;const Token=__webpack_require__(3416),strtok3=__webpack_require__(5849),{stringToBytes,tarHeaderChecksumMatches,uint32SyncSafeToken}=__webpack_require__(6188),supported=__webpack_require__(9898),minimumBytes=4100;async function fromStream(K){const d=await strtok3.fromStream(K);try{return await fromTokenizer(d)}finally{await d.close()}}l(fromStream,"fromStream");async function fromBuffer(K){if(!(K instanceof Uint8Array||K instanceof ArrayBuffer||Buffer.isBuffer(K)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof K}\``);const d=K instanceof Buffer?K:Buffer.from(K);if(!(d&&d.length>1))return;const B=strtok3.fromBuffer(d);return fromTokenizer(B)}l(fromBuffer,"fromBuffer");function _check(K,d,B){B={offset:0,...B};for(const[S,N]of d.entries())if(B.mask){if(N!==(B.mask[S]&K[S+B.offset]))return!1}else if(N!==K[S+B.offset])return!1;return!0}l(_check,"_check");async function fromTokenizer(K){try{return _fromTokenizer(K)}catch(d){if(!(d instanceof strtok3.EndOfStreamError))throw d}}l(fromTokenizer,"fromTokenizer");async function _fromTokenizer(K){let d=Buffer.alloc(minimumBytes);const B=12,S=l((L,j)=>_check(d,L,j),"check"),N=l((L,j)=>S(stringToBytes(L),j),"checkString");if(K.fileInfo.size||(K.fileInfo.size=Number.MAX_SAFE_INTEGER),await K.peekBuffer(d,{length:B,mayBeLess:!0}),S([66,77]))return{ext:"bmp",mime:"image/bmp"};if(S([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(S([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(S([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(S([37,33]))return await K.peekBuffer(d,{length:24,mayBeLess:!0}),N("PS-Adobe-",{offset:2})&&N(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(S([31,160])||S([31,157]))return{ext:"Z",mime:"application/x-compress"};if(S([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(S([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(S([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(S([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(N("ID3")){await K.ignore(6);const L=await K.readToken(uint32SyncSafeToken);return K.position+L>K.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await K.ignore(L),fromTokenizer(K))}if(N("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((d[0]===67||d[0]===70)&&S([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(S([71,73,70]))return{ext:"gif",mime:"image/gif"};if(N("FLIF"))return{ext:"flif",mime:"image/flif"};if(N("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(N("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(N("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(N("FORM"))return{ext:"aif",mime:"audio/aiff"};if(N("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(S([80,75,3,4])){try{for(;K.position+30<K.fileInfo.size;){await K.readBuffer(d,{length:30});const L={compressedSize:d.readUInt32LE(18),uncompressedSize:d.readUInt32LE(22),filenameLength:d.readUInt16LE(26),extraFieldLength:d.readUInt16LE(28)};if(L.filename=await K.readToken(new Token.StringType(L.filenameLength,"utf-8")),await K.ignore(L.extraFieldLength),L.filename==="META-INF/mozilla.rsa")return{ext:"xpi",mime:"application/x-xpinstall"};if(L.filename.endsWith(".rels")||L.filename.endsWith(".xml"))switch(L.filename.split("/")[0]){case"_rels":break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};default:break}if(L.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(L.filename.startsWith("3D/")&&L.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if(L.filename==="mimetype"&&L.compressedSize===L.uncompressedSize)switch(await K.readToken(new Token.StringType(L.compressedSize,"utf-8"))){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};default:}if(L.compressedSize===0){let j=-1;for(;j<0&&K.position<K.fileInfo.size;)await K.peekBuffer(d,{mayBeLess:!0}),j=d.indexOf("504B0304",0,"hex"),await K.ignore(j>=0?j:d.length)}else await K.ignore(L.compressedSize)}}catch(L){if(!(L instanceof strtok3.EndOfStreamError))throw L}return{ext:"zip",mime:"application/zip"}}if(N("OggS")){await K.ignore(28);const L=Buffer.alloc(8);return await K.readBuffer(L),_check(L,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:_check(L,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:_check(L,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:_check(L,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:_check(L,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:_check(L,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(S([80,75])&&(d[2]===3||d[2]===5||d[2]===7)&&(d[3]===4||d[3]===6||d[3]===8))return{ext:"zip",mime:"application/zip"};if(N("ftyp",{offset:4})&&(d[8]&96)!=0){const L=d.toString("binary",8,12).replace("\0"," ").trim();switch(L){case"avif":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return L.startsWith("3g")?L.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(N("MThd"))return{ext:"mid",mime:"audio/midi"};if(N("wOFF")&&(S([0,1,0,0],{offset:4})||N("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(N("wOF2")&&(S([0,1,0,0],{offset:4})||N("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(S([212,195,178,161])||S([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(N("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(N("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(N("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(S([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(N("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(N("%PDF")){await K.ignore(1350);const L=10*1024*1024,j=Buffer.alloc(Math.min(L,K.fileInfo.size));return await K.readBuffer(j,{mayBeLess:!0}),j.includes(Buffer.from("AIPrivateData"))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"}}if(S([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(S([73,73,42,0]))return N("CR",{offset:8})?{ext:"cr2",mime:"image/x-canon-cr2"}:S([28,0,254,0],{offset:8})||S([31,0,11,0],{offset:8})?{ext:"nef",mime:"image/x-nikon-nef"}:S([8,0,0,0],{offset:4})&&(S([45,0,254,0],{offset:8})||S([39,0,254,0],{offset:8}))?{ext:"dng",mime:"image/x-adobe-dng"}:(d=Buffer.alloc(24),await K.peekBuffer(d),(S([16,251,134,1],{offset:4})||S([8,0,0,0],{offset:4}))&&S([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9})?{ext:"arw",mime:"image/x-sony-arw"}:{ext:"tif",mime:"image/tiff"});if(S([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(N("MAC "))return{ext:"ape",mime:"audio/ape"};if(S([26,69,223,163])){async function L(){const _=await K.peekNumber(Token.UINT8);let b=128,y=0;for(;(_&b)==0;)++y,b>>=1;const x=Buffer.alloc(y+1);return await K.readBuffer(x),x}l(L,"readField");async function j(){const _=await L(),b=await L();b[0]^=128>>b.length-1;const y=Math.min(6,b.length);return{id:_.readUIntBE(0,_.length),len:b.readUIntBE(b.length-y,y)}}l(j,"readElement");async function W(_,b){for(;b>0;){const y=await j();if(y.id===17026)return K.readToken(new Token.StringType(y.len,"utf-8"));await K.ignore(y.len),--b}}l(W,"readChildren");const R=await j();switch(await W(1,R.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(S([82,73,70,70])){if(S([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(S([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(S([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(N("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(S([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(N("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(N("MSCF")||N("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(S([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(S([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(S([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(S([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(N("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(N("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(S([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(N("IMPM"))return{ext:"it",mime:"audio/x-it"};if(N("-lh0-",{offset:2})||N("-lh1-",{offset:2})||N("-lh2-",{offset:2})||N("-lh3-",{offset:2})||N("-lh4-",{offset:2})||N("-lh5-",{offset:2})||N("-lh6-",{offset:2})||N("-lh7-",{offset:2})||N("-lzs-",{offset:2})||N("-lz4-",{offset:2})||N("-lz5-",{offset:2})||N("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(S([0,0,1,186])){if(S([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(S([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(N("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(S([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(N("<?xml "))return{ext:"xml",mime:"application/xml"};if(S([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(S([82,97,114,33,26,7])&&(d[6]===0||d[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(N("solid "))return{ext:"stl",mime:"model/stl"};if(N("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(N("!<arch>"))return await K.ignore(8),await K.readToken(new Token.StringType(13,"ascii"))==="debian-binary"?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(S([137,80,78,71,13,10,26,10])){await K.ignore(8);async function L(){return{length:await K.readToken(Token.INT32_BE),type:await K.readToken(new Token.StringType(4,"binary"))}}l(L,"readChunkHeader");do{const j=await L();if(j.length<0)return;switch(j.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await K.ignore(j.length+4)}}while(K.position+8<K.fileInfo.size);return{ext:"png",mime:"image/png"}}if(S([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(S([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(S([102,114,101,101],{offset:4})||S([109,100,97,116],{offset:4})||S([109,111,111,118],{offset:4})||S([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(S([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(N("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(S([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(S([48,38,178,117,142,102,207,17,166,217])){async function L(){const j=Buffer.alloc(16);return await K.readBuffer(j),{id:j,size:Number(await K.readToken(Token.UINT64_LE))}}for(l(L,"readHeader"),await K.ignore(30);K.position+24<K.fileInfo.size;){const j=await L();let W=j.size-24;if(_check(j.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const R=Buffer.alloc(16);if(W-=await K.readBuffer(R),_check(R,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(_check(R,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await K.ignore(W)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(S([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((S([126,16,4])||S([126,24,4]))&&S([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(S([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(S([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await K.ignore(20),await K.readToken(new Token.StringType(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(S([255,10])||S([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(S([0,0,1,186])||S([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(S([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(S([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(S([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(S([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await K.peekBuffer(d,{length:Math.min(256,K.fileInfo.size),mayBeLess:!0}),N("BEGIN:")){if(N("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(N("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(N("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(N("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(N("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(S([4,0,0,0])&&d.length>=16){const L=d.readUInt32LE(12);if(L>12&&d.length>=L+16)try{const j=d.slice(16,L+16).toString();if(JSON.parse(j).files)return{ext:"asar",mime:"application/x-asar"}}catch(j){}}if(S([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(N("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(S([71],{offset:4})&&(S([71],{offset:192})||S([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(S([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(S([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(S([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(S([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(S([76,80],{offset:34})&&(S([0,0,1],{offset:8})||S([1,0,2],{offset:8})||S([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(S([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await K.peekBuffer(d,{length:Math.min(512,K.fileInfo.size),mayBeLess:!0}),tarHeaderChecksumMatches(d))return{ext:"tar",mime:"application/x-tar"};if(S([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0]))return{ext:"skp",mime:"application/vnd.sketchup.skp"};if(N("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(d.length>=2&&S([255,224],{offset:0,mask:[255,224]})){if(S([16],{offset:1,mask:[22]}))return S([8],{offset:1,mask:[8]})?{ext:"aac",mime:"audio/aac"}:{ext:"aac",mime:"audio/aac"};if(S([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(S([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(S([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}l(_fromTokenizer,"_fromTokenizer");const stream=l(readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",async()=>{const K=new stream.PassThrough;let d;stream.pipeline?d=stream.pipeline(readableStream,K,()=>{}):d=readableStream.pipe(K);const B=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0);try{const S=await fromBuffer(B);K.fileType=S}catch(S){reject(S)}resolve(d)})}),"stream"),fileType={fromStream,fromTokenizer,fromBuffer,stream};Object.defineProperty(fileType,"extensions",{get(){return new Set(supported.extensions)}}),Object.defineProperty(fileType,"mimeTypes",{get(){return new Set(supported.mimeTypes)}}),module.exports=fileType},7769:(K,d,B)=>{"use strict";const S=B(6597),N=B(1);async function L(W){const R=await S.fromFile(W);try{return await N.fromTokenizer(R)}finally{await R.close()}}l(L,"fromFile");const j={fromFile:L};Object.assign(j,N),Object.defineProperty(j,"extensions",{get(){return N.extensions}}),Object.defineProperty(j,"mimeTypes",{get(){return N.mimeTypes}}),K.exports=j},9898:K=>{"use strict";K.exports={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]}},6188:(K,d)=>{"use strict";d.stringToBytes=B=>[...B].map(S=>S.charCodeAt(0)),d.tarHeaderChecksumMatches=(B,S=0)=>{const N=parseInt(B.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(N))return!1;let L=8*32;for(let j=S;j<S+148;j++)L+=B[j];for(let j=S+156;j<S+512;j++)L+=B[j];return N===L},d.uint32SyncSafeToken={get:(B,S)=>B[S+3]&127|B[S+2]<<7|B[S+1]<<14|B[S]<<21,len:4}},7360:function(K,d){var B,S,N;(function(L,j){S=[],B=j,N=typeof B=="function"?B.apply(d,S):B,N!==void 0&&(K.exports=N)})(this,l(function(){function j(O){var z={single:function(Z,M,H){if(!Z||(G(Z)||(Z=z.getPreparedSearch(Z)),!M))return null;G(M)||(M=z.getPrepared(M));var J=H&&H.allowTypo!==void 0?H.allowTypo:O&&O.allowTypo!==void 0?O.allowTypo:!0,ne=J?z.algorithm:z.algorithmNoTypo;return ne(Z,M,Z[0])},go:function(Z,M,H){if(!Z)return _;Z=z.prepareSearch(Z);var J=Z[0],ne=H&&H.threshold||O&&O.threshold||-9007199254740991,re=H&&H.limit||O&&O.limit||9007199254740991,se=H&&H.allowTypo!==void 0?H.allowTypo:O&&O.allowTypo!==void 0?O.allowTypo:!0,he=se?z.algorithm:z.algorithmNoTypo,Ee=0,Fe=0,Y=M.length;if(H&&H.keys)for(var we=H.scoreFn||U,Me=H.keys,Je=Me.length,Pe=Y-1;Pe>=0;--Pe){for(var ye=M[Pe],je=new Array(Je),nt=Je-1;nt>=0;--nt){var qe=Me[nt],X=I(ye,qe);if(!X){je[nt]=null;continue}G(X)||(X=z.getPrepared(X)),je[nt]=he(Z,X,J)}je.obj=ye;var ft=we(je);ft!==null&&(ft<ne||(je.score=ft,Ee<re?(ue.add(je),++Ee):(++Fe,ft>ue.peek().score&&ue.replaceTop(je))))}else if(H&&H.key)for(var qe=H.key,Pe=Y-1;Pe>=0;--Pe){var ye=M[Pe],X=I(ye,qe);if(!!X){G(X)||(X=z.getPrepared(X));var We=he(Z,X,J);We!==null&&(We.score<ne||(We={target:We.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:We.score,indexes:We.indexes,obj:ye},Ee<re?(ue.add(We),++Ee):(++Fe,We.score>ue.peek().score&&ue.replaceTop(We))))}}else for(var Pe=Y-1;Pe>=0;--Pe){var X=M[Pe];if(!!X){G(X)||(X=z.getPrepared(X));var We=he(Z,X,J);We!==null&&(We.score<ne||(Ee<re?(ue.add(We),++Ee):(++Fe,We.score>ue.peek().score&&ue.replaceTop(We))))}}if(Ee===0)return _;for(var Ve=new Array(Ee),Pe=Ee-1;Pe>=0;--Pe)Ve[Pe]=ue.poll();return Ve.total=Ee+Fe,Ve},goAsync:function(Z,M,H){var J=!1,ne=new Promise(function(re,se){if(!Z)return re(_);Z=z.prepareSearch(Z);var he=Z[0],Ee=te(),Fe=M.length-1,Y=H&&H.threshold||O&&O.threshold||-9007199254740991,we=H&&H.limit||O&&O.limit||9007199254740991,Me=H&&H.allowTypo!==void 0?H.allowTypo:O&&O.allowTypo!==void 0?O.allowTypo:!0,Je=Me?z.algorithm:z.algorithmNoTypo,Pe=0,ye=0;function je(){if(J)return se("canceled");var nt=Date.now();if(H&&H.keys)for(var qe=H.scoreFn||U,X=H.keys,ft=X.length;Fe>=0;--Fe){for(var We=M[Fe],Ve=new Array(ft),oe=ft-1;oe>=0;--oe){var ce=X[oe],Oe=I(We,ce);if(!Oe){Ve[oe]=null;continue}G(Oe)||(Oe=z.getPrepared(Oe)),Ve[oe]=Je(Z,Oe,he)}Ve.obj=We;var Qe=qe(Ve);if(Qe!==null&&!(Qe<Y)&&(Ve.score=Qe,Pe<we?(Ee.add(Ve),++Pe):(++ye,Qe>Ee.peek().score&&Ee.replaceTop(Ve)),Fe%1e3==0&&Date.now()-nt>=10)){W?setImmediate(je):setTimeout(je);return}}else if(H&&H.key)for(var ce=H.key;Fe>=0;--Fe){var We=M[Fe],Oe=I(We,ce);if(!!Oe){G(Oe)||(Oe=z.getPrepared(Oe));var dt=Je(Z,Oe,he);if(dt!==null&&!(dt.score<Y)&&(dt={target:dt.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:dt.score,indexes:dt.indexes,obj:We},Pe<we?(Ee.add(dt),++Pe):(++ye,dt.score>Ee.peek().score&&Ee.replaceTop(dt)),Fe%1e3==0&&Date.now()-nt>=10)){W?setImmediate(je):setTimeout(je);return}}}else for(;Fe>=0;--Fe){var Oe=M[Fe];if(!!Oe){G(Oe)||(Oe=z.getPrepared(Oe));var dt=Je(Z,Oe,he);if(dt!==null&&!(dt.score<Y)&&(Pe<we?(Ee.add(dt),++Pe):(++ye,dt.score>Ee.peek().score&&Ee.replaceTop(dt)),Fe%1e3==0&&Date.now()-nt>=10)){W?setImmediate(je):setTimeout(je);return}}}if(Pe===0)return re(_);for(var Vt=new Array(Pe),gt=Pe-1;gt>=0;--gt)Vt[gt]=Ee.poll();Vt.total=Pe+ye,re(Vt)}l(je,"step"),W?setImmediate(je):je()});return ne.cancel=function(){J=!0},ne},highlight:function(Z,M,H){if(Z===null)return null;M===void 0&&(M="<b>"),H===void 0&&(H="</b>");for(var J="",ne=0,re=!1,se=Z.target,he=se.length,Ee=Z.indexes,Fe=0;Fe<he;++Fe){var Y=se[Fe];if(Ee[ne]===Fe){if(++ne,re||(re=!0,J+=M),ne===Ee.length){J+=Y+H+se.substr(Fe+1);break}}else re&&(re=!1,J+=H);J+=Y}return J},prepare:function(Z){if(!!Z)return{target:Z,_targetLowerCodes:z.prepareLowerCodes(Z),_nextBeginningIndexes:null,score:null,indexes:null,obj:null}},prepareSlow:function(Z){if(!!Z)return{target:Z,_targetLowerCodes:z.prepareLowerCodes(Z),_nextBeginningIndexes:z.prepareNextBeginningIndexes(Z),score:null,indexes:null,obj:null}},prepareSearch:function(Z){if(!!Z)return z.prepareLowerCodes(Z)},getPrepared:function(Z){if(Z.length>999)return z.prepare(Z);var M=R.get(Z);return M!==void 0||(M=z.prepare(Z),R.set(Z,M)),M},getPreparedSearch:function(Z){if(Z.length>999)return z.prepareSearch(Z);var M=m.get(Z);return M!==void 0||(M=z.prepareSearch(Z),m.set(Z,M)),M},algorithm:function(Z,M,H){for(var J=M._targetLowerCodes,ne=Z.length,re=J.length,se=0,he=0,Ee=0,Fe=0;;){var Y=H===J[he];if(Y){if(b[Fe++]=he,++se,se===ne)break;H=Z[Ee===0?se:Ee===se?se+1:Ee===se-1?se-1:se]}if(++he,he>=re)for(;;){if(se<=1)return null;if(Ee===0){--se;var we=Z[se];if(H===we)continue;Ee=se}else{if(Ee===1)return null;--Ee,se=Ee,H=Z[se+1];var we=Z[se];if(H===we)continue}Fe=se,he=b[Fe-1]+1;break}}var se=0,Me=0,Je=!1,Pe=0,ye=M._nextBeginningIndexes;ye===null&&(ye=M._nextBeginningIndexes=z.prepareNextBeginningIndexes(M.target));var je=he=b[0]===0?0:ye[b[0]-1];if(he!==re)for(;;)if(he>=re){if(se<=0){if(++Me,Me>ne-2)break;if(Z[Me]===Z[Me+1])continue;he=je;continue}--se;var nt=y[--Pe];he=ye[nt]}else{var Y=Z[Me===0?se:Me===se?se+1:Me===se-1?se-1:se]===J[he];if(Y){if(y[Pe++]=he,++se,se===ne){Je=!0;break}++he}else he=ye[he]}{if(Je)var qe=y,X=Pe;else var qe=b,X=Fe;for(var ft=0,We=-1,Ve=0;Ve<ne;++Ve){var he=qe[Ve];We!==he-1&&(ft-=he),We=he}Je?Me!==0&&(ft+=-20):(ft*=1e3,Ee!==0&&(ft+=-20)),ft-=re-ne,M.score=ft,M.indexes=new Array(X);for(var Ve=X-1;Ve>=0;--Ve)M.indexes[Ve]=qe[Ve];return M}},algorithmNoTypo:function(Z,M,H){for(var J=M._targetLowerCodes,ne=Z.length,re=J.length,se=0,he=0,Ee=0;;){var Fe=H===J[he];if(Fe){if(b[Ee++]=he,++se,se===ne)break;H=Z[se]}if(++he,he>=re)return null}var se=0,Y=!1,we=0,Me=M._nextBeginningIndexes;Me===null&&(Me=M._nextBeginningIndexes=z.prepareNextBeginningIndexes(M.target));var Je=he=b[0]===0?0:Me[b[0]-1];if(he!==re)for(;;)if(he>=re){if(se<=0)break;--se;var Pe=y[--we];he=Me[Pe]}else{var Fe=Z[se]===J[he];if(Fe){if(y[we++]=he,++se,se===ne){Y=!0;break}++he}else he=Me[he]}{if(Y)var ye=y,je=we;else var ye=b,je=Ee;for(var nt=0,qe=-1,X=0;X<ne;++X){var he=ye[X];qe!==he-1&&(nt-=he),qe=he}Y||(nt*=1e3),nt-=re-ne,M.score=nt,M.indexes=new Array(je);for(var X=je-1;X>=0;--X)M.indexes[X]=ye[X];return M}},prepareLowerCodes:function(Z){for(var M=Z.length,H=[],J=Z.toLowerCase(),ne=0;ne<M;++ne)H[ne]=J.charCodeAt(ne);return H},prepareBeginningIndexes:function(Z){for(var M=Z.length,H=[],J=0,ne=!1,re=!1,se=0;se<M;++se){var he=Z.charCodeAt(se),Ee=he>=65&&he<=90,Fe=Ee||he>=97&&he<=122||he>=48&&he<=57,Y=Ee&&!ne||!re||!Fe;ne=Ee,re=Fe,Y&&(H[J++]=se)}return H},prepareNextBeginningIndexes:function(Z){for(var M=Z.length,H=z.prepareBeginningIndexes(Z),J=[],ne=H[0],re=0,se=0;se<M;++se)ne>se?J[se]=ne:(ne=H[++re],J[se]=ne===void 0?M:ne);return J},cleanup:x,new:j};return z}l(j,"fuzzysortNew");var W=typeof window=="undefined",R=new Map,m=new Map,_=[];_.total=0;var b=[],y=[];function x(){R.clear(),m.clear(),b=[],y=[]}l(x,"cleanup");function U(O){for(var z=-9007199254740991,Z=O.length-1;Z>=0;--Z){var M=O[Z];if(M!==null){var H=M.score;H>z&&(z=H)}}return z===-9007199254740991?null:z}l(U,"defaultScoreFn");function I(O,z){var Z=O[z];if(Z!==void 0)return Z;var M=z;Array.isArray(z)||(M=z.split("."));for(var H=M.length,J=-1;O&&++J<H;)O=O[M[J]];return O}l(I,"getValue");function G(O){return typeof O=="object"}l(G,"isObj");var te=l(function(){var O=[],z=0,Z={};function M(){for(var H=0,J=O[H],ne=1;ne<z;){var re=ne+1;H=ne,re<z&&O[re].score<O[ne].score&&(H=re),O[H-1>>1]=O[H],ne=1+(H<<1)}for(var se=H-1>>1;H>0&&J.score<O[se].score;se=(H=se)-1>>1)O[H]=O[se];O[H]=J}return l(M,"n"),Z.add=function(H){var J=z;O[z++]=H;for(var ne=J-1>>1;J>0&&H.score<O[ne].score;ne=(J=ne)-1>>1)O[J]=O[ne];O[J]=H},Z.poll=function(){if(z!==0){var H=O[0];return O[0]=O[--z],M(),H}},Z.peek=function(H){if(z!==0)return O[0]},Z.replaceTop=function(H){O[0]=H,M()},Z},"fastpriorityqueue"),ue=te();return j()},"UMD"))},645:(K,d)=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */d.read=function(B,S,N,L,j){var W,R,m=j*8-L-1,_=(1<<m)-1,b=_>>1,y=-7,x=N?j-1:0,U=N?-1:1,I=B[S+x];for(x+=U,W=I&(1<<-y)-1,I>>=-y,y+=m;y>0;W=W*256+B[S+x],x+=U,y-=8);for(R=W&(1<<-y)-1,W>>=-y,y+=L;y>0;R=R*256+B[S+x],x+=U,y-=8);if(W===0)W=1-b;else{if(W===_)return R?NaN:(I?-1:1)*(1/0);R=R+Math.pow(2,L),W=W-b}return(I?-1:1)*R*Math.pow(2,W-L)},d.write=function(B,S,N,L,j,W){var R,m,_,b=W*8-j-1,y=(1<<b)-1,x=y>>1,U=j===23?Math.pow(2,-24)-Math.pow(2,-77):0,I=L?0:W-1,G=L?1:-1,te=S<0||S===0&&1/S<0?1:0;for(S=Math.abs(S),isNaN(S)||S===1/0?(m=isNaN(S)?1:0,R=y):(R=Math.floor(Math.log(S)/Math.LN2),S*(_=Math.pow(2,-R))<1&&(R--,_*=2),R+x>=1?S+=U/_:S+=U*Math.pow(2,1-x),S*_>=2&&(R++,_/=2),R+x>=y?(m=0,R=y):R+x>=1?(m=(S*_-1)*Math.pow(2,j),R=R+x):(m=S*Math.pow(2,x-1)*Math.pow(2,j),R=0));j>=8;B[N+I]=m&255,I+=G,m/=256,j-=8);for(R=R<<j|m,b+=j;b>0;B[N+I]=R&255,I+=G,R/=256,b-=8);B[N+I-G]|=te*128}},3300:(K,d)=>{"use strict";var B=l(function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof S!="undefined")return S;throw new Error("unable to locate global object")},"getGlobal"),S=B();K.exports=d=S.fetch,S.fetch&&(d.default=S.fetch.bind(S)),d.Headers=S.Headers,d.Request=S.Request,d.Response=S.Response},447:(K,d,B)=>{var S=B(2479);K.exports=S(N),K.exports.strict=S(L),N.proto=N(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return N(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return L(this)},configurable:!0})});function N(j){var W=l(function(){return W.called?W.value:(W.called=!0,W.value=j.apply(this,arguments))},"f");return W.called=!1,W}l(N,"once");function L(j){var W=l(function(){if(W.called)throw new Error(W.onceError);return W.called=!0,W.value=j.apply(this,arguments)},"f"),R=j.name||"Function wrapped with `once`";return W.onceError=R+" shouldn't be called more than once",W.called=!1,W}l(L,"onceStrict")},6470:(K,d,B)=>{"use strict";var S=B(4155);function N(R){if(typeof R!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(R))}l(N,"assertPath");function L(R,m){for(var _="",b=0,y=-1,x=0,U,I=0;I<=R.length;++I){if(I<R.length)U=R.charCodeAt(I);else{if(U===47)break;U=47}if(U===47){if(!(y===I-1||x===1))if(y!==I-1&&x===2){if(_.length<2||b!==2||_.charCodeAt(_.length-1)!==46||_.charCodeAt(_.length-2)!==46){if(_.length>2){var G=_.lastIndexOf("/");if(G!==_.length-1){G===-1?(_="",b=0):(_=_.slice(0,G),b=_.length-1-_.lastIndexOf("/")),y=I,x=0;continue}}else if(_.length===2||_.length===1){_="",b=0,y=I,x=0;continue}}m&&(_.length>0?_+="/..":_="..",b=2)}else _.length>0?_+="/"+R.slice(y+1,I):_=R.slice(y+1,I),b=I-y-1;y=I,x=0}else U===46&&x!==-1?++x:x=-1}return _}l(L,"normalizeStringPosix");function j(R,m){var _=m.dir||m.root,b=m.base||(m.name||"")+(m.ext||"");return _?_===m.root?_+b:_+R+b:b}l(j,"_format");var W={resolve:l(function(){for(var m="",_=!1,b,y=arguments.length-1;y>=-1&&!_;y--){var x;y>=0?x=arguments[y]:(b===void 0&&(b=S.cwd()),x=b),N(x),x.length!==0&&(m=x+"/"+m,_=x.charCodeAt(0)===47)}return m=L(m,!_),_?m.length>0?"/"+m:"/":m.length>0?m:"."},"resolve"),normalize:l(function(m){if(N(m),m.length===0)return".";var _=m.charCodeAt(0)===47,b=m.charCodeAt(m.length-1)===47;return m=L(m,!_),m.length===0&&!_&&(m="."),m.length>0&&b&&(m+="/"),_?"/"+m:m},"normalize"),isAbsolute:l(function(m){return N(m),m.length>0&&m.charCodeAt(0)===47},"isAbsolute"),join:l(function(){if(arguments.length===0)return".";for(var m,_=0;_<arguments.length;++_){var b=arguments[_];N(b),b.length>0&&(m===void 0?m=b:m+="/"+b)}return m===void 0?".":W.normalize(m)},"join"),relative:l(function(m,_){if(N(m),N(_),m===_||(m=W.resolve(m),_=W.resolve(_),m===_))return"";for(var b=1;b<m.length&&m.charCodeAt(b)===47;++b);for(var y=m.length,x=y-b,U=1;U<_.length&&_.charCodeAt(U)===47;++U);for(var I=_.length,G=I-U,te=x<G?x:G,ue=-1,O=0;O<=te;++O){if(O===te){if(G>te){if(_.charCodeAt(U+O)===47)return _.slice(U+O+1);if(O===0)return _.slice(U+O)}else x>te&&(m.charCodeAt(b+O)===47?ue=O:O===0&&(ue=0));break}var z=m.charCodeAt(b+O),Z=_.charCodeAt(U+O);if(z!==Z)break;z===47&&(ue=O)}var M="";for(O=b+ue+1;O<=y;++O)(O===y||m.charCodeAt(O)===47)&&(M.length===0?M+="..":M+="/..");return M.length>0?M+_.slice(U+ue):(U+=ue,_.charCodeAt(U)===47&&++U,_.slice(U))},"relative"),_makeLong:l(function(m){return m},"_makeLong"),dirname:l(function(m){if(N(m),m.length===0)return".";for(var _=m.charCodeAt(0),b=_===47,y=-1,x=!0,U=m.length-1;U>=1;--U)if(_=m.charCodeAt(U),_===47){if(!x){y=U;break}}else x=!1;return y===-1?b?"/":".":b&&y===1?"//":m.slice(0,y)},"dirname"),basename:l(function(m,_){if(_!==void 0&&typeof _!="string")throw new TypeError('"ext" argument must be a string');N(m);var b=0,y=-1,x=!0,U;if(_!==void 0&&_.length>0&&_.length<=m.length){if(_.length===m.length&&_===m)return"";var I=_.length-1,G=-1;for(U=m.length-1;U>=0;--U){var te=m.charCodeAt(U);if(te===47){if(!x){b=U+1;break}}else G===-1&&(x=!1,G=U+1),I>=0&&(te===_.charCodeAt(I)?--I==-1&&(y=U):(I=-1,y=G))}return b===y?y=G:y===-1&&(y=m.length),m.slice(b,y)}else{for(U=m.length-1;U>=0;--U)if(m.charCodeAt(U)===47){if(!x){b=U+1;break}}else y===-1&&(x=!1,y=U+1);return y===-1?"":m.slice(b,y)}},"basename"),extname:l(function(m){N(m);for(var _=-1,b=0,y=-1,x=!0,U=0,I=m.length-1;I>=0;--I){var G=m.charCodeAt(I);if(G===47){if(!x){b=I+1;break}continue}y===-1&&(x=!1,y=I+1),G===46?_===-1?_=I:U!==1&&(U=1):_!==-1&&(U=-1)}return _===-1||y===-1||U===0||U===1&&_===y-1&&_===b+1?"":m.slice(_,y)},"extname"),format:l(function(m){if(m===null||typeof m!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof m);return j("/",m)},"format"),parse:l(function(m){N(m);var _={root:"",dir:"",base:"",ext:"",name:""};if(m.length===0)return _;var b=m.charCodeAt(0),y=b===47,x;y?(_.root="/",x=1):x=0;for(var U=-1,I=0,G=-1,te=!0,ue=m.length-1,O=0;ue>=x;--ue){if(b=m.charCodeAt(ue),b===47){if(!te){I=ue+1;break}continue}G===-1&&(te=!1,G=ue+1),b===46?U===-1?U=ue:O!==1&&(O=1):U!==-1&&(O=-1)}return U===-1||G===-1||O===0||O===1&&U===G-1&&U===I+1?G!==-1&&(I===0&&y?_.base=_.name=m.slice(1,G):_.base=_.name=m.slice(I,G)):(I===0&&y?(_.name=m.slice(1,U),_.base=m.slice(1,G)):(_.name=m.slice(I,U),_.base=m.slice(I,G)),_.ext=m.slice(U,G)),I>0?_.dir=m.slice(0,I-1):y&&(_.dir="/"),_},"parse"),sep:"/",delimiter:":",win32:null,posix:null};W.posix=W,K.exports=W},8985:(K,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.Deferred=void 0;class B{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise((N,L)=>{this.reject=L,this.resolve=N})}}l(B,"Deferred"),d.Deferred=B},7279:(K,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.EndOfStreamError=d.defaultMessages=void 0,d.defaultMessages="End-Of-Stream";class B extends Error{constructor(){super(d.defaultMessages)}}l(B,"EndOfStreamError"),d.EndOfStreamError=B},6654:(K,d,B)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.StreamReader=d.EndOfStreamError=void 0;const S=B(7279),N=B(8985);var L=B(7279);Object.defineProperty(d,"EndOfStreamError",{enumerable:!0,get:function(){return L.EndOfStreamError}});const j=1*1024*1024;class W{constructor(m){if(this.s=m,this.deferred=null,this.endOfStream=!1,this.peekQueue=[],!m.read||!m.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",()=>this.reject(new S.EndOfStreamError)),this.s.once("error",_=>this.reject(_)),this.s.once("close",()=>this.reject(new Error("Stream closed")))}async peek(m,_,b){const y=await this.read(m,_,b);return this.peekQueue.push(m.subarray(_,_+y)),y}async read(m,_,b){if(b===0)return 0;if(this.peekQueue.length===0&&this.endOfStream)throw new S.EndOfStreamError;let y=b,x=0;for(;this.peekQueue.length>0&&y>0;){const U=this.peekQueue.pop();if(!U)throw new Error("peekData should be defined");const I=Math.min(U.length,y);m.set(U.subarray(0,I),_+x),x+=I,y-=I,I<U.length&&this.peekQueue.push(U.subarray(I))}for(;y>0&&!this.endOfStream;){const U=Math.min(y,j),I=await this.readFromStream(m,_+x,U);if(x+=I,I<U)break;y-=I}return x}async readFromStream(m,_,b){const y=this.s.read(b);if(y)return m.set(y,_),y.length;{const x={buffer:m,offset:_,length:b,deferred:new N.Deferred};return this.deferred=x.deferred,this.s.once("readable",()=>{this.readDeferred(x)}),x.deferred.promise}}readDeferred(m){const _=this.s.read(m.length);_?(m.buffer.set(_,m.offset),m.deferred.resolve(_.length),this.deferred=null):this.s.once("readable",()=>{this.readDeferred(m)})}reject(m){this.endOfStream=!0,this.deferred&&(this.deferred.reject(m),this.deferred=null)}}l(W,"StreamReader"),d.StreamReader=W},5167:(K,d,B)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.StreamReader=d.EndOfStreamError=void 0;var S=B(7279);Object.defineProperty(d,"EndOfStreamError",{enumerable:!0,get:function(){return S.EndOfStreamError}});var N=B(6654);Object.defineProperty(d,"StreamReader",{enumerable:!0,get:function(){return N.StreamReader}})},4155:K=>{var d=K.exports={},B,S;function N(){throw new Error("setTimeout has not been defined")}l(N,"defaultSetTimout");function L(){throw new Error("clearTimeout has not been defined")}l(L,"defaultClearTimeout"),function(){try{typeof setTimeout=="function"?B=setTimeout:B=N}catch(G){B=N}try{typeof clearTimeout=="function"?S=clearTimeout:S=L}catch(G){S=L}}();function j(G){if(B===setTimeout)return setTimeout(G,0);if((B===N||!B)&&setTimeout)return B=setTimeout,setTimeout(G,0);try{return B(G,0)}catch(te){try{return B.call(null,G,0)}catch(ue){return B.call(this,G,0)}}}l(j,"runTimeout");function W(G){if(S===clearTimeout)return clearTimeout(G);if((S===L||!S)&&clearTimeout)return S=clearTimeout,clearTimeout(G);try{return S(G)}catch(te){try{return S.call(null,G)}catch(ue){return S.call(this,G)}}}l(W,"runClearTimeout");var R=[],m=!1,_,b=-1;function y(){!m||!_||(m=!1,_.length?R=_.concat(R):b=-1,R.length&&x())}l(y,"cleanUpNextTick");function x(){if(!m){var G=j(y);m=!0;for(var te=R.length;te;){for(_=R,R=[];++b<te;)_&&_[b].run();b=-1,te=R.length}_=null,m=!1,W(G)}}l(x,"drainQueue"),d.nextTick=function(G){var te=new Array(arguments.length-1);if(arguments.length>1)for(var ue=1;ue<arguments.length;ue++)te[ue-1]=arguments[ue];R.push(new U(G,te)),R.length===1&&!m&&j(x)};function U(G,te){this.fun=G,this.array=te}l(U,"Item"),U.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={};function I(){}l(I,"noop"),d.on=I,d.addListener=I,d.once=I,d.off=I,d.removeListener=I,d.removeAllListeners=I,d.emit=I,d.prependListener=I,d.prependOnceListener=I,d.listeners=function(G){return[]},d.binding=function(G){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(G){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},842:(K,d,B)=>{"use strict";var S=B(8764).Buffer;Object.defineProperty(d,"__esModule",{value:!0}),d.AbstractTokenizer=void 0;const N=B(5167);class L{constructor(W){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=W||{}}async readToken(W,R=this.position){const m=S.alloc(W.len);if(await this.readBuffer(m,{position:R})<W.len)throw new N.EndOfStreamError;return W.get(m,0)}async peekToken(W,R=this.position){const m=S.alloc(W.len);if(await this.peekBuffer(m,{position:R})<W.len)throw new N.EndOfStreamError;return W.get(m,0)}async readNumber(W){if(await this.readBuffer(this.numBuffer,{length:W.len})<W.len)throw new N.EndOfStreamError;return W.get(this.numBuffer,0)}async peekNumber(W){if(await this.peekBuffer(this.numBuffer,{length:W.len})<W.len)throw new N.EndOfStreamError;return W.get(this.numBuffer,0)}async ignore(W){if(this.fileInfo.size!==void 0){const R=this.fileInfo.size-this.position;if(W>R)return this.position+=R,R}return this.position+=W,W}async close(){}normalizeOptions(W,R){if(R&&R.position!==void 0&&R.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return R?{mayBeLess:R.mayBeLess===!0,offset:R.offset?R.offset:0,length:R.length?R.length:W.length-(R.offset?R.offset:0),position:R.position?R.position:this.position}:{mayBeLess:!1,offset:0,length:W.length,position:this.position}}}l(L,"AbstractTokenizer"),d.AbstractTokenizer=L},778:(K,d,B)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.BufferTokenizer=void 0;const S=B(5167),N=B(842);class L extends N.AbstractTokenizer{constructor(W,R){super(R);this.uint8Array=W,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:W.length}async readBuffer(W,R){if(R&&R.position){if(R.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=R.position}const m=await this.peekBuffer(W,R);return this.position+=m,m}async peekBuffer(W,R){const m=this.normalizeOptions(W,R),_=Math.min(this.uint8Array.length-m.position,m.length);if(!m.mayBeLess&&_<m.length)throw new S.EndOfStreamError;return W.set(this.uint8Array.subarray(m.position,m.position+_),m.offset),_}async close(){}}l(L,"BufferTokenizer"),d.BufferTokenizer=L},7859:(K,d,B)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.fromFile=d.FileTokenizer=void 0;const S=B(842),N=B(5167),L=B(7209);class j extends S.AbstractTokenizer{constructor(m,_){super(_);this.fd=m}async readBuffer(m,_){const b=this.normalizeOptions(m,_);this.position=b.position;const y=await L.read(this.fd,m,b.offset,b.length,b.position);if(this.position+=y.bytesRead,y.bytesRead<b.length&&(!_||!_.mayBeLess))throw new N.EndOfStreamError;return y.bytesRead}async peekBuffer(m,_){const b=this.normalizeOptions(m,_),y=await L.read(this.fd,m,b.offset,b.length,b.position);if(!b.mayBeLess&&y.bytesRead<b.length)throw new N.EndOfStreamError;return y.bytesRead}async close(){return L.close(this.fd)}}l(j,"FileTokenizer"),d.FileTokenizer=j;async function W(R){const m=await L.stat(R);if(!m.isFile)throw new Error(`File not a file: ${R}`);const _=await L.open(R,"r");return new j(_,{path:R,size:m.size})}l(W,"fromFile"),d.fromFile=W},7209:(K,d,B)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.readFile=d.writeFileSync=d.writeFile=d.read=d.open=d.close=d.stat=d.createReadStream=d.pathExists=void 0;const S=B(4059);d.pathExists=S.existsSync,d.createReadStream=S.createReadStream;async function N(b){return new Promise((y,x)=>{S.stat(b,(U,I)=>{U?x(U):y(I)})})}l(N,"stat"),d.stat=N;async function L(b){return new Promise((y,x)=>{S.close(b,U=>{U?x(U):y()})})}l(L,"close"),d.close=L;async function j(b,y){return new Promise((x,U)=>{S.open(b,y,(I,G)=>{I?U(I):x(G)})})}l(j,"open"),d.open=j;async function W(b,y,x,U,I){return new Promise((G,te)=>{S.read(b,y,x,U,I,(ue,O,z)=>{ue?te(ue):G({bytesRead:O,buffer:z})})})}l(W,"read"),d.read=W;async function R(b,y){return new Promise((x,U)=>{S.writeFile(b,y,I=>{I?U(I):x()})})}l(R,"writeFile"),d.writeFile=R;function m(b,y){S.writeFileSync(b,y)}l(m,"writeFileSync"),d.writeFileSync=m;async function _(b){return new Promise((y,x)=>{S.readFile(b,(U,I)=>{U?x(U):y(I)})})}l(_,"readFile"),d.readFile=_},599:(K,d,B)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.ReadStreamTokenizer=void 0;const S=B(842),N=B(5167),L=256e3;class j extends S.AbstractTokenizer{constructor(R,m){super(m);this.streamReader=new N.StreamReader(R)}async getFileInfo(){return this.fileInfo}async readBuffer(R,m){const _=this.normalizeOptions(R,m),b=_.position-this.position;if(b>0)return await this.ignore(b),this.readBuffer(R,m);if(b<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(_.length===0)return 0;const y=await this.streamReader.read(R,_.offset,_.length);if(this.position+=y,(!m||!m.mayBeLess)&&y<_.length)throw new N.EndOfStreamError;return y}async peekBuffer(R,m){const _=this.normalizeOptions(R,m);let b=0;if(_.position){const y=_.position-this.position;if(y>0){const x=new Uint8Array(_.length+y);return b=await this.peekBuffer(x,{mayBeLess:_.mayBeLess}),R.set(x.subarray(y),_.offset),b-y}else if(y<0)throw new Error("Cannot peek from a negative offset in a stream")}if(_.length>0){try{b=await this.streamReader.peek(R,_.offset,_.length)}catch(y){if(m&&m.mayBeLess&&y instanceof N.EndOfStreamError)return 0;throw y}if(!_.mayBeLess&&b<_.length)throw new N.EndOfStreamError}return b}async ignore(R){const m=Math.min(L,R),_=new Uint8Array(m);let b=0;for(;b<R;){const y=R-b,x=await this.readBuffer(_,{length:Math.min(m,y)});if(x<0)return x;b+=x}return b}}l(j,"ReadStreamTokenizer"),d.ReadStreamTokenizer=j},5849:(K,d,B)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.fromBuffer=d.fromStream=d.EndOfStreamError=void 0;const S=B(599),N=B(778);var L=B(5167);Object.defineProperty(d,"EndOfStreamError",{enumerable:!0,get:function(){return L.EndOfStreamError}});function j(R,m){return m=m||{},new S.ReadStreamTokenizer(R,m)}l(j,"fromStream"),d.fromStream=j;function W(R,m){return new N.BufferTokenizer(R,m)}l(W,"fromBuffer"),d.fromBuffer=W},6597:(K,d,B)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.fromStream=d.fromBuffer=d.EndOfStreamError=d.fromFile=void 0;const S=B(7209),N=B(5849);var L=B(7859);Object.defineProperty(d,"fromFile",{enumerable:!0,get:function(){return L.fromFile}});var j=B(5849);Object.defineProperty(d,"EndOfStreamError",{enumerable:!0,get:function(){return j.EndOfStreamError}}),Object.defineProperty(d,"fromBuffer",{enumerable:!0,get:function(){return j.fromBuffer}});async function W(R,m){if(m=m||{},R.path){const _=await S.stat(R.path);m.path=R.path,m.size=_.size}return N.fromStream(R,m)}l(W,"fromStream"),d.fromStream=W},3416:(K,d,B)=>{"use strict";var S=B(8764).Buffer;Object.defineProperty(d,"__esModule",{value:!0}),d.AnsiStringType=d.StringType=d.BufferType=d.Uint8ArrayType=d.IgnoreType=d.Float80_LE=d.Float80_BE=d.Float64_LE=d.Float64_BE=d.Float32_LE=d.Float32_BE=d.Float16_LE=d.Float16_BE=d.INT64_BE=d.UINT64_BE=d.INT64_LE=d.UINT64_LE=d.INT32_LE=d.INT32_BE=d.INT24_BE=d.INT24_LE=d.INT16_LE=d.INT16_BE=d.INT8=d.UINT32_BE=d.UINT32_LE=d.UINT24_BE=d.UINT24_LE=d.UINT16_BE=d.UINT16_LE=d.UINT8=void 0;const N=B(645);function L(b){return new DataView(b.buffer,b.byteOffset)}l(L,"dv"),d.UINT8={len:1,get(b,y){return L(b).getUint8(y)},put(b,y,x){return L(b).setUint8(y,x),y+1}},d.UINT16_LE={len:2,get(b,y){return L(b).getUint16(y,!0)},put(b,y,x){return L(b).setUint16(y,x,!0),y+2}},d.UINT16_BE={len:2,get(b,y){return L(b).getUint16(y)},put(b,y,x){return L(b).setUint16(y,x),y+2}},d.UINT24_LE={len:3,get(b,y){const x=L(b);return x.getUint8(y)+(x.getUint16(y+1,!0)<<8)},put(b,y,x){const U=L(b);return U.setUint8(y,x&255),U.setUint16(y+1,x>>8,!0),y+3}},d.UINT24_BE={len:3,get(b,y){const x=L(b);return(x.getUint16(y)<<8)+x.getUint8(y+2)},put(b,y,x){const U=L(b);return U.setUint16(y,x>>8),U.setUint8(y+2,x&255),y+3}},d.UINT32_LE={len:4,get(b,y){return L(b).getUint32(y,!0)},put(b,y,x){return L(b).setUint32(y,x,!0),y+4}},d.UINT32_BE={len:4,get(b,y){return L(b).getUint32(y)},put(b,y,x){return L(b).setUint32(y,x),y+4}},d.INT8={len:1,get(b,y){return L(b).getInt8(y)},put(b,y,x){return L(b).setInt8(y,x),y+2}},d.INT16_BE={len:2,get(b,y){return L(b).getInt16(y)},put(b,y,x){return L(b).setInt16(y,x),y+2}},d.INT16_LE={len:2,get(b,y){return L(b).getInt16(y,!0)},put(b,y,x){return L(b).setInt16(y,x,!0),y+2}},d.INT24_LE={len:3,get(b,y){const x=d.UINT24_LE.get(b,y);return x>8388607?x-16777216:x},put(b,y,x){const U=L(b);return U.setUint8(y,x&255),U.setUint16(y+1,x>>8,!0),y+3}},d.INT24_BE={len:3,get(b,y){const x=d.UINT24_BE.get(b,y);return x>8388607?x-16777216:x},put(b,y,x){const U=L(b);return U.setUint16(y,x>>8),U.setUint8(y+2,x&255),y+3}},d.INT32_BE={len:4,get(b,y){return L(b).getInt32(y)},put(b,y,x){return L(b).setInt32(y,x),y+4}},d.INT32_LE={len:4,get(b,y){return L(b).getInt32(y,!0)},put(b,y,x){return L(b).setInt32(y,x,!0),y+4}},d.UINT64_LE={len:8,get(b,y){return L(b).getBigUint64(y,!0)},put(b,y,x){return L(b).setBigUint64(y,x,!0),y+8}},d.INT64_LE={len:8,get(b,y){return L(b).getBigInt64(y,!0)},put(b,y,x){return L(b).setBigInt64(y,x,!0),y+8}},d.UINT64_BE={len:8,get(b,y){return L(b).getBigUint64(y)},put(b,y,x){return L(b).setBigUint64(y,x),y+8}},d.INT64_BE={len:8,get(b,y){return L(b).getBigInt64(y)},put(b,y,x){return L(b).setBigInt64(y,x),y+8}},d.Float16_BE={len:2,get(b,y){return N.read(b,y,!1,10,this.len)},put(b,y,x){return N.write(b,x,y,!1,10,this.len),y+this.len}},d.Float16_LE={len:2,get(b,y){return N.read(b,y,!0,10,this.len)},put(b,y,x){return N.write(b,x,y,!0,10,this.len),y+this.len}},d.Float32_BE={len:4,get(b,y){return L(b).getFloat32(y)},put(b,y,x){return L(b).setFloat32(y,x),y+4}},d.Float32_LE={len:4,get(b,y){return L(b).getFloat32(y,!0)},put(b,y,x){return L(b).setFloat32(y,x,!0),y+4}},d.Float64_BE={len:8,get(b,y){return L(b).getFloat64(y)},put(b,y,x){return L(b).setFloat64(y,x),y+8}},d.Float64_LE={len:8,get(b,y){return L(b).getFloat64(y,!0)},put(b,y,x){return L(b).setFloat64(y,x,!0),y+8}},d.Float80_BE={len:10,get(b,y){return N.read(b,y,!1,63,this.len)},put(b,y,x){return N.write(b,x,y,!1,63,this.len),y+this.len}},d.Float80_LE={len:10,get(b,y){return N.read(b,y,!0,63,this.len)},put(b,y,x){return N.write(b,x,y,!0,63,this.len),y+this.len}};class j{constructor(y){this.len=y}get(y,x){}}l(j,"IgnoreType"),d.IgnoreType=j;class W{constructor(y){this.len=y}get(y,x){return y.subarray(x,x+this.len)}}l(W,"Uint8ArrayType"),d.Uint8ArrayType=W;class R{constructor(y){this.len=y}get(y,x){return S.from(y.subarray(x,x+this.len))}}l(R,"BufferType"),d.BufferType=R;class m{constructor(y,x){this.len=y,this.encoding=x}get(y,x){return S.from(y).toString(this.encoding,x,x+this.len)}}l(m,"StringType"),d.StringType=m;class _{constructor(y){this.len=y}static decode(y,x,U){let I="";for(let G=x;G<U;++G)I+=_.codePointToString(_.singleByteDecoder(y[G]));return I}static inRange(y,x,U){return x<=y&&y<=U}static codePointToString(y){return y<=65535?String.fromCharCode(y):(y-=65536,String.fromCharCode((y>>10)+55296,(y&1023)+56320))}static singleByteDecoder(y){if(_.inRange(y,0,127))return y;const x=_.windows1252[y-128];if(x===null)throw Error("invaliding encoding");return x}get(y,x=0){return _.decode(y,x,x+this.len)}}l(_,"AnsiStringType"),d.AnsiStringType=_,_.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},189:function(K,d,B){"use strict";var S=this&&this.__spreadArrays||function(){for(var m=0,_=0,b=arguments.length;_<b;_++)m+=arguments[_].length;for(var y=Array(m),x=0,_=0;_<b;_++)for(var U=arguments[_],I=0,G=U.length;I<G;I++,x++)y[x]=U[I];return y};Object.defineProperty(d,"__esModule",{value:!0}),d.config=d.loadMessageBundle=void 0;var N=B(1926),L=B(800),j=B(800);Object.defineProperty(d,"MessageFormat",{enumerable:!0,get:function(){return j.MessageFormat}}),Object.defineProperty(d,"BundleFormat",{enumerable:!0,get:function(){return j.BundleFormat}});function W(m){return function(_,b){for(var y=[],x=2;x<arguments.length;x++)y[x-2]=arguments[x];if(typeof _=="number")throw new Error("Browser implementation does currently not support externalized strings.");return L.localize.apply(void 0,S([_,b],y))}}l(W,"loadMessageBundle"),d.loadMessageBundle=W;function R(m){return L.setPseudo((m==null?void 0:m.locale.toLowerCase())==="pseudo"),W}l(R,"config"),d.config=R,N.default.install(Object.freeze({loadMessageBundle:W,config:R}))},800:(K,d,B)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.config=d.loadMessageBundle=d.localize=d.format=d.setPseudo=d.isPseudo=d.isDefined=d.BundleFormat=d.MessageFormat=void 0;var S=B(1926),N;(function(x){x.file="file",x.bundle="bundle",x.both="both"})(N=d.MessageFormat||(d.MessageFormat={}));var L;(function(x){x.standalone="standalone",x.languagePack="languagePack"})(L=d.BundleFormat||(d.BundleFormat={}));var j;(function(x){function U(I){var G=I;return G&&W(G.key)&&W(G.comment)}l(U,"is"),x.is=U})(j||(j={}));function W(x){return typeof x!="undefined"}l(W,"isDefined"),d.isDefined=W,d.isPseudo=!1;function R(x){d.isPseudo=x}l(R,"setPseudo"),d.setPseudo=R;function m(x,U){var I;return d.isPseudo&&(x="\uFF3B"+x.replace(/[aouei]/g,"$&$&")+"\uFF3D"),U.length===0?I=x:I=x.replace(/\{(\d+)\}/g,function(G,te){var ue=te[0],O=U[ue],z=G;return typeof O=="string"?z=O:(typeof O=="number"||typeof O=="boolean"||O===void 0||O===null)&&(z=String(O)),z}),I}l(m,"format"),d.format=m;function _(x,U){for(var I=[],G=2;G<arguments.length;G++)I[G-2]=arguments[G];return m(U,I)}l(_,"localize"),d.localize=_;function b(x){return S.default().loadMessageBundle(x)}l(b,"loadMessageBundle"),d.loadMessageBundle=b;function y(x){return S.default().config(x)}l(y,"config"),d.config=y},1926:(K,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});var B;function S(){if(B===void 0)throw new Error("No runtime abstraction layer installed");return B}l(S,"RAL"),function(N){function L(j){if(j===void 0)throw new Error("No runtime abstraction layer provided");B=j}l(L,"install"),N.install=L}(S||(S={})),d.default=S},2479:K=>{K.exports=d;function d(B,S){if(B&&S)return d(B)(S);if(typeof B!="function")throw new TypeError("need wrapper function");return Object.keys(B).forEach(function(L){N[L]=B[L]}),N;function N(){for(var L=new Array(arguments.length),j=0;j<L.length;j++)L[j]=arguments[j];var W=B.apply(this,L),R=L[L.length-1];return typeof W=="function"&&W!==R&&Object.keys(R).forEach(function(m){W[m]=R[m]}),W}l(N,"wrapper")}l(d,"wrappy")},6529:()=>{},6391:()=>{},4059:()=>{}},__webpack_module_cache__={};function __webpack_require__(K){var d=__webpack_module_cache__[K];if(d!==void 0)return d.exports;var B=__webpack_module_cache__[K]={id:K,loaded:!1,exports:{}};return __webpack_modules__[K].call(B.exports,B,B.exports,__webpack_require__),B.loaded=!0,B.exports}l(__webpack_require__,"__webpack_require__"),(()=>{__webpack_require__.n=K=>{var d=K&&K.__esModule?()=>K.default:()=>K;return __webpack_require__.d(d,{a:d}),d}})(),(()=>{__webpack_require__.d=(K,d)=>{for(var B in d)__webpack_require__.o(d,B)&&!__webpack_require__.o(K,B)&&Object.defineProperty(K,B,{enumerable:!0,get:d[B]})}})(),(()=>{__webpack_require__.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(K){if(typeof window=="object")return window}}()})(),(()=>{__webpack_require__.o=(K,d)=>Object.prototype.hasOwnProperty.call(K,d)})(),(()=>{__webpack_require__.r=K=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(K,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(K,"__esModule",{value:!0})}})(),(()=>{__webpack_require__.nmd=K=>(K.paths=[],K.children||(K.children=[]),K)})();var __webpack_exports__={};(()=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{activate:()=>bb});var K={};__webpack_require__.r(K),__webpack_require__.d(K,{max:()=>Kl,min:()=>is});const d=require("vscode"),B=new TextDecoder,S=new TextEncoder,N=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function L(e){const t=S.encode(e),n=new Array(t.length);for(let r=0;r<t.length;++r)n[r]=N[t[r]];return n.join("")}l(L,"encodeUtf8Hex");function j(e){const t=e.match(/(\w{2})/g);if(t===null)return"";const n=new Uint8Array(t.map(r=>parseInt(r,16)));return B.decode(n)}l(j,"decodeUtf8Hex");const W=/^[0-9a-f]{40}$/i;function R(e){return e!==void 0&&W.test(e)}l(R,"isSha");const m=/^[^/](?!.*\/\.)(?!.*\.\.)(?!.*\/\/)(?!.*@\{)[^\000-\037\177 ~^:?*[\\]+[^./]$/;function _(e){return m.test(e)}l(_,"isValidBranchName");function b(e){return e===""||e==="~"||e==="HEAD"?e:e.endsWith("^")?`${e.substr(0,7)}^`:e.substr(0,7)}l(b,"shortenRef");const y=47;function x(e){if(e===void 0)return;const t=e.path.endsWith("/");return!t&&!e.fragment?e.toString():e.with({path:t?e.path.slice(0,-1):e.path,fragment:""}).toString()}l(x,"asKey");function U(e){if(e===void 0)return;const t=e.path.endsWith("/");return!t&&!e.query&&!e.fragment?e.toString():e.with({path:t?e.path.slice(0,-1):e.path,query:"",fragment:""}).toString()}l(U,"asFileKey");function I(e,t){return`${(t==null?void 0:t.excludeScheme)?"":`${e.scheme}-`}${e.authority}${e.path.endsWith("/")?e.path.slice(0,-1):e.path}`}l(I,"asFileStorageKey");function G(e){const t=e.path;let n=0,r=-1,i=!0;for(let a=t.length-1;a>=0;--a)if(t.charCodeAt(a)===y){if(!i){n=a+1;break}}else r===-1&&(i=!1,r=a+1);return r===-1?"":t.slice(n,r)}l(G,"basename");function te(e){const t=e.path;if(t.length===1)return"/";let n,r=-1,i=!0;for(let a=t.length-1;a>=1;--a)if(n=t.charCodeAt(a),n===y){if(!i){r=a;break}}else i=!1;return r===-1?"/":t.slice(0,r)}l(te,"dirname");function ue(e){const t=e.path.lastIndexOf("/");return t===-1?e.with({path:"/"}):e.with({path:e.path.substring(0,t)})}l(ue,"getParent");function O(e,t){const n=typeof t=="string"?t:t.path;return n.startsWith(e.path)?d.Uri.joinPath(e,n.substr(e.path.length)):d.Uri.joinPath(e,n)}l(O,"joinRelativePath");function z(e,t){return typeof t=="string"?(t.startsWith("/")||(t=`/${t}`),Z(e,t)&&e.path.substr(t.length+(t.endsWith("/")?0:1)).split("/").length===1):Z(e,t)&&e.path.substr(t.path.length+(t.path.endsWith("/")?0:1)).split("/").length===1}l(z,"isChild");function Z(e,t){return typeof t=="string"?(t.startsWith("/")||(t=`/${t}`),t.length===1||e.path.startsWith(t.endsWith("/")?t:`${t}/`)):t.scheme===e.scheme&&t.authority===e.authority&&(t.path.length===1||e.path.startsWith(t.path.endsWith("/")?t.path:`${t.path}/`))}l(Z,"isDescendent");function M(e){return e&&typeof e=="object"&&"scheme"in e}l(M,"isSerializedUri");var H;(function(e){e.authoritySeparator="+",e.scheme="vscode-vfs",e.baseVirtualWorkspaceUri=d.Uri.parse(`${e.scheme}://`);function t(c){const{authority:f}=c,v=f.indexOf(e.authoritySeparator);return v!==-1?f.substr(0,v):f}l(t,"getProviderId"),e.getProviderId=t;function n(c){return c.scheme!==e.scheme?c:c.with({scheme:t(c)})}l(n,"getProviderUri"),e.getProviderUri=n;function r(c,f){const v=new Map,g=d.workspace.textDocuments;if(g.length===0)return v;for(const w of g)w.uri.scheme===c&&f.some(A=>Z(w.uri,A))&&v.set(x(w.uri),w.uri);return v}l(r,"getOpenUris"),e.getOpenUris=r;function i(c){return c.scheme===e.scheme?c:c.with({scheme:e.scheme})}l(i,"getVirtualUri"),e.getVirtualUri=i;function a(c,f){const[v,g]=c.authority.split(e.authoritySeparator);let w;if(g)try{const A=JSON.parse(j(g));w=f?f(A):A}catch{}return{scheme:v,metadata:w}}l(a,"decodeAuthority"),e.decodeAuthority=a;function o(c,f){const v=f?`${e.authoritySeparator}${L(JSON.stringify(f))}`:"";return`${c}${v}`}l(o,"encodeAuthority"),e.encodeAuthority=o;function s(c){return c.authority.indexOf(e.authoritySeparator)===-1}l(s,"isCanonicalUri"),e.isCanonicalUri=s;function u(){var c,f;return(f=(c=d.workspace.workspaceFolders)==null?void 0:c.every(v=>v.uri.scheme===e.scheme))!=null?f:!1}l(u,"isVirtualWorkspace"),e.isVirtualWorkspace=u})(H||(H={}));var J;(function(e){e[e.Admin=100]="Admin",e[e.Maintain=40]="Maintain",e[e.WriteToPullRequest=31]="WriteToPullRequest",e[e.Write=30]="Write",e[e.Triage=20]="Triage",e[e.Read=10]="Read",e[e.None=0]="None"})(J||(J={}));var ne;(function(e){e[e.Branch=0]="Branch",e[e.RemoteBranch=1]="RemoteBranch",e[e.Tag=2]="Tag",e[e.Commit=3]="Commit"})(ne||(ne={}));var re;(function(e){function t(n){return n!==void 0&&n.type===Ee.Active}l(t,"isActive"),e.isActive=t})(re||(re={}));var se;(function(e){function t(n){const r=H.decodeAuthority(n).metadata;if(!(r===void 0||r.idx===void 0)){if(r.idx==="latest")return{type:he.Latest};if(R(r.idx))return{type:he.SHA,sha:r.idx}}}l(t,"decode"),e.decode=t})(se||(se={}));var he;(function(e){e[e.Latest=1]="Latest",e[e.SHA=2]="SHA"})(he||(he={}));var Ee;(function(e){e[e.NotIndexed=0]="NotIndexed",e[e.Indexed=1]="Indexed",e[e.Match=2]="Match",e[e.Active=3]="Active"})(Ee||(Ee={})),function(e){function t(n){return n!==void 0&&(n===e.Indexed||n===e.Match||n===e.Active)}l(t,"hasIndex"),e.hasIndex=t}(Ee||(Ee={}));var Fe;(function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed",e[e.Merged=2]="Merged"})(Fe||(Fe={}));var Y;(function(e){e[e.Changed=1]="Changed",e[e.Created=2]="Created",e[e.Deleted=3]="Deleted"})(Y||(Y={}));var we;(function(e){e.CurrentWindow="currentWindow",e.NewWindow="newWindow",e.AddToWorkspace="addToWorkspace"})(we||(we={}));var Me;(function(e){e[e.Branch=0]="Branch",e[e.Tag=1]="Tag",e[e.Commit=2]="Commit",e[e.PullRequest=3]="PullRequest",e[e.Tree=4]="Tree"})(Me||(Me={}));var Je;(function(e){e[e.Abort=0]="Abort",e[e.KeepCurrent=1]="KeepCurrent",e[e.DiscardCurrent=2]="DiscardCurrent",e[e.Merge=3]="Merge"})(Je||(Je={}));var Pe;(function(e){e[e.Repository=0]="Repository",e[e.PullRequest=1]="PullRequest",e[e.Branch=2]="Branch",e[e.Commit=3]="Commit",e[e.File=4]="File",e[e.Tag=5]="Tag"})(Pe||(Pe={}));var ye;(function(e){e.Branch="branch",e.RemoteBranch="remoteBranch",e.PullRequestBranch="pullRequestBranch",e.PullRequestRemoteBranch="pullRequestRemoteBranch",e.Tag="tag",e.Commit="commit"})(ye||(ye={}));var je;(function(e){e.None="none",e.Latest="latest",e.Match="match",e.TipPlusLatest="tip+latest"})(je||(je={}));var nt;(function(e){e.Browse="browse",e.Edit="edit"})(nt||(nt={}));var qe;(function(e){e.CommitFailedError="CommitFailedError",e.DetachedHEADError="DetachedHEADError",e.InvalidBranchNameError="InvalidBranchNameError",e.InvalidCredentialsError="InvalidCredentialsError",e.MergeConflictError="MergeConflictError",e.NothingToCommitError="NothingToCommitError",e.SyncConflictsError="SyncConflictsError",e.SyncOrFetchError="SyncOrFetchError",e.UnresolvedConflictsError="UnresolvedConflictsError",e.Unknown="Unknown"})(qe||(qe={}));class X extends Error{constructor(t,n,r){super(typeof t=="string"?t:t.message);this.messageOrError=t,this.errorCode=n,this.action=r}static CommitFailedError(){return new X("Failed to create and push commit",qe.CommitFailedError)}static DetachedHEADError(t){return new X(t,qe.DetachedHEADError)}static InvalidBranchNameError(t,n=!1){const r=n?`Branch '${t}' already exists`:`Invalid branch name '${t}'`;return new X(r,qe.InvalidBranchNameError)}static InvalidCredentialsError(t,n){return new X(t,qe.InvalidCredentialsError,n)}static MergeConflictError(t){return new X(t,qe.MergeConflictError)}static NothingToCommitError(t){return new X(t,qe.NothingToCommitError)}static SyncOrFetchError(t=!1){const n=t?"Unable to sync the repository":"Unable to fetch the repository";return new X(n,qe.SyncOrFetchError)}static SyncConflictsError(){const t="Sync operation will result in conflicts";return new X(t,qe.SyncConflictsError)}static UnresolvedConflictsError(){return new X("You have unresolved merge conflicts.",qe.UnresolvedConflictsError)}static asVirtualProviderErrorCode(t){return t instanceof Error&&"messageOrError"in t&&"errorCode"in t?t.errorCode:qe.Unknown}}l(X,"VirtualProviderError");const ft=6;var We;(function(e){e.Off="off",e.Auto="auto",e.Always="always"})(We||(We={}));var Ve;(function(e){e.None="none",e.Latest="latest",e.Match="match",e.TipPlusLatest="tip+latest"})(Ve||(Ve={})),function(e){function t(n){return n===e.None||n===e.Latest||n===e.Match||n===e.TipPlusLatest?n:e.None}l(t,"sanitize"),e.sanitize=t}(Ve||(Ve={}));var oe;(function(e){e.Browse="browse",e.Edit="edit"})(oe||(oe={})),function(e){function t(r){return r===e.Browse||r===e.Edit?r:e.Edit}l(t,"sanitize"),e.sanitize=t;function n(r){return r===e.Browse?e.Edit:e.Browse}l(n,"toggle"),e.toggle=n}(oe||(oe={}));var ce;(function(e){function t(n,r){return n.display===r.display&&n.index===r.index}l(t,"equals"),e.equals=t})(ce||(ce={}));var Oe;(function(e){const t=new Map([[ye.Branch,Ve.None],[ye.RemoteBranch,Ve.None],[ye.PullRequestBranch,Ve.Match],[ye.PullRequestRemoteBranch,Ve.Match],[ye.Commit,Ve.Match],[ye.Tag,Ve.Match]]),n=new Map([[ye.Branch,oe.Edit],[ye.RemoteBranch,oe.Edit],[ye.PullRequestBranch,oe.Browse],[ye.PullRequestRemoteBranch,oe.Browse],[ye.Commit,oe.Browse],[ye.Tag,oe.Browse]]);function r(a){var o,s;return{display:(o=n.get(a))!=null?o:oe.Edit,index:(s=t.get(a))!=null?s:Ve.None}}l(r,"getDefault"),e.getDefault=r;function i(a){switch(a){case ye.Branch:case ye.RemoteBranch:return{display:oe.Browse,index:Ve.Latest};case ye.PullRequestBranch:case ye.PullRequestRemoteBranch:return{display:oe.Browse,index:Ve.Match};case ye.Commit:case ye.Tag:return{display:oe.Browse,index:Ve.Match};default:return{display:oe.Edit,index:Ve.None}}}l(i,"getIndexDefault"),e.getIndexDefault=i})(Oe||(Oe={}));const Qe=null;var dt=__webpack_require__(5179),Vt=__webpack_require__.n(dt);const gt="modes",wt="indexMemento";class un{constructor(){this._onDidChange=new d.EventEmitter,this._onDidChangeAny=new d.EventEmitter,this.memoryState=new Map}static configure(t,n){rt.configPrefix=t,rt.state=n.workspaceState,n.subscriptions.push(d.workspace.onDidChangeConfiguration(rt.onConfigurationChanged,rt))}get onDidChange(){return this._onDidChange.event}get onDidChangeAny(){return this._onDidChangeAny.event}onConfigurationChanged(t){if(!t.affectsConfiguration(this.configPrefix)){this._onDidChangeAny.fire(t);return}this._onDidChangeAny.fire(t),this._onDidChange.fire(t)}set state(t){if(this._state=t,this.modes=this._state.get(gt),this.modes===void 0&&(this.modes=Object.create(null)),this.memoryState.size!==0){for(const n of this.memoryState.entries())this.modes[n[0]]=n[1];this._state.update(gt,this.modes).then(()=>{this.memoryState.clear()},void 0)}this.indexMemento=this._state.get(wt),this.indexMemento===void 0&&(this.indexMemento=Object.create(null))}get(t,n,r){return r===void 0?d.workspace.getConfiguration(t===void 0?void 0:this.configPrefix,n).get(t===void 0?this.configPrefix:t):d.workspace.getConfiguration(t===void 0?void 0:this.configPrefix,n).get(t===void 0?this.configPrefix:t,r)}getMode(t,n,r){var i;const a=t.toString();let o=this.modes!==void 0?this.modes[a]:void 0;if(o!==void 0)return{display:oe.sanitize(o.display),index:Ve.sanitize(o.index)};if(o=this.memoryState.get(a),o!==void 0)return o;if(n===ye.Branch||n===ye.RemoteBranch)switch((i=d.workspace.getConfiguration("remoteHub.richNavigation.indexMode",t))==null?void 0:i.get("branch")){case"none":return{display:oe.Edit,index:Ve.None};case"latest":return{display:oe.Browse,index:Ve.Latest};case"tipPlusLatest":return{display:oe.Edit,index:Ve.TipPlusLatest}}if(!r)return Oe.getDefault(n)}setMode(t,n){const r=t.toString();return this._state===void 0||this.modes===void 0?(this.memoryState.set(r,n),Promise.resolve()):(this.modes[r]=n,this._state.update(gt,this.modes))}getIndexMemento(t){if(this.indexMemento!==void 0)return this.indexMemento[t.toString()]}setIndexMemento(t,n){return this.indexMemento===void 0||this._state===void 0?Promise.resolve():(this.indexMemento[t.toString()]=n,this._state.update(wt,this.indexMemento))}getAny(t,n,r){return r===void 0?d.workspace.getConfiguration(void 0,n).get(t):d.workspace.getConfiguration(void 0,n).get(t,r)}changed(t,n,r){var i;return(i=t==null?void 0:t.affectsConfiguration(`${this.configPrefix}.${n}`,r))!=null?i:!0}inspect(t,n){return d.workspace.getConfiguration(t===void 0?void 0:this.configPrefix,n).inspect(t===void 0?this.configPrefix:t)}inspectAny(t,n){return d.workspace.getConfiguration(void 0,n).inspect(t)}async migrate(t,n,r){const i=rt.inspect(t);if(i===void 0)return!1;let a=!1;return i.globalValue!==void 0&&(await this.update(n,r.migrationFn!=null?r.migrationFn(i.globalValue):i.globalValue,d.ConfigurationTarget.Global),a=!0),i.workspaceValue!==void 0&&(await this.update(n,r.migrationFn!=null?r.migrationFn(i.workspaceValue):i.workspaceValue,d.ConfigurationTarget.Workspace),a=!0),i.workspaceFolderValue!==void 0&&(await this.update(n,r.migrationFn!=null?r.migrationFn(i.workspaceFolderValue):i.workspaceFolderValue,d.ConfigurationTarget.WorkspaceFolder),a=!0),!a&&r.fallbackValue!==void 0&&(await this.update(n,r.fallbackValue,d.ConfigurationTarget.Global),a=!0),a}async migrateIfMissing(t,n,r){const i=rt.inspect(t);if(i===void 0)return;const a=rt.inspect(n);i.globalValue!==void 0&&(a===void 0||a.globalValue===void 0)&&await this.update(n,r.migrationFn!=null?r.migrationFn(i.globalValue):i.globalValue,d.ConfigurationTarget.Global),i.workspaceValue!==void 0&&(a===void 0||a.workspaceValue===void 0)&&await this.update(n,r.migrationFn!=null?r.migrationFn(i.workspaceValue):i.workspaceValue,d.ConfigurationTarget.Workspace),i.workspaceFolderValue!==void 0&&(a===void 0||a.workspaceFolderValue===void 0)&&await this.update(n,r.migrationFn!=null?r.migrationFn(i.workspaceFolderValue):i.workspaceFolderValue,d.ConfigurationTarget.WorkspaceFolder)}name(t){return t}update(t,n,r){return d.workspace.getConfiguration(this.configPrefix).update(t,n,r)}updateAny(t,n,r,i){return d.workspace.getConfiguration(void 0,r===d.ConfigurationTarget.Global?void 0:i).update(t,n,r)}updateEffective(t,n){const r=rt.inspect(t);return r.workspaceFolderValue!==void 0?n===r.workspaceFolderValue?Promise.resolve(void 0):rt.update(t,n,d.ConfigurationTarget.WorkspaceFolder):r.workspaceValue!==void 0?n===r.workspaceValue?Promise.resolve(void 0):rt.update(t,n,d.ConfigurationTarget.Workspace):r.globalValue===n||r.globalValue===void 0&&n===r.defaultValue?Promise.resolve(void 0):rt.update(t,Vt()(n,r.defaultValue)?void 0:n,d.ConfigurationTarget.Global)}}l(un,"Configuration");const rt=new un,xt="";var Ne;(function(e){e.Off="off",e.Error="error",e.Warn="warn",e.Info="info",e.Debug="debug"})(Ne||(Ne={}));var $t;(function(e){e[e.Off=0]="Off",e[e.Error=1]="Error",e[e.Warn=2]="Warn",e[e.Info=3]="Info",e[e.Debug=4]="Debug"})($t||($t={}));const Pn="[RemoteHub]",ke=l(class{static configure(e,t,n){this._isDebugging=e.extensionMode===d.ExtensionMode.Development,this.outputChannelName=t,this.logLevel=n}static enabled(e){return this.level>=this.toOrderedLevel(e)}static get logLevel(){return this._logLevel}static set logLevel(e){var t,n;this._logLevel=e,this.level=this.toOrderedLevel(e),e===Ne.Off?((t=this.output)==null||t.dispose(),this.output=void 0):this.output=(n=this.output)!=null?n:d.window.createOutputChannel(this.outputChannelName)}static toOrderedLevel(e){switch(e){case Ne.Off:return 0;case Ne.Error:return 1;case Ne.Warn:return 2;case Ne.Info:return 3;case Ne.Debug:return 4}}static get isDebugging(){return this._isDebugging}static debug(e,...t){ke.isDebugging&&console.log(this.timestamp,Pn,e!=null?e:xt,...t),!(this.output===void 0||this.level<4)&&this.output.appendLine(`${this.timestamp} ${e!=null?e:xt}${this.toLoggableParams(!0,t)}`)}static error(e,t,...n){if(!(this.level<1&&!ke.isDebugging)){if(t===void 0){const r=e instanceof Error?e.stack:void 0;if(r){const i=/.*\s*?at\s(.+?)\s/.exec(r);i!==null&&(t=i[1])}}ke.isDebugging&&console.error(this.timestamp,Pn,t!=null?t:xt,...n,e),!(this.output===void 0||this.level<1)&&this.output.appendLine(`${this.timestamp} ${t!=null?t:xt}${this.toLoggableParams(!1,n)}
${String(e)}`)}}static log(e,...t){ke.isDebugging&&console.log(this.timestamp,Pn,e!=null?e:xt,...t),!(this.output===void 0||this.level<3)&&this.output.appendLine(`${this.timestamp} ${e!=null?e:xt}${this.toLoggableParams(!1,t)}`)}static warn(e,...t){ke.isDebugging&&console.warn(this.timestamp,Pn,e!=null?e:xt,...t),!(this.output===void 0||this.level<2)&&this.output.appendLine(`${this.timestamp} ${e!=null?e:xt}${this.toLoggableParams(!1,t)}`)}static showOutputChannel(){var e;(e=this.output)==null||e.show()}static toLoggable(e,t){if(typeof e!="object")return String(e);if(e instanceof d.Uri)return`Uri(${e.toString(!0)})`;try{return JSON.stringify(e,t)}catch{return"<error>"}}static toLoggableName(e){var t,n,r;let i;if(typeof e=="function"){if(e.prototype===void 0||e.prototype.constructor===void 0)return e.name;i=(t=e.prototype.constructor.name)!=null?t:xt}else i=(r=(n=e.constructor)==null?void 0:n.name)!=null?r:xt;const a=i.indexOf("_");return a===-1?i:i.substr(a+1)}static get timestamp(){const e=new Date;return`[${e.toISOString().replace(/T/," ").replace(/\..+/,xt)}:${`00${e.getUTCMilliseconds()}`.slice(-3)}]`}static toLoggableParams(e,t){if(t.length===0||e&&this.level<4&&!ke.isDebugging)return xt;const n=t.map(r=>this.toLoggable(r)).join(", ");return n.length!==0?` \u2014 ${n}`:xt}},"_Logger");let le=ke;le.level=0,le._logLevel=Ne.Off;class Ce{constructor(t){this.provider=t,this._timeout=0,this._disposable=rt.onDidChange(this.onConfigurationChanged,this),this.maybeQueueFetch()}dispose(){this._disposable.dispose(),this._timeout&&clearTimeout(this._timeout)}get config(){var t;if(this._config===void 0){const n=rt.get("autoFetch");this._config={enabled:(t=n.enabled)!=null?t:!0,interval:n.interval*1e3}}return this._config}onConfigurationChanged(t){!rt.changed(t,"autoFetch")||(this._config=void 0,this.maybeQueueFetch())}async fetchAll(){const t=this.provider.repositories;t.length!==0&&(await d.window.withProgress({location:d.ProgressLocation.SourceControl},async()=>{for(const n of t)try{await this.provider.fetch(n.uri)}catch(r){le.error(r)}}),this.maybeQueueFetch())}maybeQueueFetch(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),!!this.config.enabled&&(this._timeout=setTimeout(()=>this.fetchAll(),this.config.interval))}}l(Ce,"AutoFetchService");var Xe=__webpack_require__(189);function ht(){}l(ht,"Diff"),ht.prototype={diff:l(function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.callback;typeof r=="function"&&(i=r,r={}),this.options=r;var a=this;function o(T){return i?(setTimeout(function(){i(void 0,T)},0),!0):T}l(o,"done"),t=this.castInput(t),n=this.castInput(n),t=this.removeEmpty(this.tokenize(t)),n=this.removeEmpty(this.tokenize(n));var s=n.length,u=t.length,c=1,f=s+u,v=[{newPos:-1,components:[]}],g=this.extractCommon(v[0],n,t,0);if(v[0].newPos+1>=s&&g+1>=u)return o([{value:this.join(n),count:n.length}]);function w(){for(var T=-1*c;T<=c;T+=2){var C=void 0,D=v[T-1],$=v[T+1],V=($?$.newPos:0)-T;D&&(v[T-1]=void 0);var q=D&&D.newPos+1<s,ee=$&&0<=V&&V<u;if(!q&&!ee){v[T]=void 0;continue}if(!q||ee&&D.newPos<$.newPos?(C=kt($),a.pushComponent(C.components,void 0,!0)):(C=D,C.newPos++,a.pushComponent(C.components,!0,void 0)),V=a.extractCommon(C,n,t,T),C.newPos+1>=s&&V+1>=u)return o(Rt(a,C.components,n,t,a.useLongestToken));v[T]=C}c++}if(l(w,"execEditLength"),i)l(function T(){setTimeout(function(){if(c>f)return i();w()||T()},0)},"exec")();else for(;c<=f;){var A=w();if(A)return A}},"diff"),pushComponent:l(function(t,n,r){var i=t[t.length-1];i&&i.added===n&&i.removed===r?t[t.length-1]={count:i.count+1,added:n,removed:r}:t.push({count:1,added:n,removed:r})},"pushComponent"),extractCommon:l(function(t,n,r,i){for(var a=n.length,o=r.length,s=t.newPos,u=s-i,c=0;s+1<a&&u+1<o&&this.equals(n[s+1],r[u+1]);)s++,u++,c++;return c&&t.components.push({count:c}),t.newPos=s,u},"extractCommon"),equals:l(function(t,n){return this.options.comparator?this.options.comparator(t,n):t===n||this.options.ignoreCase&&t.toLowerCase()===n.toLowerCase()},"equals"),removeEmpty:l(function(t){for(var n=[],r=0;r<t.length;r++)t[r]&&n.push(t[r]);return n},"removeEmpty"),castInput:l(function(t){return t},"castInput"),tokenize:l(function(t){return t.split("")},"tokenize"),join:l(function(t){return t.join("")},"join")};function Rt(e,t,n,r,i){for(var a=0,o=t.length,s=0,u=0;a<o;a++){var c=t[a];if(c.removed){if(c.value=e.join(r.slice(u,u+c.count)),u+=c.count,a&&t[a-1].added){var v=t[a-1];t[a-1]=t[a],t[a]=v}}else{if(!c.added&&i){var f=n.slice(s,s+c.count);f=f.map(function(w,A){var T=r[u+A];return T.length>w.length?T:w}),c.value=e.join(f)}else c.value=e.join(n.slice(s,s+c.count));s+=c.count,c.added||(u+=c.count)}}var g=t[o-1];return o>1&&typeof g.value=="string"&&(g.added||g.removed)&&e.equals("",g.value)&&(t[o-2].value+=g.value,t.pop()),t}l(Rt,"buildValues");function kt(e){return{newPos:e.newPos,components:e.components.slice(0)}}l(kt,"clonePath");var E=new ht;function h(e,t,n){return E.diff(e,t,n)}l(h,"diffChars");function p(e,t){if(typeof e=="function")t.callback=e;else if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}l(p,"generateOptions");var F=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,Q=/\S/,ae=new ht;ae.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!Q.test(e)&&!Q.test(t)},ae.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),n=0;n<t.length-1;n++)!t[n+1]&&t[n+2]&&F.test(t[n])&&F.test(t[n+2])&&(t[n]+=t[n+2],t.splice(n+1,2),n--);return t};function pe(e,t,n){return n=p(n,{ignoreWhitespace:!0}),ae.diff(e,t,n)}l(pe,"diffWords");function it(e,t,n){return ae.diff(e,t,n)}l(it,"diffWordsWithSpace");var At=new ht;At.tokenize=function(e){var t=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var r=0;r<n.length;r++){var i=n[r];r%2&&!this.options.newlineIsToken?t[t.length-1]+=i:(this.options.ignoreWhitespace&&(i=i.trim()),t.push(i))}return t};function It(e,t,n){return At.diff(e,t,n)}l(It,"diffLines");function Ot(e,t,n){var r=p(n,{ignoreWhitespace:!0});return At.diff(e,t,r)}l(Ot,"diffTrimmedLines");var ut=new ht;ut.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};function $l(e,t,n){return ut.diff(e,t,n)}l($l,"diffSentences");var Vo=new ht;Vo.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function Zf(e,t,n){return Vo.diff(e,t,n)}l(Zf,"diffCss");function Hr(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Hr=l(function(t){return typeof t},"_typeof"):Hr=l(function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},"_typeof"),Hr(e)}l(Hr,"_typeof");function yn(e){return Ta(e)||Ra(e)||ka(e)||Ml()}l(yn,"_toConsumableArray");function Ta(e){if(Array.isArray(e))return _r(e)}l(Ta,"_arrayWithoutHoles");function Ra(e){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e))return Array.from(e)}l(Ra,"_iterableToArray");function ka(e,t){if(!!e){if(typeof e=="string")return _r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _r(e,t)}}l(ka,"_unsupportedIterableToArray");function _r(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}l(_r,"_arrayLikeToArray");function Ml(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}l(Ml,"_nonIterableSpread");var Pl=Object.prototype.toString,zr=new ht;zr.useLongestToken=!0,zr.tokenize=At.tokenize,zr.castInput=function(e){var t=this.options,n=t.undefinedReplacement,r=t.stringifyReplacer,i=r===void 0?function(a,o){return typeof o=="undefined"?n:o}:r;return typeof e=="string"?e:JSON.stringify(Da(e,null,null,i),i,"  ")},zr.equals=function(e,t){return ht.prototype.equals.call(zr,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function Qf(e,t,n){return zr.diff(e,t,n)}l(Qf,"diffJson");function Da(e,t,n,r,i){t=t||[],n=n||[],r&&(e=r(i,e));var a;for(a=0;a<t.length;a+=1)if(t[a]===e)return n[a];var o;if(Pl.call(e)==="[object Array]"){for(t.push(e),o=new Array(e.length),n.push(o),a=0;a<e.length;a+=1)o[a]=Da(e[a],t,n,r,i);return t.pop(),n.pop(),o}if(e&&e.toJSON&&(e=e.toJSON()),Hr(e)==="object"&&e!==null){t.push(e),o={},n.push(o);var s=[],u;for(u in e)e.hasOwnProperty(u)&&s.push(u);for(s.sort(),a=0;a<s.length;a+=1)u=s[a],o[u]=Da(e[u],t,n,r,u);t.pop(),n.pop()}else o=e;return o}l(Da,"canonicalize");var di=new ht;di.tokenize=function(e){return e.slice()},di.join=di.removeEmpty=function(e){return e};function Go(e,t,n){return di.diff(e,t,n)}l(Go,"diffArrays");function Nn(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.split(/\r\n|[\n\v\f\r\x85]/),r=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],i=[],a=0;function o(){var c={};for(i.push(c);a<n.length;){var f=n[a];if(/^(\-\-\-|\+\+\+|@@)\s/.test(f))break;var v=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(f);v&&(c.index=v[1]),a++}for(s(c),s(c),c.hunks=[];a<n.length;){var g=n[a];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(g))break;if(/^@@/.test(g))c.hunks.push(u());else{if(g&&t.strict)throw new Error("Unknown line "+(a+1)+" "+JSON.stringify(g));a++}}}l(o,"parseIndex");function s(c){var f=/^(---|\+\+\+)\s+(.*)$/.exec(n[a]);if(f){var v=f[1]==="---"?"old":"new",g=f[2].split("	",2),w=g[0].replace(/\\\\/g,"\\");/^".*"$/.test(w)&&(w=w.substr(1,w.length-2)),c[v+"FileName"]=w,c[v+"Header"]=(g[1]||"").trim(),a++}}l(s,"parseFileHeader");function u(){var c=a,f=n[a++],v=f.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),g={oldStart:+v[1],oldLines:typeof v[2]=="undefined"?1:+v[2],newStart:+v[3],newLines:typeof v[4]=="undefined"?1:+v[4],lines:[],linedelimiters:[]};g.oldLines===0&&(g.oldStart+=1),g.newLines===0&&(g.newStart+=1);for(var w=0,A=0;a<n.length&&!(n[a].indexOf("--- ")===0&&a+2<n.length&&n[a+1].indexOf("+++ ")===0&&n[a+2].indexOf("@@")===0);a++){var T=n[a].length==0&&a!=n.length-1?" ":n[a][0];if(T==="+"||T==="-"||T===" "||T==="\\")g.lines.push(n[a]),g.linedelimiters.push(r[a]||`
`),T==="+"?w++:T==="-"?A++:T===" "&&(w++,A++);else break}if(!w&&g.newLines===1&&(g.newLines=0),!A&&g.oldLines===1&&(g.oldLines=0),t.strict){if(w!==g.newLines)throw new Error("Added line count did not match for hunk at line "+(c+1));if(A!==g.oldLines)throw new Error("Removed line count did not match for hunk at line "+(c+1))}return g}for(l(u,"parseHunk");a<n.length;)o();return i}l(Nn,"parsePatch");function Ol(e,t,n){var r=!0,i=!1,a=!1,o=1;return l(function s(){if(r&&!a){if(i?o++:r=!1,e+o<=n)return o;a=!0}if(!i)return a||(r=!0),t<=e-o?-o++:(i=!0,s())},"iterator")}l(Ol,"distanceIterator");function Ko(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string"&&(t=Nn(t)),Array.isArray(t)){if(t.length>1)throw new Error("applyPatch only works with a single input.");t=t[0]}var r=e.split(/\r\n|[\n\v\f\r\x85]/),i=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],a=t.hunks,o=n.compareLine||function(xe,Re,Te,Ge){return Re===Ge},s=0,u=n.fuzzFactor||0,c=0,f=0,v,g;function w(xe,Re){for(var Te=0;Te<xe.lines.length;Te++){var Ge=xe.lines[Te],Ye=Ge.length>0?Ge[0]:" ",ot=Ge.length>0?Ge.substr(1):Ge;if(Ye===" "||Ye==="-"){if(!o(Re+1,r[Re],Ye,ot)&&(s++,s>u))return!1;Re++}}return!0}l(w,"hunkFits");for(var A=0;A<a.length;A++){for(var T=a[A],C=r.length-T.oldLines,D=0,$=f+T.oldStart-1,V=Ol($,c,C);D!==void 0;D=V())if(w(T,$+D)){T.offset=f+=D;break}if(D===void 0)return!1;c=T.offset+T.oldStart+T.oldLines}for(var q=0,ee=0;ee<a.length;ee++){var _e=a[ee],ge=_e.oldStart+_e.offset+q-1;q+=_e.newLines-_e.oldLines;for(var de=0;de<_e.lines.length;de++){var Ie=_e.lines[de],fe=Ie.length>0?Ie[0]:" ",De=Ie.length>0?Ie.substr(1):Ie,Ze=_e.linedelimiters[de];if(fe===" ")ge++;else if(fe==="-")r.splice(ge,1),i.splice(ge,1);else if(fe==="+")r.splice(ge,0,De),i.splice(ge,0,Ze),ge++;else if(fe==="\\"){var vt=_e.lines[de-1]?_e.lines[de-1][0]:null;vt==="+"?v=!0:vt==="-"&&(g=!0)}}}if(v)for(;!r[r.length-1];)r.pop(),i.pop();else g&&(r.push(""),i.push(`
`));for(var ie=0;ie<r.length-1;ie++)r[ie]=r[ie]+i[ie];return r.join("")}l(Ko,"applyPatch");function Xf(e,t){typeof e=="string"&&(e=Nn(e));var n=0;function r(){var i=e[n++];if(!i)return t.complete();t.loadFile(i,function(a,o){if(a)return t.complete(a);var s=Ko(o,i,t);t.patched(i,s,function(u){if(u)return t.complete(u);r()})})}l(r,"processIndex"),r()}l(Xf,"applyPatches");function Zo(e,t,n,r,i,a,o){o||(o={}),typeof o.context=="undefined"&&(o.context=4);var s=It(n,r,o);s.push({value:"",lines:[]});function u(D){return D.map(function($){return" "+$})}l(u,"contextLines");for(var c=[],f=0,v=0,g=[],w=1,A=1,T=l(function($){var V=s[$],q=V.lines||V.value.replace(/\n$/,"").split(`
`);if(V.lines=q,V.added||V.removed){var ee;if(!f){var _e=s[$-1];f=w,v=A,_e&&(g=o.context>0?u(_e.lines.slice(-o.context)):[],f-=g.length,v-=g.length)}(ee=g).push.apply(ee,yn(q.map(function(ie){return(V.added?"+":"-")+ie}))),V.added?A+=q.length:w+=q.length}else{if(f)if(q.length<=o.context*2&&$<s.length-2){var ge;(ge=g).push.apply(ge,yn(u(q)))}else{var de,Ie=Math.min(q.length,o.context);(de=g).push.apply(de,yn(u(q.slice(0,Ie))));var fe={oldStart:f,oldLines:w-f+Ie,newStart:v,newLines:A-v+Ie,lines:g};if($>=s.length-2&&q.length<=o.context){var De=/\n$/.test(n),Ze=/\n$/.test(r),vt=q.length==0&&g.length>fe.oldLines;!De&&vt&&n.length>0&&g.splice(fe.oldLines,0,"\\ No newline at end of file"),(!De&&!vt||!Ze)&&g.push("\\ No newline at end of file")}c.push(fe),f=0,v=0,g=[]}w+=q.length,A+=q.length}},"_loop"),C=0;C<s.length;C++)T(C);return{oldFileName:e,newFileName:t,oldHeader:i,newHeader:a,hunks:c}}l(Zo,"structuredPatch");function Ul(e){var t=[];e.oldFileName==e.newFileName&&t.push("Index: "+e.oldFileName),t.push("==================================================================="),t.push("--- "+e.oldFileName+(typeof e.oldHeader=="undefined"?"":"	"+e.oldHeader)),t.push("+++ "+e.newFileName+(typeof e.newHeader=="undefined"?"":"	"+e.newHeader));for(var n=0;n<e.hunks.length;n++){var r=e.hunks[n];r.oldLines===0&&(r.oldStart-=1),r.newLines===0&&(r.newStart-=1),t.push("@@ -"+r.oldStart+","+r.oldLines+" +"+r.newStart+","+r.newLines+" @@"),t.push.apply(t,r.lines)}return t.join(`
`)+`
`}l(Ul,"formatPatch");function Vn(e,t,n,r,i,a,o){return Ul(Zo(e,t,n,r,i,a,o))}l(Vn,"createTwoFilesPatch");function Hl(e,t,n,r,i,a){return Vn(e,e,t,n,r,i,a)}l(Hl,"createPatch");function zl(e,t){return e.length!==t.length?!1:Fa(e,t)}l(zl,"arrayEqual");function Fa(e,t){if(t.length>e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}l(Fa,"arrayStartsWith");function ql(e){var t=La(e.lines),n=t.oldLines,r=t.newLines;n!==void 0?e.oldLines=n:delete e.oldLines,r!==void 0?e.newLines=r:delete e.newLines}l(ql,"calcLineCount");function Yf(e,t,n){e=ir(e,n),t=ir(t,n);var r={};(e.index||t.index)&&(r.index=e.index||t.index),(e.newFileName||t.newFileName)&&(Qo(e)?Qo(t)?(r.oldFileName=Hi(r,e.oldFileName,t.oldFileName),r.newFileName=Hi(r,e.newFileName,t.newFileName),r.oldHeader=Hi(r,e.oldHeader,t.oldHeader),r.newHeader=Hi(r,e.newHeader,t.newHeader)):(r.oldFileName=e.oldFileName,r.newFileName=e.newFileName,r.oldHeader=e.oldHeader,r.newHeader=e.newHeader):(r.oldFileName=t.oldFileName||e.oldFileName,r.newFileName=t.newFileName||e.newFileName,r.oldHeader=t.oldHeader||e.oldHeader,r.newHeader=t.newHeader||e.newHeader)),r.hunks=[];for(var i=0,a=0,o=0,s=0;i<e.hunks.length||a<t.hunks.length;){var u=e.hunks[i]||{oldStart:1/0},c=t.hunks[a]||{oldStart:1/0};if(Xo(u,c))r.hunks.push(Yo(u,o)),i++,s+=u.newLines-u.oldLines;else if(Xo(c,u))r.hunks.push(Yo(c,s)),a++,o+=c.newLines-c.oldLines;else{var f={oldStart:Math.min(u.oldStart,c.oldStart),oldLines:0,newStart:Math.min(u.newStart+o,c.oldStart+s),newLines:0,lines:[]};Wl(f,u.oldStart,u.lines,c.oldStart,c.lines),a++,i++,r.hunks.push(f)}}return r}l(Yf,"merge");function ir(e,t){if(typeof e=="string"){if(/^@@/m.test(e)||/^Index:/m.test(e))return Nn(e)[0];if(!t)throw new Error("Must provide a base reference or pass in a patch");return Zo(void 0,void 0,t,e)}return e}l(ir,"loadPatch");function Qo(e){return e.newFileName&&e.newFileName!==e.oldFileName}l(Qo,"fileNameChanged");function Hi(e,t,n){return t===n?t:(e.conflict=!0,{mine:t,theirs:n})}l(Hi,"selectField");function Xo(e,t){return e.oldStart<t.oldStart&&e.oldStart+e.oldLines<t.oldStart}l(Xo,"hunkBefore");function Yo(e,t){return{oldStart:e.oldStart,oldLines:e.oldLines,newStart:e.newStart+t,newLines:e.newLines,lines:e.lines}}l(Yo,"cloneHunk");function Wl(e,t,n,r,i){var a={offset:t,lines:n,index:0},o={offset:r,lines:i,index:0};for(Gn(e,a,o),Gn(e,o,a);a.index<a.lines.length&&o.index<o.lines.length;){var s=a.lines[a.index],u=o.lines[o.index];if((s[0]==="-"||s[0]==="+")&&(u[0]==="-"||u[0]==="+"))zi(e,a,o);else if(s[0]==="+"&&u[0]===" "){var c;(c=e.lines).push.apply(c,yn(xr(a)))}else if(u[0]==="+"&&s[0]===" "){var f;(f=e.lines).push.apply(f,yn(xr(o)))}else s[0]==="-"&&u[0]===" "?Jo(e,a,o):u[0]==="-"&&s[0]===" "?Jo(e,o,a,!0):s===u?(e.lines.push(s),a.index++,o.index++):Na(e,xr(a),xr(o))}es(e,a),es(e,o),ql(e)}l(Wl,"mergeLines");function zi(e,t,n){var r=xr(t),i=xr(n);if(ts(r)&&ts(i)){if(Fa(r,i)&&ns(n,r,r.length-i.length)){var a;(a=e.lines).push.apply(a,yn(r));return}else if(Fa(i,r)&&ns(t,i,i.length-r.length)){var o;(o=e.lines).push.apply(o,yn(i));return}}else if(zl(r,i)){var s;(s=e.lines).push.apply(s,yn(r));return}Na(e,r,i)}l(zi,"mutualChange");function Jo(e,t,n,r){var i=xr(t),a=jl(n,i);if(a.merged){var o;(o=e.lines).push.apply(o,yn(a.merged))}else Na(e,r?a:i,r?i:a)}l(Jo,"removal");function Na(e,t,n){e.conflict=!0,e.lines.push({conflict:!0,mine:t,theirs:n})}l(Na,"conflict");function Gn(e,t,n){for(;t.offset<n.offset&&t.index<t.lines.length;){var r=t.lines[t.index++];e.lines.push(r),t.offset++}}l(Gn,"insertLeading");function es(e,t){for(;t.index<t.lines.length;){var n=t.lines[t.index++];e.lines.push(n)}}l(es,"insertTrailing");function xr(e){for(var t=[],n=e.lines[e.index][0];e.index<e.lines.length;){var r=e.lines[e.index];if(n==="-"&&r[0]==="+"&&(n="+"),n===r[0])t.push(r),e.index++;else break}return t}l(xr,"collectChange");function jl(e,t){for(var n=[],r=[],i=0,a=!1,o=!1;i<t.length&&e.index<e.lines.length;){var s=e.lines[e.index],u=t[i];if(u[0]==="+")break;if(a=a||s[0]!==" ",r.push(u),i++,s[0]==="+")for(o=!0;s[0]==="+";)n.push(s),s=e.lines[++e.index];u.substr(1)===s.substr(1)?(n.push(s),e.index++):o=!0}if((t[i]||"")[0]==="+"&&a&&(o=!0),o)return n;for(;i<t.length;)r.push(t[i++]);return{merged:r,changes:n}}l(jl,"collectContext");function ts(e){return e.reduce(function(t,n){return t&&n[0]==="-"},!0)}l(ts,"allRemoves");function ns(e,t,n){for(var r=0;r<n;r++){var i=t[t.length-n+r].substr(1);if(e.lines[e.index+r]!==" "+i)return!1}return e.index+=n,!0}l(ns,"skipRemoveSuperset");function La(e){var t=0,n=0;return e.forEach(function(r){if(typeof r!="string"){var i=La(r.mine),a=La(r.theirs);t!==void 0&&(i.oldLines===a.oldLines?t+=i.oldLines:t=void 0),n!==void 0&&(i.newLines===a.newLines?n+=i.newLines:n=void 0)}else n!==void 0&&(r[0]==="+"||r[0]===" ")&&n++,t!==void 0&&(r[0]==="-"||r[0]===" ")&&t++}),{oldLines:t,newLines:n}}l(La,"calcOldNewLineCount");function Ba(e){for(var t=[],n,r,i=0;i<e.length;i++)n=e[i],n.added?r=1:n.removed?r=-1:r=0,t.push([r,n.value]);return t}l(Ba,"convertChangesToDMP");function Jf(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];r.added?t.push("<ins>"):r.removed&&t.push("<del>"),t.push(hi(r.value)),r.added?t.push("</ins>"):r.removed&&t.push("</del>")}return t.join("")}l(Jf,"convertChangesToXML");function hi(e){var t=e;return t=t.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=t.replace(/"/g,"&quot;"),t}l(hi,"escapeHTML");var $a=/[^a-zA-Z0-9]/,Ma=/\s/,rs=/[\r\n]/,Vl=/\n\r?\n$/,Gl=/^\r?\n\r?\n/,Se;(function(e){e[e.DIFF_DELETE=-1]="DIFF_DELETE",e[e.DIFF_INSERT=1]="DIFF_INSERT",e[e.DIFF_EQUAL=0]="DIFF_EQUAL"})(Se||(Se={}));function is(e,t){return e<t?e:t}l(is,"min");function Kl(e,t){return e>t?e:t}l(Kl,"max");var hn=K,qr=function(){function e(){this.diffs=[],this.start1=0,this.start2=0,this.length1=0,this.length2=0}return l(e,"PatchObject"),e.prototype.toString=function(){var t,n;this.length1===0?t=this.start1+",0":this.length1===1?t=this.start1+1:t=this.start1+1+","+this.length1,this.length2===0?n=this.start2+",0":this.length2===1?n=this.start2+1:n=this.start2+1+","+this.length2;for(var r=["@@ -"+t+" +"+n+` @@
`],i,a=0;a<this.diffs.length;a++){switch(this.diffs[a][0]){case Se.DIFF_INSERT:i="+";break;case Se.DIFF_DELETE:i="-";break;case Se.DIFF_EQUAL:i=" ";break}r[a+1]=i+encodeURI(this.diffs[a][1])+`
`}return r.join("").replace(/%20/g," ")},e}(),qi=function(){function e(){this.diffTimeout=1,this.diffEditCost=4,this.matchThreshold=.5,this.matchDistance=1e3,this.patchDeleteThreshold=.5,this.patchMargin=4,this.matchMaxBits=32}return l(e,"DiffMatchPatch"),e.prototype.diff_main=function(t,n,r,i){typeof i=="undefined"&&(this.diffTimeout<=0?i=Number.MAX_VALUE:i=Date.now()+this.diffTimeout*1e3);var a=i;if(t==null||n==null)throw new Error("Null input. (diff_main)");if(t===n)return t?[[Se.DIFF_EQUAL,t]]:[];typeof r=="undefined"&&(r=!0);var o=r,s=this.diff_commonPrefix(t,n),u=t.substring(0,s);t=t.substring(s),n=n.substring(s),s=this.diff_commonSuffix(t,n);var c=t.substring(t.length-s);t=t.substring(0,t.length-s),n=n.substring(0,n.length-s);var f=this.diff_compute_(t,n,o,a);return u&&f.unshift([Se.DIFF_EQUAL,u]),c&&f.push([Se.DIFF_EQUAL,c]),this.diff_cleanupMerge(f),f},e.prototype.diff_commonPrefix=function(t,n){if(!t||!n||t.charAt(0)!==n.charAt(0))return 0;for(var r=0,i=hn.min(t.length,n.length),a=i,o=0;r<a;)t.substring(o,a)===n.substring(o,a)?(r=a,o=r):i=a,a=Math.floor((i-r)/2+r);return a},e.prototype.diff_commonSuffix=function(t,n){if(!t||!n||t.charAt(t.length-1)!==n.charAt(n.length-1))return 0;for(var r=0,i=hn.min(t.length,n.length),a=i,o=0;r<a;)t.substring(t.length-a,t.length-o)===n.substring(n.length-a,n.length-o)?(r=a,o=r):i=a,a=Math.floor((i-r)/2+r);return a},e.prototype.diff_cleanupSemantic=function(t){for(var n=!1,r=[],i=0,a=null,o=0,s=0,u=0,c=0,f=0;o<t.length;)t[o][0]===Se.DIFF_EQUAL?(r[i++]=o,s=c,u=f,c=0,f=0,a=t[o][1]):(t[o][0]===Se.DIFF_INSERT?c+=t[o][1].length:f+=t[o][1].length,a&&a.length<=hn.max(s,u)&&a.length<=hn.max(c,f)&&(t.splice(r[i-1],0,[Se.DIFF_DELETE,a]),t[r[i-1]+1][0]=Se.DIFF_INSERT,i--,i--,o=i>0?r[i-1]:-1,s=0,u=0,c=0,f=0,a=null,n=!0)),o++;for(n&&this.diff_cleanupMerge(t),this.diff_cleanupSemanticLossless(t),o=1;o<t.length;){if(t[o-1][0]===Se.DIFF_DELETE&&t[o][0]===Se.DIFF_INSERT){var v=t[o-1][1],g=t[o][1],w=this.diff_commonOverlap_(v,g),A=this.diff_commonOverlap_(g,v);w>=A?(w>=v.length/2||w>=g.length/2)&&(t.splice(o,0,[Se.DIFF_EQUAL,g.substring(0,w)]),t[o-1][1]=v.substring(0,v.length-w),t[o+1][1]=g.substring(w),o++):(A>=v.length/2||A>=g.length/2)&&(t.splice(o,0,[Se.DIFF_EQUAL,v.substring(0,A)]),t[o-1][0]=Se.DIFF_INSERT,t[o-1][1]=g.substring(0,g.length-A),t[o+1][0]=Se.DIFF_DELETE,t[o+1][1]=v.substring(A),o++),o++}o++}},e.prototype.diff_cleanupSemanticLossless=function(t){for(var n=1;n<t.length-1;){if(t[n-1][0]===Se.DIFF_EQUAL&&t[n+1][0]===Se.DIFF_EQUAL){var r=t[n-1][1],i=t[n][1],a=t[n+1][1],o=this.diff_commonSuffix(r,i);if(o){var s=i.substring(i.length-o);r=r.substring(0,r.length-o),i=s+i.substring(0,i.length-o),a=s+a}for(var u=r,c=i,f=a,v=this.diff_cleanupSemanticScore_(r,i)+this.diff_cleanupSemanticScore_(i,a);i.charAt(0)===a.charAt(0);){r+=i.charAt(0),i=i.substring(1)+a.charAt(0),a=a.substring(1);var g=this.diff_cleanupSemanticScore_(r,i)+this.diff_cleanupSemanticScore_(i,a);g>=v&&(v=g,u=r,c=i,f=a)}t[n-1][1]!==u&&(u?t[n-1][1]=u:(t.splice(n-1,1),n--),t[n][1]=c,f?t[n+1][1]=f:(t.splice(n+1,1),n--))}n++}},e.prototype.diff_cleanupEfficiency=function(t){for(var n=!1,r=[],i=0,a=null,o=0,s=!1,u=!1,c=!1,f=!1;o<t.length;)t[o][0]===Se.DIFF_EQUAL?(t[o][1].length<this.diffEditCost&&(c||f)?(r[i++]=o,s=c,u=f,a=t[o][1]):(i=0,a=null),c=f=!1):(t[o][0]===Se.DIFF_DELETE?f=!0:c=!0,a&&(s&&u&&c&&f||a.length<this.diffEditCost/2&&Number(s)+Number(u)+Number(c)+Number(f)===3)&&(t.splice(r[i-1],0,[Se.DIFF_DELETE,a]),t[r[i-1]+1][0]=Se.DIFF_INSERT,i--,a=null,s&&u?(c=f=!0,i=0):(i--,o=i>0?r[i-1]:-1,c=f=!1),n=!0)),o++;n&&this.diff_cleanupMerge(t)},e.prototype.diff_cleanupMerge=function(t){t.push([Se.DIFF_EQUAL,""]);for(var n=0,r=0,i=0,a="",o="",s;n<t.length;)switch(t[n][0]){case Se.DIFF_INSERT:i++,o+=t[n][1],n++;break;case Se.DIFF_DELETE:r++,a+=t[n][1],n++;break;case Se.DIFF_EQUAL:r+i>1?(r!==0&&i!==0&&(s=this.diff_commonPrefix(o,a),s!==0&&(n-r-i>0&&t[n-r-i-1][0]===Se.DIFF_EQUAL?t[n-r-i-1][1]+=o.substring(0,s):(t.splice(0,0,[Se.DIFF_EQUAL,o.substring(0,s)]),n++),o=o.substring(s),a=a.substring(s)),s=this.diff_commonSuffix(o,a),s!==0&&(t[n][1]=o.substring(o.length-s)+t[n][1],o=o.substring(0,o.length-s),a=a.substring(0,a.length-s))),n-=r+i,t.splice(n,r+i),a.length&&(t.splice(n,0,[Se.DIFF_DELETE,a]),n++),o.length&&(t.splice(n,0,[Se.DIFF_INSERT,o]),n++),n++):n!==0&&t[n-1][0]===Se.DIFF_EQUAL?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,i=0,r=0,a="",o="";break}t[t.length-1][1]===""&&t.pop();var u=!1;for(n=1;n<t.length-1;)t[n-1][0]===Se.DIFF_EQUAL&&t[n+1][0]===Se.DIFF_EQUAL&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),u=!0):t[n][1].substring(0,t[n+1][1].length)===t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),u=!0)),n++;u&&this.diff_cleanupMerge(t)},e.prototype.diff_xIndex=function(t,n){var r=0,i=0,a=0,o=0,s;for(s=0;s<t.length&&(t[s][0]!==Se.DIFF_INSERT&&(r+=t[s][1].length),t[s][0]!==Se.DIFF_DELETE&&(i+=t[s][1].length),!(r>n));s++)a=r,o=i;return t.length!==s&&t[s][0]===Se.DIFF_DELETE?o:o+(n-a)},e.prototype.diff_prettyHtml=function(t){for(var n=[],r=/&/g,i=/</g,a=/>/g,o=/\n/g,s=0;s<t.length;s++){var u=t[s][0],c=t[s][1],f=c.replace(r,"&amp;").replace(i,"&lt;").replace(a,"&gt;").replace(o,"&para;<br>");switch(u){case Se.DIFF_INSERT:n[s]='<ins style="background:#e6ffe6;">'+f+"</ins>";break;case Se.DIFF_DELETE:n[s]='<del style="background:#ffe6e6;">'+f+"</del>";break;case Se.DIFF_EQUAL:n[s]="<span>"+f+"</span>";break}}return n.join("")},e.prototype.diff_text1=function(t){for(var n=[],r=0;r<t.length;r++)t[r][0]!==Se.DIFF_INSERT&&(n[r]=t[r][1]);return n.join("")},e.prototype.diff_text2=function(t){for(var n=[],r=0;r<t.length;r++)t[r][0]!==Se.DIFF_DELETE&&(n[r]=t[r][1]);return n.join("")},e.prototype.diff_levenshtein=function(t){for(var n=0,r=0,i=0,a=0;a<t.length;a++){var o=t[a][0],s=t[a][1];switch(o){case Se.DIFF_INSERT:r+=s.length;break;case Se.DIFF_DELETE:i+=s.length;break;case Se.DIFF_EQUAL:n+=hn.max(r,i),r=0,i=0;break}}return n+=hn.max(r,i),n},e.prototype.diff_toDelta=function(t){for(var n=[],r=0;r<t.length;r++)switch(t[r][0]){case Se.DIFF_INSERT:n[r]="+"+encodeURI(t[r][1]);break;case Se.DIFF_DELETE:n[r]="-"+t[r][1].length;break;case Se.DIFF_EQUAL:n[r]="="+t[r][1].length;break}return n.join("	").replace(/%20/g," ")},e.prototype.diff_fromDelta=function(t,n){for(var r=[],i=0,a=0,o=n.split(/\t/g),s=0;s<o.length;s++){var u=o[s].substring(1);switch(o[s].charAt(0)){case"+":try{r[i++]=[Se.DIFF_INSERT,decodeURI(u)]}catch(v){throw new Error("Illegal escape in diff_fromDelta: "+u)}break;case"-":case"=":var c=parseInt(u,10);if(isNaN(c)||c<0)throw new Error("Invalid number in diff_fromDelta: "+u);var f=t.substring(a,a+=c);o[s].charAt(0)==="="?r[i++]=[Se.DIFF_EQUAL,f]:r[i++]=[Se.DIFF_DELETE,f];break;default:if(o[s])throw new Error("Invalid diff operation in diff_fromDelta: "+o[s])}}if(a!==t.length)throw new Error("Delta length ("+a+") does not equal source text length ("+t.length+")");return r},e.prototype.diff_linesToChars=function(t,n){var r=[],i={};r[0]="";var a=this.diff_linesToCharsMunge_(t,r,i,4e4),o=this.diff_linesToCharsMunge_(n,r,i,65535);return{chars1:a,chars2:o,lineArray:r}},e.prototype.diff_charsToLines=function(t,n){for(var r=0;r<t.length;r++){for(var i=t[r][1],a=[],o=0;o<i.length;o++)a[o]=n[i.charCodeAt(o)];t[r][1]=a.join("")}},e.prototype.match_main=function(t,n,r){if(t==null||n==null||r==null)throw new Error("Null input. (match_main)");return r=hn.max(0,hn.min(r,t.length)),t===n?0:t.length?t.substring(r,r+n.length)===n?r:this.match_bitap_(t,n,r):-1},e.prototype.patch_make=function(t,n,r){var i,a;if(typeof t=="string"&&typeof n=="string"&&typeof r=="undefined")i=t,a=this.diff_main(i,n,!0),a.length>2&&(this.diff_cleanupSemantic(a),this.diff_cleanupEfficiency(a));else if(t&&typeof t=="object"&&typeof n=="undefined"&&typeof r=="undefined")a=t,i=this.diff_text1(a);else if(typeof t=="string"&&n&&typeof n=="object"&&typeof r=="undefined")i=t,a=n;else if(typeof t=="string"&&typeof n=="string"&&r&&typeof r=="object")i=t,a=r;else throw new Error("Unknown call format to patch_make");if(a.length===0)return[];for(var o=[],s=new qr,u=0,c=0,f=0,v=i,g=i,w=0;w<a.length;w++){var A=a[w][0],T=a[w][1];switch(!u&&A!==Se.DIFF_EQUAL&&(s.start1=c,s.start2=f),A){case Se.DIFF_INSERT:s.diffs[u++]=a[w],s.length2+=T.length,g=g.substring(0,f)+T+g.substring(f);break;case Se.DIFF_DELETE:s.length1+=T.length,s.diffs[u++]=a[w],g=g.substring(0,f)+g.substring(f+T.length);break;case Se.DIFF_EQUAL:T.length<=2*this.patchMargin&&u&&a.length!==w+1?(s.diffs[u++]=a[w],s.length1+=T.length,s.length2+=T.length):T.length>=2*this.patchMargin&&u&&(this.patch_addContext_(s,v),o.push(s),s=new qr,u=0,v=g,c=f);break}A!==Se.DIFF_INSERT&&(c+=T.length),A!==Se.DIFF_DELETE&&(f+=T.length)}return u&&(this.patch_addContext_(s,v),o.push(s)),o},e.prototype.patch_deepCopy=function(t){for(var n=[],r=0;r<t.length;r++){for(var i=t[r],a=new qr,o=0;o<i.diffs.length;o++)a.diffs[o]=[i.diffs[o][0],i.diffs[o][1]];a.start1=i.start1,a.start2=i.start2,a.length1=i.length1,a.length2=i.length2,n[r]=a}return n},e.prototype.patch_apply=function(t,n){if(t.length===0)return[n,[]];t=this.patch_deepCopy(t);var r=this.patch_addPadding(t);n=r+n+r,this.patch_splitMax(t);for(var i=0,a=[],o=0;o<t.length;o++){var s=t[o].start2+i,u=this.diff_text1(t[o].diffs),c=void 0,f=-1;if(u.length>this.matchMaxBits?(c=this.match_main(n,u.substring(0,this.matchMaxBits),s),c!==-1&&(f=this.match_main(n,u.substring(u.length-this.matchMaxBits),s+u.length-this.matchMaxBits),(f===-1||c>=f)&&(c=-1))):c=this.match_main(n,u,s),c===-1)a[o]=!1,i-=t[o].length2-t[o].length1;else{a[o]=!0,i=c-s;var v=void 0;if(f===-1?v=n.substring(c,c+u.length):v=n.substring(c,f+this.matchMaxBits),u===v)n=n.substring(0,c)+this.diff_text2(t[o].diffs)+n.substring(c+u.length);else{var g=this.diff_main(u,v,!1);if(u.length>this.matchMaxBits&&this.diff_levenshtein(g)/u.length>this.patchDeleteThreshold)a[o]=!1;else{this.diff_cleanupSemanticLossless(g);for(var w=0,A=0,T=0;T<t[o].diffs.length;T++){var C=t[o].diffs[T];C[0]!==Se.DIFF_EQUAL&&(A=this.diff_xIndex(g,w)),C[0]===Se.DIFF_INSERT?n=n.substring(0,c+A)+C[1]+n.substring(c+A):C[0]===Se.DIFF_DELETE&&(n=n.substring(0,c+A)+n.substring(c+this.diff_xIndex(g,w+C[1].length))),C[0]!==Se.DIFF_DELETE&&(w+=C[1].length)}}}}}return n=n.substring(r.length,n.length-r.length),[n,a]},e.prototype.patch_addPadding=function(t){for(var n=this.patchMargin,r="",i=1;i<=n;i++)r+=String.fromCharCode(i);for(var i=0;i<t.length;i++)t[i].start1+=n,t[i].start2+=n;var a=t[0],o=a.diffs;if(o.length===0||o[0][0]!==Se.DIFF_EQUAL)o.unshift([Se.DIFF_EQUAL,r]),a.start1-=n,a.start2-=n,a.length1+=n,a.length2+=n;else if(n>o[0][1].length){var s=n-o[0][1].length;o[0][1]=r.substring(o[0][1].length)+o[0][1],a.start1-=s,a.start2-=s,a.length1+=s,a.length2+=s}if(a=t[t.length-1],o=a.diffs,o.length===0||o[o.length-1][0]!==Se.DIFF_EQUAL)o.push([Se.DIFF_EQUAL,r]),a.length1+=n,a.length2+=n;else if(n>o[o.length-1][1].length){var s=n-o[o.length-1][1].length;o[o.length-1][1]+=r.substring(0,s),a.length1+=s,a.length2+=s}return r},e.prototype.patch_splitMax=function(t){for(var n=this.matchMaxBits,r=0;r<t.length;r++)if(!(t[r].length1<=n)){var i=t[r];t.splice(r--,1);for(var a=i.start1,o=i.start2,s="";i.diffs.length!==0;){var u=new qr,c=!0;for(u.start1=a-s.length,u.start2=o-s.length,s!==""&&(u.length1=u.length2=s.length,u.diffs.push([Se.DIFF_EQUAL,s]));i.diffs.length!==0&&u.length1<n-this.patchMargin;){var f=i.diffs[0][0],v=i.diffs[0][1];f===Se.DIFF_INSERT?(u.length2+=v.length,o+=v.length,u.diffs.push(i.diffs.shift()),c=!1):f===Se.DIFF_DELETE&&u.diffs.length===1&&u.diffs[0][0]===Se.DIFF_EQUAL&&v.length>2*n?(u.length1+=v.length,a+=v.length,c=!1,u.diffs.push([f,v]),i.diffs.shift()):(v=v.substring(0,n-u.length1-this.patchMargin),u.length1+=v.length,a+=v.length,f===Se.DIFF_EQUAL?(u.length2+=v.length,o+=v.length):c=!1,u.diffs.push([f,v]),v===i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(v.length))}s=this.diff_text2(u.diffs),s=s.substring(s.length-this.patchMargin);var g=this.diff_text1(i.diffs).substring(0,this.patchMargin);g!==""&&(u.length1+=g.length,u.length2+=g.length,u.diffs.length!==0&&u.diffs[u.diffs.length-1][0]===Se.DIFF_EQUAL?u.diffs[u.diffs.length-1][1]+=g:u.diffs.push([Se.DIFF_EQUAL,g])),c||t.splice(++r,0,u)}}},e.prototype.patch_toText=function(t){for(var n=[],r=0;r<t.length;r++)n[r]=t[r];return n.join("")},e.prototype.patch_fromText=function(t){var n=[];if(!t)return n;for(var r=t.split(`
`),i=0,a=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;i<r.length;){var o=r[i].match(a);if(!o)throw new Error("Invalid patch string: "+r[i]);var s=new qr;n.push(s),s.start1=parseInt(o[1],10),o[2]===""?(s.start1--,s.length1=1):o[2]==="0"?s.length1=0:(s.start1--,s.length1=parseInt(o[2],10)),s.start2=parseInt(o[3],10),o[4]===""?(s.start2--,s.length2=1):o[4]==="0"?s.length2=0:(s.start2--,s.length2=parseInt(o[4],10)),i++;for(var u=void 0,c=void 0,f=void 0;i<r.length;){u=r[i].charAt(0),f=r[i].substring(1);try{c=decodeURI(f)}catch(v){throw new Error("Illegal escape in patch_fromText: "+f)}if(u==="-")s.diffs.push([Se.DIFF_DELETE,c]);else if(u==="+")s.diffs.push([Se.DIFF_INSERT,c]);else if(u===" ")s.diffs.push([Se.DIFF_EQUAL,c]);else{if(u==="@")break;if(u!=="")throw new Error('Invalid patch mode "'+u+'" in: '+c)}i++}}return n},e.prototype.diff_compute_=function(t,n,r,i){var a;if(!t)return[[Se.DIFF_INSERT,n]];if(!n)return[[Se.DIFF_DELETE,t]];var o=t.length>n.length?t:n,s=t.length>n.length?n:t,u=o.indexOf(s);if(u!==-1)return a=[[Se.DIFF_INSERT,o.substring(0,u)],[Se.DIFF_EQUAL,s],[Se.DIFF_INSERT,o.substring(u+s.length)]],t.length>n.length&&(a[0][0]=Se.DIFF_DELETE,a[2][0]=Se.DIFF_DELETE),a;if(s.length===1)return[[Se.DIFF_DELETE,t],[Se.DIFF_INSERT,n]];var c=this.diff_halfMatch_(t,n);if(c){var f=c[0],v=c[1],g=c[2],w=c[3],A=c[4],T=this.diff_main(f,g,r,i),C=this.diff_main(v,w,r,i);return T.concat([[Se.DIFF_EQUAL,A]],C)}return r&&t.length>100&&n.length>100?this.diff_lineMode_(t,n,i):this.diff_bisect_(t,n,i)},e.prototype.diff_lineMode_=function(t,n,r){var i=this.diff_linesToChars(t,n);t=i.chars1,n=i.chars2;var a=i.lineArray,o=this.diff_main(t,n,!1,r);this.diff_charsToLines(o,a),this.diff_cleanupSemantic(o),o.push([Se.DIFF_EQUAL,""]);for(var s=0,u=0,c=0,f="",v="";s<o.length;){switch(o[s][0]){case Se.DIFF_INSERT:c++,v+=o[s][1];break;case Se.DIFF_DELETE:u++,f+=o[s][1];break;case Se.DIFF_EQUAL:if(u>=1&&c>=1){o.splice(s-u-c,u+c),s=s-u-c;for(var g=this.diff_main(f,v,!1,r),w=g.length-1;w>=0;w--)o.splice(s,0,g[w]);s=s+g.length}c=0,u=0,f="",v="";break}s++}return o.pop(),o},e.prototype.diff_bisect_=function(t,n,r){for(var i=t.length,a=n.length,o=Math.ceil((i+a)/2),s=o,u=2*o,c=new Array(u),f=new Array(u),v=0;v<u;v++)c[v]=-1,f[v]=-1;c[s+1]=0,f[s+1]=0;for(var g=i-a,w=g%2!=0,A=0,T=0,C=0,D=0,$=0;$<o&&!(Date.now()>r);$++){for(var V=-$+A;V<=$-T;V+=2){var q=s+V,ee=void 0;V===-$||V!==$&&c[q-1]<c[q+1]?ee=c[q+1]:ee=c[q-1]+1;for(var _e=ee-V;ee<i&&_e<a&&t.charAt(ee)===n.charAt(_e);)ee++,_e++;if(c[q]=ee,ee>i)T+=2;else if(_e>a)A+=2;else if(w){var ge=s+g-V;if(ge>=0&&ge<u&&f[ge]!==-1){var de=i-f[ge];if(ee>=de)return this.diff_bisectSplit_(t,n,ee,_e,r)}}}for(var Ie=-$+C;Ie<=$-D;Ie+=2){var ge=s+Ie,de=void 0;Ie===-$||Ie!==$&&f[ge-1]<f[ge+1]?de=f[ge+1]:de=f[ge-1]+1;for(var fe=de-Ie;de<i&&fe<a&&t.charAt(i-de-1)===n.charAt(a-fe-1);)de++,fe++;if(f[ge]=de,de>i)D+=2;else if(fe>a)C+=2;else if(!w){var q=s+g-Ie;if(q>=0&&q<u&&c[q]!==-1){var ee=c[q],_e=s+ee-q;if(de=i-de,ee>=de)return this.diff_bisectSplit_(t,n,ee,_e,r)}}}}return[[Se.DIFF_DELETE,t],[Se.DIFF_INSERT,n]]},e.prototype.diff_bisectSplit_=function(t,n,r,i,a){var o=t.substring(0,r),s=n.substring(0,i),u=t.substring(r),c=n.substring(i),f=this.diff_main(o,s,!1,a),v=this.diff_main(u,c,!1,a);return f.concat(v)},e.prototype.diff_linesToCharsMunge_=function(t,n,r,i){for(var a="",o=0,s=-1,u=n.length;s<t.length-1;){s=t.indexOf(`
`,o),s===-1&&(s=t.length-1);var c=t.substring(o,s+1);(r.hasOwnProperty?r.hasOwnProperty(c):r[c]!==void 0)?a+=String.fromCharCode(r[c]):(u===i&&(c=t.substring(o),s=t.length),a+=String.fromCharCode(u),r[c]=u,n[u++]=c),o=s+1}return a},e.prototype.diff_commonOverlap_=function(t,n){var r=t.length,i=n.length;if(r===0||i===0)return 0;r>i?t=t.substring(r-i):r<i&&(n=n.substring(0,r));var a=hn.min(r,i);if(t===n)return a;for(var o=0,s=1;;){var u=t.substring(a-s),c=n.indexOf(u);if(c===-1)return o;s+=c,(c===0||t.substring(a-s)===n.substring(0,s))&&(o=s,s++)}},e.prototype.diff_halfMatch_=function(t,n){if(this.diffTimeout<=0)return null;var r=t.length>n.length?t:n,i=t.length>n.length?n:t;if(r.length<4||i.length*2<r.length)return null;var a=this.diff_halfMatchI_(r,i,Math.ceil(r.length/4)),o=this.diff_halfMatchI_(r,i,Math.ceil(r.length/2)),s;if(!a&&!o)return null;o?a?s=a[4].length>o[4].length?a:o:s=o:s=a;var u,c,f,v,g=s[4];return t.length>n.length?(u=s[0],c=s[1],f=s[2],v=s[3]):(f=s[0],v=s[1],u=s[2],c=s[3]),[u,c,f,v,g]},e.prototype.diff_halfMatchI_=function(t,n,r){for(var i=t.substring(r,r+Math.floor(t.length/4)),a="",o,s,u,c,f=n.indexOf(i,0);f!==-1;){var v=this.diff_commonPrefix(t.substring(r),n.substring(f)),g=this.diff_commonSuffix(t.substring(0,r),n.substring(0,f));a.length<g+v&&(a=n.substring(f-g,f)+n.substring(f,f+v),o=t.substring(0,r-g),s=t.substring(r+v),u=n.substring(0,f-g),c=n.substring(f+v)),f=n.indexOf(i,f+1)}return a.length*2>=t.length?[o,s,u,c,a]:null},e.prototype.diff_cleanupSemanticScore_=function(t,n){if(!t||!n)return 6;var r=t.charAt(t.length-1),i=n.charAt(0),a=r.match($a),o=i.match($a),s=a&&r.match(Ma),u=o&&i.match(Ma),c=s&&r.match(rs),f=u&&i.match(rs),v=c&&t.match(Vl),g=f&&n.match(Gl);return v||g?5:c||f?4:a&&!s&&u?3:s||u?2:a||o?1:0},e.prototype.match_bitap_=function(t,n,r){if(n.length>this.matchMaxBits)throw new Error("Pattern too long for this browser");var i=this.match_alphabet_(n),a=this.matchThreshold,o=t.indexOf(n,r);o!==-1&&(a=hn.min(this.match_bitapScore_(0,o,n,r),a),o=t.lastIndexOf(n,r+n.length),o!==-1&&(a=hn.min(this.match_bitapScore_(0,o,n,r),a)));var s=1<<n.length-1;o=-1;for(var u,c,f=n.length+t.length,v,g=0;g<n.length;g++){for(u=0,c=f;u<c;)this.match_bitapScore_(g,r+c,n,r)<=a?u=c:f=c,c=Math.floor((f-u)/2+u);f=c;var w=hn.max(1,r-c+1),A=hn.min(r+c,t.length)+n.length,T=Array(A+2);T[A+1]=(1<<g)-1;for(var C=A;C>=w;C--){var D=i[t.charAt(C-1)];if(g===0?T[C]=(T[C+1]<<1|1)&D:T[C]=(T[C+1]<<1|1)&D|((v[C+1]|v[C])<<1|1)|v[C+1],T[C]&s){var $=this.match_bitapScore_(g,C-1,n,r);if($<=a)if(a=$,o=C-1,o>r)w=hn.max(1,2*r-o);else break}}if(this.match_bitapScore_(g+1,r,n,r)>a)break;v=T}return o},e.prototype.match_bitapScore_=function(t,n,r,i){var a=t/r.length,o=Math.abs(i-n);return this.matchDistance?a+o/this.matchDistance:o?1:a},e.prototype.match_alphabet_=function(t){for(var n={},r=0;r<t.length;r++)n[t.charAt(r)]=0;for(var r=0;r<t.length;r++)n[t.charAt(r)]|=1<<t.length-r-1;return n},e.prototype.patch_addContext_=function(t,n){if(n.length!==0){if(t.start2==null)throw Error("patch not initialized");for(var r=n.substring(t.start2,t.start2+t.length1),i=0;n.indexOf(r)!==n.lastIndexOf(r)&&r.length<this.matchMaxBits-this.patchMargin-this.patchMargin;)i+=this.patchMargin,r=n.substring(t.start2-i,t.start2+t.length1+i);i+=this.patchMargin;var a=n.substring(t.start2-i,t.start2);a&&t.diffs.unshift([Se.DIFF_EQUAL,a]);var o=n.substring(t.start2+t.length1,t.start2+t.length1+i);o&&t.diffs.push([Se.DIFF_EQUAL,o]),t.start1-=a.length,t.start2-=a.length,t.length1+=a.length+o.length,t.length2+=a.length+o.length}},e}();function ar(e,t){let n={};for(let a=0;a<t.length;a++){const o=t[a];n[o]?n[o].push(a):n[o]=[a]}let i=[{buffer1index:-1,buffer2index:-1,chain:null}];for(let a=0;a<e.length;a++){const o=e[a],s=n[o]||[];let u=0,c=i[0];for(let f=0;f<s.length;f++){const v=s[f];let g;for(g=u;g<i.length&&!(i[g].buffer2index<v&&(g===i.length-1||i[g+1].buffer2index>v));g++);if(g<i.length){const w={buffer1index:a,buffer2index:v,chain:i[g]};if(u===i.length?i.push(c):i[u]=c,u=g+1,c=w,u===i.length)break}}i[u]=c}return i[i.length-1]}l(ar,"LCS");function Zl(e,t){const n=ar(e,t);let r=[],i=e.length,a=t.length,o={common:[]};function s(){o.common.length&&(o.common.reverse(),r.push(o),o={common:[]})}l(s,"processCommon");for(let u=n;u!==null;u=u.chain){let c={buffer1:[],buffer2:[]};for(;--i>u.buffer1index;)c.buffer1.push(e[i]);for(;--a>u.buffer2index;)c.buffer2.push(t[a]);(c.buffer1.length||c.buffer2.length)&&(s(),c.buffer1.reverse(),c.buffer2.reverse(),r.push(c)),i>=0&&o.common.push(e[i])}return s(),r.reverse(),r}l(Zl,"diffComm");function as(e,t){const n=ar(e,t);let r=[],i=e.length,a=t.length;for(let o=n;o!==null;o=o.chain){const s=i-o.buffer1index-1,u=a-o.buffer2index-1;i=o.buffer1index,a=o.buffer2index,(s||u)&&r.push({buffer1:[i+1,s],buffer1Content:e.slice(i+1,i+1+s),buffer2:[a+1,u],buffer2Content:t.slice(a+1,a+1+u)})}return r.reverse(),r}l(as,"diffIndices");function br(e,t){const n=ar(e,t);let r=[],i=e.length,a=t.length;function o(s,u,c){let f=[];for(let v=0;v<c;v++)f.push(s[u+v]);return{offset:u,length:c,chunk:f}}l(o,"chunkDescription");for(let s=n;s!==null;s=s.chain){const u=i-s.buffer1index-1,c=a-s.buffer2index-1;i=s.buffer1index,a=s.buffer2index,(u||c)&&r.push({buffer1:o(e,s.buffer1index+1,u),buffer2:o(t,s.buffer2index+1,c)})}return r.reverse(),r}l(br,"diffPatch");function Ql(e,t,n){let r=[];function i(u,c){r.push({ab:c,oStart:u.buffer1[0],oLength:u.buffer1[1],abStart:u.buffer2[0],abLength:u.buffer2[1]})}l(i,"addHunk"),as(t,e).forEach(u=>i(u,"a")),as(t,n).forEach(u=>i(u,"b")),r.sort((u,c)=>u.oStart-c.oStart);let a=[],o=0;function s(u){u>o&&(a.push({stable:!0,buffer:"o",bufferStart:o,bufferLength:u-o,bufferContent:t.slice(o,u)}),o=u)}for(l(s,"advanceTo");r.length;){let u=r.shift(),c=u.oStart,f=u.oStart+u.oLength,v=[u];for(s(c);r.length;){const g=r[0],w=g.oStart;if(w>f)break;f=Math.max(f,w+g.oLength),v.push(r.shift())}if(v.length===1){if(u.abLength>0){const g=u.ab==="a"?e:n;a.push({stable:!0,buffer:u.ab,bufferStart:u.abStart,bufferLength:u.abLength,bufferContent:g.slice(u.abStart,u.abStart+u.abLength)})}}else{let g={a:[e.length,-1,t.length,-1],b:[n.length,-1,t.length,-1]};for(;v.length;){u=v.shift();const $=u.oStart,V=$+u.oLength,q=u.abStart,ee=q+u.abLength;let _e=g[u.ab];_e[0]=Math.min(q,_e[0]),_e[1]=Math.max(ee,_e[1]),_e[2]=Math.min($,_e[2]),_e[3]=Math.max(V,_e[3])}const w=g.a[0]+(c-g.a[2]),A=g.a[1]+(f-g.a[3]),T=g.b[0]+(c-g.b[2]),C=g.b[1]+(f-g.b[3]);let D={stable:!1,aStart:w,aLength:A-w,aContent:e.slice(w,A),oStart:c,oLength:f-c,oContent:t.slice(c,f),bStart:T,bLength:C-T,bContent:n.slice(T,C)};a.push(D)}o=f}return s(t.length),a}l(Ql,"diff3MergeRegions");function Pa(e,t,n,r){r=Object.assign({excludeFalseConflicts:!0,stringSeparator:/\s+/},r);const a=typeof e=="string",o=typeof t=="string",s=typeof n=="string";a&&(e=e.split(r.stringSeparator)),o&&(t=t.split(r.stringSeparator)),s&&(n=n.split(r.stringSeparator));let u=[];const c=Ql(e,t,n);let f=[];function v(){f.length&&u.push({ok:f}),f=[]}l(v,"flushOk");function g(w,A){if(w.length!==A.length)return!1;for(let T=0;T<w.length;T++)if(w[T]!==A[T])return!1;return!0}return l(g,"isFalseConflict"),c.forEach(w=>{w.stable?f.push(...w.bufferContent):r.excludeFalseConflicts&&g(w.aContent,w.bContent)?f.push(...w.aContent):(v(),u.push({conflict:{a:w.aContent,aIndex:w.aStart,o:w.oContent,oIndex:w.oStart,b:w.bContent,bIndex:w.bStart}}))}),v(),u}l(Pa,"diff3Merge");function ed(e,t,n,r){r=Object.assign({excludeFalseConflicts:!0,stringSeparator:/\s+/,label:{}},r);const a=Pa(e,t,n,r);let o=!1,s=[];return a.forEach(u=>{u.ok?s=s.concat(u.ok):u.conflict&&(o=!0,s.push(`<<<<<<<${r.label.a?` ${r.label.a}`:""}`),s=s.concat(u.conflict.a),s.push(`|||||||${r.label.o?` ${r.label.o}`:""}`),s=s.concat(u.conflict.o),s.push("======="),s=s.concat(u.conflict.b),s.push(`>>>>>>>${r.label.b?` ${r.label.b}`:""}`))}),{conflict:o,result:s}}l(ed,"mergeDiff3");function Xl(e,t,n,r){r=Object.assign({excludeFalseConflicts:!0,stringSeparator:/\s+/},r);const a=Pa(e,t,n,r);let o=!1,s=[];for(let u=0;u<a.length;u++){const c=a[u];c.ok?s=s.concat(c.ok):(o=!0,s=s.concat([`
<<<<<<<<<
`],c.conflict.a,[`
=========
`],c.conflict.b,[`
>>>>>>>>>
`]))}return{conflict:o,result:s}}l(Xl,"node_diff3_merge");function td(e,t,n,r){r=Object.assign({excludeFalseConflicts:!1,stringSeparator:/\s+/},r);const a=Pa(e,t,n,r);let o=!1,s=[];for(let u=0;u<a.length;u++){const c=a[u];if(c.ok)s=s.concat(c.ok);else{const f=Zl(c.conflict.a,c.conflict.b);for(let v=0;v<f.length;v++){let g=f[v];g.common?s=s.concat(g.common):(o=!0,s=s.concat([`
<<<<<<<<<
`],g.buffer1,[`
=========
`],g.buffer2,[`
>>>>>>>>>
`]))}}}return{conflict:o,result:s}}l(td,"mergeDigIn");function Wr(e,t){let n=[],r=0;function i(a){for(;r<a;)n.push(e[r]),r++}l(i,"advanceTo");for(let a=0;a<t.length;a++){let o=t[a];i(o.buffer1.offset);for(let s=0;s<o.buffer2.chunk.length;s++)n.push(o.buffer2.chunk[s]);r+=o.buffer1.length}return i(e.length),n}l(Wr,"patch");function Yl(e){return e.map(t=>({buffer1:{offset:t.buffer1.offset,length:t.buffer1.length},buffer2:{chunk:t.buffer2.chunk}}))}l(Yl,"stripPatch");function nd(e){return e.map(t=>({buffer1:t.buffer2,buffer2:t.buffer1}))}l(nd,"invertPatch");const jr=new qi;jr.diffTimeout=0;function Oa(e,t,n){return rt.get("experimental.useDiffMatchPatch")===!0?jr.patch_toText(jr.patch_make(t,n)):Hl(e,t,n)}l(Oa,"diffs_createPatch");function Wi(e,t,n){return Ko(e,t,n)}l(Wi,"diffs_applyPatch");function Jl(e,t){const n=[];for(const r of Nn(e,t))n.push({...r,oldFileName:r.newFileName,oldHeader:r.newHeader,newFileName:r.oldFileName,newHeader:r.oldHeader,hunks:r.hunks.map(i=>({...i,oldLines:i.newLines,oldStart:i.newStart,newLines:i.oldLines,newStart:i.oldStart,lines:i.lines.map(a=>a[0]==="-"?`+${a.slice(1)}`:a[0]==="+"?`-${a.slice(1)}`:a)}))}),n.push(r);return n}l(Jl,"reversePatch");function Ua(e,t,n,r,i){let a=`
`;const o=e.match(/(?:\r?\n)/g);if(o!==null&&o.length!==0){const f=o.filter(v=>v===`\r
`).length;a=f>o.length-f?`\r
`:`
`}const s=Xl(e,t,n,{excludeFalseConflicts:!0,stringSeparator:/\r?\n/}),u=s.result;let c=s.conflict;if(r){let f=!1;if(s.conflict){let v;const g=[];let w=0;for(const C of u)C===`
<<<<<<<<<
`?v={start:w,separator:w,end:w}:C===`
=========
`?v.separator=w:C===`
>>>>>>>>>
`&&(v.end=w,g.push(v)),w++;let A=0,T=0;for(const C of g)u.splice(C.start-A,1),A++,T=C.end-C.separator+1,u.splice(C.separator-A,T),A+=T;g.length&&(f=!0)}}else for(let f=0;f<u.length;f+=1)u[f]===`
<<<<<<<<<
`?u[f]="<<<<<<< HEAD":u[f]===`
=========
`?u[f]="=======":u[f]===`
>>>>>>>>>
`&&(u[f]=`>>>>>>> ${i}`);return{conflicts:c,mergedContent:u.join(a)}}l(Ua,"diffs_merge");function os(e){return e!==void 0&&typeof e.then=="function"}l(os,"isPromise");const ss="";function pi(...e){if(e.length===1){const t=e[0];return t===void 0?ss:typeof t=="string"?t:typeof t=="number"||typeof t=="boolean"||t instanceof Error?String(t):t instanceof d.Uri?t.toString():JSON.stringify(t)}return JSON.stringify(e)}l(pi,"defaultResolver");function _n(e){return(t,n,r)=>{let i;if(typeof r.value=="function"?i=r.value:typeof r.get=="function"&&(i=r.get),i===void 0)throw new Error("Not supported");const a=`$gate$${n}`;r.value=function(...o){const s=o.length===0?a:`${a}$${(e!=null?e:pi)(...o)}`;Object.prototype.hasOwnProperty.call(this,s)||Object.defineProperty(this,s,{configurable:!1,enumerable:!1,writable:!0,value:void 0});let u=this[s];if(u===void 0){let c;try{if(c=i.apply(this,o),c==null||!os(c))return c;this[s]=u=c.then(f=>(this[s]=void 0,f)).catch(f=>{throw this[s]=void 0,f})}catch(f){throw this[s]=void 0,f}}return u}}}l(_n,"gate");function gi(e){const t=performance.now()*.001;let n=Math.floor(t),r=Math.floor(t%1*1e9);return e!==void 0&&(n=n-e[0],r=r-e[1],r<0&&(n--,r+=1e9)),[n,r]}l(gi,"hrtime");let Ha=0;function ec(){return Ha===Number.MAX_SAFE_INTEGER&&(Ha=0),++Ha}l(ec,"getNextInstanceId");const k=l(class{constructor(e,t,...n){this.context=e,this.instance=`[${ec().toString().padStart(5)}] `;var r,i,a,o,s,u;let c;if(typeof(t==null?void 0:t.log)=="boolean"?c=t.log?{}:void 0:c=(r=t==null?void 0:t.log)!=null?r:{},this.logLevel=(i=t==null?void 0:t.logLevel)!=null?i:Ne.Info,this.time=gi(),c){if(!le.enabled(this.logLevel))return;n.length?ve(this.logLevel,`${this.instance}${(a=c.prefix)!=null?a:""}${e}${(o=c.message)!=null?o:""}`,...n):ve(this.logLevel,`${this.instance}${(s=c.prefix)!=null?s:""}${e}${(u=c.message)!=null?u:""}`)}}log(e){this.logCore(this.context,e,!1)}logStep(e,t){(!e||t)&&this.logCore(this.context,t,!1),this.step=e?{time:gi(),label:e}:void 0}restart(e){this.logCore(this.context,e,!0),this.step=void 0,this.time=gi()}stop(e){this.restart(e)}logCore(e,t,n){var r,i,a,o,s,u,c;if(!le.enabled(this.logLevel))return;let f="";if(this.step){const[A,T]=gi(this.step.time),C=A*1e3+Math.floor(T/1e6);f=`${this.step.label?`${this.step.label} took `:""}${C} ms`}if(!n){ve(this.logLevel,`${this.instance}${(r=t==null?void 0:t.prefix)!=null?r:""}${e}${(i=t==null?void 0:t.message)!=null?i:""}${f?` ${f}`:""}${(a=t==null?void 0:t.suffix)!=null?a:""}`);return}const[v,g]=gi(this.time),w=v*1e3+Math.floor(g/1e6);ve(w>500?Ne.Warn:this.logLevel,`${this.instance}${(o=t==null?void 0:t.prefix)!=null?o:""}${e}${(s=t==null?void 0:t.message)!=null?s:""}${(u=t==null?void 0:t.took)!=null?u:" took "}${w} ms${f?` (${f})`:""}${(c=t==null?void 0:t.suffix)!=null?c:""}`)}static start(e,t,...n){var r;(r=k.watches.get(e))==null||r.log(),k.watches.set(e,new k(e,t,...n))}static log(e,t){var n;(n=k.watches.get(e))==null||n.log(t)}static stop(e,t){var n;(n=k.watches.get(e))==null||n.stop(t),k.watches.delete(e)}},"_Stopwatch");let P=k;P.watches=new Map;function ve(e,t,...n){switch(e){case Ne.Warn:le.warn(t,...n);break;case Ne.Info:le.log(t,...n);break;default:le.debug(t,...n);break}}l(ve,"log");let He=0;function Ft(){return He===Number.MAX_SAFE_INTEGER&&(He=0),String(++He)}l(Ft,"getNextLockId");class at{constructor(){this.id=Ft()}async synchronize(t){let n;const r=this.promise;this.promise=new Promise(i=>n=i),await r;try{return await t()}finally{n()}}}l(at,"Lock");class Nt{constructor(t){this.lock=new at,this.readers=new Set,this.counter=0,this._id=t!=null?t:this.lock.id}get id(){return this._id}getNextCounter(){return this.counter===Number.MAX_SAFE_INTEGER&&(this.counter=0),++this.counter}async synchronizeRead(t,n){let r;const i=new P(`Reader(${this.getNextCounter()}|${this.id})`,{log:{prefix:"(A) ",message:n?` \u2022 ${n}`:""},logLevel:Ne.Debug});let a;await this.lock.synchronize(async()=>{this.writer&&await this.writer,a=new Promise(o=>r=o),this.readers.add(a)}),i.restart({prefix:"(L) ",suffix:n?` \u2022 ${n}`:"",took:" waited for "});try{return await t()}finally{i.stop({prefix:"(U) ",suffix:n?` \u2022 ${n}`:"",took:" locked for "}),a!==void 0&&this.readers.delete(a),r()}}async synchronizeWrite(t,n){let r;const i=new P(`Writer(${this.getNextCounter()}|${this.id})`,{log:{prefix:"(A) ",message:n?` \u2022 ${n}`:""},logLevel:Ne.Debug});await this.lock.synchronize(async()=>{if(this.writer&&await this.writer,this.readers.size){const a=[...this.readers];this.readers.clear(),await Promise.all(a)}this.writer=new Promise(a=>r=a)}),i.restart({prefix:"(L) ",suffix:n?` \u2022 ${n}`:"",took:" waited for "});try{return await t()}finally{i.stop({prefix:"(U) ",suffix:n?` \u2022 ${n}`:"",took:" locked for "}),r(),this.writer=void 0}}}l(Nt,"ReaderWriterLock");class Gt{constructor(){this.locks=new Map}async synchronizeRead(t,n,r){let i=this.locks.get(t);return i===void 0&&(i=new Nt(String(t)),this.locks.set(t,i)),i.synchronizeRead(n,r)}async synchronizeWrite(t,n,r){let i=this.locks.get(t);return i===void 0&&(i=new Nt(String(t)),this.locks.set(t,i)),i.synchronizeWrite(n,r)}}l(Gt,"KeyedReaderWriterLock");const Jt=new TextDecoder,Ut=new TextEncoder;async function en(e){const t=typeof e=="string"?Ut.encode(e):e;let n;if(globalThis.crypto.subtle)n=await globalThis.crypto.subtle.digest({name:"sha-1"},t);else{const r=new Kn;r.update(t),n=r.digest()}return globalThis.btoa(encodeURIComponent(Jt.decode(n)))}l(en,"sha1");var Tn;(function(e){e[e.BLOCK_SIZE=64]="BLOCK_SIZE"})(Tn||(Tn={}));function Kt(e,t,n=32){const r=n-t,i=~((1<<r)-1);return(e<<t|(i&e)>>>r)>>>0}l(Kt,"leftRotate");function xn(e,t=0,n=e.byteLength,r=0){for(let i=0;i<n;i++)e[t+i]=r}l(xn,"fill");const bn=l(class{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._finished=!1}update(e){const t=this._buff;let n=this._buffLen,r=0;const i=e.byteLength;for(;r<i;){const a=Math.min(64-n,i-r);for(let o=0;o<a;o++)t[n++]=e[r++];n>=64&&(this._step(),n-=64,this._totalLen+=64)}this._buffLen=n}digest(){this._finished||(this._finished=!0,this._totalLen+=this._buffLen,this._wrapUp());const e=new ArrayBuffer(20),t=new DataView(e);return t.setUint32(0,this._h0,!1),t.setUint32(4,this._h1,!1),t.setUint32(8,this._h2,!1),t.setUint32(12,this._h3,!1),t.setUint32(16,this._h4,!1),e}_wrapUp(){this._buff[this._buffLen++]=128,xn(this._buff,this._buffLen),this._buffLen>56&&(this._step(),xn(this._buff));const e=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(e/4294967296),!1),this._buffDV.setUint32(60,e%4294967296,!1),this._step()}_step(){const e=bn._bigBlock32,t=this._buffDV;for(let f=0;f<64;f+=4)e.setUint32(f,t.getUint32(f,!1),!1);for(let f=64;f<320;f+=4)e.setUint32(f,Kt(e.getUint32(f-12,!1)^e.getUint32(f-32,!1)^e.getUint32(f-56,!1)^e.getUint32(f-64,!1),1),!1);let n=this._h0,r=this._h1,i=this._h2,a=this._h3,o=this._h4,s,u,c;for(let f=0;f<80;f++)f<20?(s=r&i|~r&a,u=1518500249):f<40?(s=r^i^a,u=1859775393):f<60?(s=r&i|r&a|i&a,u=2400959708):(s=r^i^a,u=3395469782),c=Kt(n,5)+s+o+u+e.getUint32(f*4,!1)&4294967295,o=a,a=i,i=Kt(r,30),r=n,n=c;this._h0=this._h0+n&4294967295,this._h1=this._h1+r&4294967295,this._h2=this._h2+i&4294967295,this._h3=this._h3+a&4294967295,this._h4=this._h4+o&4294967295}},"_SHA1Computer");let Kn=bn;Kn._bigBlock32=new DataView(new ArrayBuffer(320));function Zn(e){const t=globalThis.atob(e),n=t.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=t.charCodeAt(i);return r}l(Zn,"fromBase64");const{fromCharCode:Er}=String;function ls(e){let t;if(typeof e=="string")t=e;else{t="";for(let n=0,{length:r}=e;n<r;n++)t+=Er(e[n])}return globalThis.btoa(t)}l(ls,"toBase64");function ji(e,t){if(e===t)return-1;let n=0;for(;e[n]===t[n];)n++;return n}l(ji,"indexOfDifference");var Vi=Object.defineProperty,Z0=Object.getOwnPropertyDescriptor,Q0=l((e,t,n,r)=>{for(var i=r>1?void 0:r?Z0(t,n):t,a=e.length-1,o;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&Vi(t,n,i),i},"__decorateClass");const Zt=(0,Xe.loadMessageBundle)(),X0=d.FileSystemError.FileNotFound().code,rd=`===================================================================
`,or=new TextDecoder,Y0=new TextEncoder;function J0(e){return e&&"type"in e&&"uri"in e&&"uri"in e&&"fileType"in e&&"revision"in e&&"timestamp"in e}l(J0,"isOperation");function za(e,t,n){return{type:e.type,rootUri:t,uri:n!=null?n:e.uri}}l(za,"toEvent");const qa=l(class{constructor(e,t,n,r,i,a){this.providerService=e,this.storageService=t,this.fileStorageService=n,this.telemetryService=r,this.workspaceId=i,this._onDidChange=new d.EventEmitter,this.cache=new Map,this.lock=new Gt,this.scopedStores=new Map,a===void 0&&(this.disposable=d.Disposable.from(this.providerService.onDidRefresh(()=>this.cache.clear())))}get onDidChange(){return this._onDidChange.event}dispose(){var e;(e=this.disposable)==null||e.dispose()}async exportDebugInfo(e){var t;async function n(r){const i=await d.workspace.openTextDocument({language:"json",content:`ChangeStore Operations for ${r.toString(!0)}

${this.toStorage(await this.getWorkingOperations(r))}`});return void d.window.showTextDocument(i)}if(l(n,"exportCore"),e===void 0)for(const r of(t=d.workspace.workspaceFolders)!=null?t:[])await n.call(this,r.uri);else return n.call(this,e)}async getWorkspacesWithChanges(){var e;const t=new P("ChangeStore.getWorkspacesWithChanges()");try{const n=[];for(const r of(e=d.workspace.workspaceFolders)!=null?e:[])r.uri.scheme===H.scheme&&await this.hasChanges(r.uri)&&n.push(r.uri);return n.length>0?n:void 0}finally{t.stop()}}async acceptAll(e,t){const n=`ChangeStore.acceptAll(${e.toString()}, ${t==null?void 0:t.staged})`;le.log(n);const r=[];await this.lock.synchronizeWrite(x(e),async()=>{const i=await this.getWorkingOperations(e),a=[];let o=[];const s=(t==null?void 0:t.staged)&&!(t.staged==="auto"&&!i.some(u=>u.staged));for(const u of i){if(s&&!u.staged){o.push(u);continue}u.fileType===d.FileType.File&&await this.discardWorkingContent(e,u.uri);let c;if(u.type===Y.Created&&u.fileType===d.FileType.Directory&&(i.some(f=>z(f.uri,u.uri))||(c={type:Y.Deleted,rootUri:e,uri:u.uri})),r.push(c!=null?c:za(u,e)),u.type===Y.Created){let f=u.uri;for(;;){const{parent:v}=this.findParent(f,i,g=>g.type===Y.Created);if(v){a.push(v),f=v.uri;continue}break}}}o.length>0&&a.length>0&&(o=o.filter(u=>a.includes(u)?(r.push(za(u,e)),!1):!0)),await this.saveWorkingOperations(e,o)},n),r.length!==0&&this._onDidChange.fire(r)}async discard(e){const t=this.providerService.getVirtualWorkspaceUri(e);if(t===void 0)return;const n=`ChangeStore.discard(${e.toString()})`;le.log(n);const r=[];await this.lock.synchronizeWrite(x(t),async()=>this.discardCore(t,e,r),n),r.length!==0&&this._onDidChange.fire(r)}async discardCore(e,t,n){le.debug(`ChangeStore.discardCore(${t.toString()})`);let r=await this.getWorkingOperations(e);if(r.length===0)return;const i=U(t),a=r.findIndex(u=>U(u.uri)===i);if(a===-1)return;const[o]=r.splice(a,1);let s;switch(o.type){case Y.Created:s=Y.Deleted;break;case Y.Deleted:s=Y.Created;break;default:s=o.type;break}if(n.push({type:s,rootUri:e,uri:t}),o.type===Y.Created){let u=o.uri;for(;;){const{parent:c,parentIndex:f}=this.findNewParentWithOnlyChild(u,r);if(c){r.splice(f,1),n.push({type:Y.Deleted,rootUri:e,uri:c.uri}),u=c.uri;continue}break}}else if(o.type===Y.Deleted){let u=o.uri;const c=this.findDeletedParents(u,r);let f=[...r];c.forEach(({parent:v,parentIndex:g})=>{f[g]=void 0,n.push({type:Y.Created,rootUri:e,uri:v.uri})}),r=f.filter(v=>v!==void 0)}await this.saveWorkingOperations(e,r),o.fileType===d.FileType.File&&await this.discardWorkingContent(e,t)}async discardAll(e,t){const n=this.getUriScope(e);if(n)return this.getScopedChangeStore(n).discardAll(e,t);const r=`ChangeStore.discardAll(${e.toString()}, ${t==null?void 0:t.staged})`;le.log(r);const i=[];await this.lock.synchronizeWrite(x(e),async()=>{const a=await this.getWorkingOperations(e),o=[];let s=[];const u=(t==null?void 0:t.staged)&&!(t.staged==="auto"&&!a.some(c=>c.staged));for(const c of a){if(u&&!c.staged){s.push(c);continue}c.fileType===d.FileType.File&&await this.discardWorkingContent(e,c.uri);let f;switch(c.type){case Y.Created:f=Y.Deleted;break;case Y.Deleted:f=Y.Created;break;default:f=c.type;break}if(i.push({type:f,rootUri:e,uri:c.uri}),c.type===Y.Created){let v=c.uri;for(;;){const{parent:g}=this.findNewParentWithOnlyChild(v,a);if(g){o.push(g),v=g.uri;continue}break}}}s.length>0&&o.length>0&&(s=s.filter(c=>o.includes(c)?(i.push({type:Y.Deleted,rootUri:e,uri:c.uri}),!1):!0)),await this.saveWorkingOperations(e,s)},r),i.length!==0&&this._onDidChange.fire(i)}async stage(e){const t=this.providerService.getVirtualWorkspaceUri(e);if(t===void 0)return;const n=`ChangeStore.stage(${e.toString()})`;le.log(n);const r=[];await this.lock.synchronizeWrite(x(t),async()=>{const{operation:i,index:a}=await this.getWorkingOperation(e,t);if(i!==void 0){if(i.conflicts){if(!i.conflicts.status.includes(Y.Deleted)){const s=Zt("yes","Yes");if(await d.window.showWarningMessage(Zt("stage with merge conflicts","Are you sure you want to stage {0} with merge conflicts?",G(e)),{modal:!0},s)!==s)return}const[,o]=i.conflicts.status;switch(o){case Y.Changed:switch(i.type){case Y.Created:return;case Y.Changed:await this.spliceOperation(e,a,{...i,conflicts:void 0,staged:!0,timestamp:Date.now()},r);return;case Y.Deleted:const s=Zt("keep theirs","Keep Their Version"),u=Zt("delete","Delete File"),c=await d.window.showInformationMessage(Zt("deleted by us",`File '{0}' was deleted by us and modified by them.

What would you like to do?`,G(e)),{modal:!0},s,u);if(c===s){await this.discardCore(t,e,r);return}else if(c===u){await this.spliceOperation(e,a,{...i,type:Y.Deleted,size:void 0,hash:void 0,originalHash:void 0,conflicts:void 0,staged:!0,timestamp:Date.now()},r);return}else return}case Y.Created:switch(i.type){case Y.Changed:case Y.Deleted:return;case Y.Created:await this.spliceOperation(e,a,{...i,type:Y.Changed,conflicts:void 0,size:i.size,hash:i.hash,originalHash:i.originalHash,staged:!0,timestamp:Date.now()},r);return}case Y.Deleted:switch(i.type){case Y.Created:case Y.Changed:{const s=Zt("keep ours","Keep Our Version"),u=Zt("delete","Delete File"),c=await d.window.showInformationMessage(Zt("deleted by them",`File '{0}' was deleted by them and modified by us.

What would you like to do?`,G(e)),{modal:!0},s,u);if(c===s){await this.spliceOperation(e,a,{...i,type:Y.Created,originalHash:void 0,conflicts:void 0,staged:!0,timestamp:Date.now()},r);return}else if(c===u){await this.discardCore(t,e,r);return}else return}case Y.Deleted:await this.discardCore(t,e,r);return}}}await this.spliceOperation(e,a,{...i,staged:!0,conflicts:void 0,timestamp:Date.now()},r)}},n),r.length!==0&&this._onDidChange.fire(r)}async stageAll(e){const t=`ChangeStore.stageAll(${e.toString()})`;le.log(t);const n=[];await this.lock.synchronizeWrite(x(e),async()=>{const r=(await this.getWorkingOperations(e)).map(i=>({...i,staged:!0,timestamp:Date.now()}));r.length!==0&&(await this.saveWorkingOperations(e,r),n.push(...r.map(i=>za(i,e))))},t),n.length!==0&&this._onDidChange.fire(n)}async unstage(e){const t=this.providerService.getVirtualWorkspaceUri(e);if(t===void 0)return;const n=`ChangeStore.unstage(${e.toString()})`;le.log(n);const r=[];await this.lock.synchronizeWrite(x(t),async()=>{const{operation:i,index:a}=await this.getWorkingOperation(e,t);i!==void 0&&await this.spliceOperation(e,a,{...i,staged:!1,timestamp:Date.now()},r)},n),r.length!==0&&this._onDidChange.fire(r)}async unstageAll(e){const t=`ChangeStore.unstageAll(${e.toString()})`;le.log(t);const n=[];await this.lock.synchronizeWrite(x(e),async()=>{const r=(await this.getWorkingOperations(e)).map(i=>({...i,staged:!1,timestamp:Date.now()}));r.length!==0&&(await this.saveWorkingOperations(e,r),n.push(...r.map(i=>za(i,e))))},t),n.length!==0&&this._onDidChange.fire(n)}async hasChanges(e){const t=this.getUriScope(e);if(t)return this.getScopedChangeStore(t).hasChanges(e);const n=x(e),r=this.cache.get(n);return r!==void 0?r.length!==0:this.lock.synchronizeRead(n,async()=>(await this.getWorkingOperations(e)).length!==0,`ChangeStore.hasChanges(${e.toString()})`)}maybeHasChanges(e,t){const n=this.getUriScope(e);if(n)return this.getScopedChangeStore(n).maybeHasChanges(e,t);const r=x(e),i=this.cache.get(r);if(i===void 0)return;if(i.length===0)return!1;if(t===void 0)return!0;const a=U(t);return i.some(o=>U(o.uri)===a)}async hasMergeConflicts(e){return this.lock.synchronizeRead(x(e),async()=>(await this.getWorkingOperations(e)).some(t=>t.conflicts!==void 0),`ChangeStore.hasMergeConflicts(${e.toString()})`)}async hasStagedChanges(e){return this.lock.synchronizeRead(x(e),async()=>(await this.getWorkingOperations(e)).some(t=>t.staged&&t.conflicts===void 0),`ChangeStore.hasStagedChanges(${e.toString()})`)}async hasWorkingChanges(e){return this.lock.synchronizeRead(x(e),async()=>(await this.getWorkingOperations(e)).some(t=>!t.staged&&t.conflicts===void 0),`ChangeStore.hasWorkingChanges(${e.toString()})`)}async getChange(e){const t=this.getUriScope(e);if(t)return this.getScopedChangeStore(t).getChange(e);const n=this.providerService.getVirtualRootUri(e);if(n!==void 0)return this.lock.synchronizeRead(x(n),async()=>{const{operation:r}=await this.getWorkingOperation(e,n);return r},`ChangeStore.getChange(${e.toString()})`)}async getChanges(e,t){const n=this.getUriScope(e);return n?this.getScopedChangeStore(n).getChanges(e,t):this.lock.synchronizeRead(x(e),async()=>{let r=await this.getWorkingOperations(e);if((t==null?void 0:t.excludeConflicts)||(t==null?void 0:t.predicate)){const{excludeConflicts:i,predicate:a}=t;r=r.filter(o=>{var s;return(!i||o.conflicts===void 0)&&((s=a==null?void 0:a(o))!=null?s:!0)})}return r},`ChangeStore.getChanges(${e.toString()})`)}async getGroupedChanges(e,t){const n=this.getUriScope(e);return n?this.getScopedChangeStore(n).getGroupedChanges(e,t):this.lock.synchronizeRead(x(e),async()=>{var r,i;const a=await this.getWorkingOperations(e),o={conflicts:[],staged:[],working:[]};for(const s of a)!((i=(r=t==null?void 0:t.predicate)==null?void 0:r.call(t,s))!=null?i:!0)||(s.conflicts?o.conflicts.push(s):s.staged?o.staged.push(s):o.working.push(s));return o},`ChangeStore.getChangesByType(${e.toString()})`)}async getContent(e){const t=this.providerService.getVirtualRootUri(e);if(t===void 0)throw new Error(`Unable to find content for ${e.toString()}; Repository not found`);const n=x(t),r=this.cache.get(n);if((r==null?void 0:r.length)===0)throw new Error(`Unable to find content for ${e.toString()}`);return this.lock.synchronizeRead(n,async()=>{const i=or.decode(await this.getWorkingContent(t,e));if(i!==void 0)return i;throw new Error(`Unable to find content for ${e.toString()}`)},`ChangeStore.getContent(${e.toString()}}`)}async getMergeConflicts(e,t){return this.lock.synchronizeRead(x(e),async()=>(await this.getWorkingOperations(e)).filter(r=>{var i,a;return r.conflicts!==void 0&&((a=(i=t==null?void 0:t.predicate)==null?void 0:i.call(t,r))!=null?a:!0)}),`ChangeStore.getMergeConflicts(${e.toString()})`)}async getStagedChanges(e,t){return this.lock.synchronizeRead(x(e),async()=>(await this.getWorkingOperations(e)).filter(r=>{var i,a;return r.staged&&r.conflicts===void 0&&((a=(i=t==null?void 0:t.predicate)==null?void 0:i.call(t,r))!=null?a:!0)}),`ChangeStore.getStagedChanges(${e.toString()})`)}async getWorkingChanges(e,t){return this.lock.synchronizeRead(x(e),async()=>(await this.getWorkingOperations(e)).filter(r=>{var i,a;return!r.staged&&r.conflicts===void 0&&((a=(i=t==null?void 0:t.predicate)==null?void 0:i.call(t,r))!=null?a:!0)}),`ChangeStore.getWorkingChanges(${e.toString()})`)}async applyChangeset(e,t,n,r){var i;let a;J0(n)?a=n:r=r!=null?r:n,le.log(`ChangeStore.applyChangeset${e.toString()}`,t.workspaceId,t.uri,a==null?void 0:a.uri,r==null?void 0:r.save);const o=this.getScopedChangeStore(t.workspaceId),s=(i=t.patch)!=null?i:await o.createPatch(t.uri,a==null?void 0:a.uri);await this.applyPatchCore(e,s,{...r,getIncomingContent:async u=>{const c=this.getScopedUri(this.providerService.createRelativeVirtualUri(t.uri,u),t.workspaceId);return or.decode(await d.workspace.fs.readFile(c))},merge:async(u,c,f)=>{try{const v=H.getProviderUri(u),g=or.decode(await d.workspace.fs.readFile(v)),w=this.getScopedUri(this.providerService.createRelativeVirtualUri(t.uri,c),t.workspaceId),A=or.decode(await d.workspace.fs.readFile(w)),T=await this.providerService.getMetadata(w);return{...Ua(f,g,A,Boolean(r==null?void 0:r.useSimplifiedMerge),T.HEAD.sha),baseUri:v,incomingUri:w}}catch(v){throw new Error(`Unable to apply patch to ${c}: ${String(v)}`)}}})}async applyPatch(e,t,n){if(le.log(`ChangeStore.applyPatch(${e.toString()})`,n==null?void 0:n.save),!t.startsWith("diff --"))throw new Error("Invalid patch");return this.applyPatchCore(e,t,n)}async applyPatchCore(e,t,n={}){const r=`ChangeStore.applyPatchCore(${e.toString()})`;le.debug(r,n==null?void 0:n.save);const i=new d.WorkspaceEdit,a=[],o=new Map;async function s(g){var w;const A=x(g),T=d.workspace.textDocuments.find(C=>x(C.uri)===A);return(w=T==null?void 0:T.getText())!=null?w:or.decode(await d.workspace.fs.readFile(g))}l(s,"getContent");async function u(g){try{const w=await d.workspace.fs.stat(g);return Boolean(w)}catch{return!1}}l(u,"exists");async function c(g,w,A){let T=Wi("",A,{fuzzFactor:0});if(T===!1){if(!n.getIncomingContent)throw new Error(`Unable to apply patch to ${w}`);T=await n.getIncomingContent(w)}i.createFile(g,{overwrite:!0}),i.replace(g,new d.Range(0,0,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),T)}l(c,"applyCreate");async function f(g,w,A,T){const C=await s(g);let D=Wi(C,A,{fuzzFactor:1});if(D===!1){if(n.merge===void 0)throw new Error(`Unable to apply patch to ${w}; Resulted in conflicts`);const $={title:Zt("apply patch failed prompt confirm","Merge")},V={title:Zt("apply patch failed prompt cancel","Skip File"),isCloseAffordance:!0};if(await d.window.showWarningMessage(Zt("apply patch failed prompt",`Unable to apply changes to '{0}'.

Do you want to retry by merging the files?`,w),{modal:!0},$,V)!==$)return;const ee=await n.merge(g,w,C);D=ee.mergedContent,ee.conflicts&&o.set(x(g),{type:T,baseUri:ee.baseUri,incomingUri:ee.incomingUri})}i.replace(g,new d.Range(0,0,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),D)}l(f,"applyModification");const v=(n==null?void 0:n.reverse)?Jl(t,{}):Nn(t,{});for(const g of v)if(g.oldFileName==="/dev/null"){if(!g.newFileName)continue;const w=g.newFileName.startsWith("b/")?g.newFileName.substr(2):g.newFileName,A=this.providerService.createRelativeVirtualUri(e,w);a.push(x(A)),!await u(A)?await c(A,w,g):await f(A,w,g,Y.Created)}else if(g.newFileName==="/dev/null"){if(!g.oldFileName)continue;const w=g.oldFileName.startsWith("a/")?g.oldFileName.substr(2):g.oldFileName,A=this.providerService.createRelativeVirtualUri(e,w);await u(A)&&i.deleteFile(A)}else if(g.oldFileName===g.newFileName){if(!g.newFileName)continue;const w=this.providerService.createRelativeVirtualUri(e,g.newFileName);a.push(x(w)),!await u(w)?await c(w,g.newFileName,g):await f(w,g.newFileName,g,Y.Changed)}else throw new Error(`Unable to apply patch to ${g.oldFileName}; Renames aren't currently supported`);if(await d.workspace.applyEdit(i),n.save&&a.length)for(const g of a){const w=d.workspace.textDocuments.find(A=>x(A.uri)===g);await(w==null?void 0:w.save())}o.size&&setTimeout(async()=>{const g=[];await this.lock.synchronizeWrite(x(e),async()=>{const w=await this.getWorkingOperations(e);if(w.length===0)return;let A=-1;for(const T of w){A++;const C=o.get(x(T.uri));C!==void 0&&await this.spliceOperation(T.uri,A,{...T,conflicts:{baseUri:C.baseUri,incomingUri:C.incomingUri,status:[T.type,C.type]},timestamp:Date.now()},g)}},r),g.length!==0&&this._onDidChange.fire(g)},0)}async createChangeset(e){le.log(`ChangeStore.createChangeset${e.toString()})`);const t=await this.createPatch(e);return t?{workspaceId:this.workspaceId,uri:e,patch:t}:void 0}async createPatch(e,t,n){if(le.log(`ChangeStore.createPatch${e.toString()})`,t),t===void 0){let a=await this.getWorkingOperations(e);if((n==null?void 0:n.staged)&&(a=a.filter(s=>s.staged)),a.length===0)return"";const o=[];for(const s of a){const u=await this.createPatchCore(e,s);o.push(u)}return o.join("")}const{operation:r}=await this.getWorkingOperation(t,e);if(r===void 0)throw new Error(`Unable to create patch for ${t.toString()}`);return(n==null?void 0:n.staged)&&r.staged?"":await this.createPatchCore(e,r)}async createPatchCore(e,t){const n=this.providerService.getRelativeFilePath(e,t.uri),r=`diff --git a/${n} b/${n}`;if(t.type===Y.Created){let u=await this.getContent(t.uri),c;!u.endsWith(`
`)&&!u.endsWith(`\r
`)?c=`
\\ No newline at end of file`:c="";let f=0;return u=u.replace(/\r?\n/g,v=>(f++,`${v}+`)),`${r}
new file mode 100644
--- /dev/null
+++ b/${n}
@@ -0,0 +1,${f} @@
+${u}${c}`}if(t.type===Y.Deleted){let u=or.decode(await d.workspace.fs.readFile(H.getProviderUri(t.uri))),c=0;return u=u.replace(/\r?\n/g,f=>(c++,`${f}-`)),`${r}
deleted file mode 100644
--- a/${n}
+++ /dev/null
@@ -1,${c} +0,0 @@
-${u}`}const i=await this.getContent(t.uri),a=or.decode(await d.workspace.fs.readFile(H.getProviderUri(t.uri))),o=Oa(n,a,i),s=o.indexOf(rd);return`${r}
${o.substr(s+rd.length)}`}async keep(e,t){const n=this.providerService.getVirtualWorkspaceUri(e);if(n===void 0)return;const r=`ChangeStore.keep(${e.toString()})`;le.log(r,t);const i=[];await this.lock.synchronizeWrite(x(n),async()=>{const{operation:a,index:o}=await this.getWorkingOperation(e,n);if(a===void 0)return;if(t===void 0&&a.conflicts){const[,u]=a.conflicts.status;switch(u){case Y.Changed:switch(a.type){case Y.Changed:case Y.Created:case Y.Deleted:await this.spliceOperation(e,o,{...a,conflicts:void 0,timestamp:Date.now()},i);break}break;case Y.Created:switch(a.type){case Y.Changed:case Y.Deleted:await this.spliceOperation(e,o,{...a,conflicts:void 0,timestamp:Date.now()},i);break;case Y.Created:await this.spliceOperation(e,o,{...a,type:Y.Changed,size:a.size,hash:a.hash,originalHash:a.originalHash,conflicts:void 0,timestamp:Date.now()},i);break}break;case Y.Deleted:switch(a.type){case Y.Deleted:await this.discardCore(n,e,i);break;case Y.Changed:await this.spliceOperation(e,o,{...a,type:Y.Created,originalHash:void 0,conflicts:void 0,timestamp:Date.now()},i);break;case Y.Created:await this.spliceOperation(e,o,{...a,conflicts:void 0,timestamp:Date.now()},i);break}break}return}if(t===void 0)return;switch(t.type){case Y.Changed:switch(a.type){case Y.Deleted:await this.spliceOperation(e,o,{...a,type:Y.Deleted,size:void 0,hash:void 0,originalHash:void 0,conflicts:void 0,timestamp:Date.now()},i);return;case Y.Created:break;case Y.Changed:break}break;case Y.Created:switch(a.type){case Y.Changed:case Y.Deleted:return;case Y.Created:break}break;case Y.Deleted:switch(a.type){case Y.Deleted:return this.discardCore(n,e,i);case Y.Changed:await this.spliceOperation(e,o,{...a,type:Y.Created,originalHash:void 0,conflicts:void 0,timestamp:Date.now()},i);return;case Y.Created:return}}const s=t!==void 0?await d.workspace.fs.readFile(t.providerUri):void 0;await this.spliceOperation(e,o,{...a,type:Y.Changed,originalHash:s!==void 0?await en(s):a.originalHash,conflicts:void 0,timestamp:Date.now()},i)},r),i.length!==0&&this._onDidChange.fire(i)}async merge(e,t,n,r){const i=this.providerService.getVirtualWorkspaceUri(e);if(i===void 0)return;const a=`ChangeStore.merge(${e.toString()})`;le.log(a,t,n);const o=[];await this.lock.synchronizeWrite(x(i),async()=>{const{operation:s,index:u}=await this.getWorkingOperation(e,i);if(s===void 0)return;switch(t.type){case Y.Changed:switch(s.type){case Y.Deleted:await this.spliceOperation(e,u,{...s,type:Y.Deleted,size:void 0,hash:void 0,originalHash:void 0,conflicts:{baseUri:n.providerUri,incomingUri:t.providerUri,status:[s.type,t.type]},timestamp:Date.now()},o);return;case Y.Created:break;case Y.Changed:break}break;case Y.Created:switch(s.type){case Y.Deleted:case Y.Changed:return;case Y.Created:break}break;case Y.Deleted:switch(s.type){case Y.Deleted:return this.discardCore(i,e,o);case Y.Changed:await this.spliceOperation(e,u,{...s,type:Y.Created,originalHash:void 0,conflicts:{baseUri:void 0,incomingUri:t.providerUri,status:[s.type,t.type]},timestamp:Date.now()},o);return;case Y.Created:return}}const c=await this.providerService.getMetadata(t.providerUri),f=await this.getWorkingContent(i,e),v=s.type===Y.Created?new Uint8Array(0):await d.workspace.fs.readFile(n.providerUri),g=await d.workspace.fs.readFile(t.providerUri),w=Ua(or.decode(f),or.decode(v),or.decode(g),r,c.HEAD.sha);await this.writeFileCore(i,e,o,Y0.encode(w.mergedContent),g!=null?g:new Uint8Array(0),w.conflicts?{baseUri:n.providerUri,incomingUri:t.providerUri,status:[s.type,t.type]}:void 0)},a),o.length!==0&&this._onDidChange.fire(o)}async resolveDiffCommand(e,t,n,r){let i;const a=this.providerService.getVirtualRootUri(e);return a!==void 0&&({operation:i}=await this.getWorkingOperation(e,a)),(i==null?void 0:i.type)===Y.Deleted?this.resolveOpenCommand(t):((i==null?void 0:i.type)===Y.Created&&(t=t.with({query:"~"})),{command:"vscode.diff",title:"Open Changes",arguments:[t,e,n,r]})}resolveOpenCommand(e,t){return{command:"vscode.open",title:"Open File",arguments:[e,t]}}getScopedUri(e,t){const n=typeof t=="string"?t:t.workspaceId;return n===this.workspaceId?e:e.with({fragment:n})}getUriScope(e){return e.fragment||void 0}getScopedChangeStore(e){const t=typeof e=="string"?e:e.workspaceId;le.log(`ChangeStore.getScopedChangeStore(${t})`);let n=this.scopedStores.get(t);return n===void 0&&(n=t===this.workspaceId?new qa.ScopedChangeStore(this,t,this.workspaceId):new qa.ScopedChangeStore(new qa(this.providerService,this.storageService.with(t),this.fileStorageService.with(t),this.telemetryService,this.workspaceId,t),t,this.workspaceId),this.scopedStores.set(t,n)),n}async stat(e){const t=this.getUriScope(e);if(t)return this.getScopedChangeStore(t).stat(e);const n=this.providerService.getVirtualRootUri(e);if(n===void 0)return;const r=x(n),i=this.cache.get(r);if((i==null?void 0:i.length)!==0)return this.lock.synchronizeRead(r,async()=>{var a;const{operation:o}=await this.getWorkingOperation(e,n);if(o!==void 0){if(o.type===Y.Deleted)throw d.FileSystemError.FileNotFound(`The ${o.fileType===d.FileType.Directory?"folder":"file"} has been deleted.`);return{type:o.fileType,size:(a=o.size)!=null?a:0,ctime:0,mtime:o.timestamp}}},`ChangeStore.stat(${e.toString()}`)}async readFile(e){const t=this.getUriScope(e);if(t)return this.getScopedChangeStore(t).readFile(e);const n=new P(`ChangeStore.readFile(${e.toString()})`);try{const r=this.providerService.getVirtualRootUri(e);if(r===void 0)return;const i=x(r),a=this.cache.get(i);return(a==null?void 0:a.length)===0?void 0:await this.lock.synchronizeRead(i,()=>{const o=this.cache.get(i);if((o==null?void 0:o.length)===0){n.log({message:": Not found; no operations"});return}return this.getWorkingContent(r,e)},n.context)}finally{n.stop()}}async createDirectory(e){const t=this.providerService.getVirtualWorkspaceUri(e);if(t===void 0)return;const n=new P(`ChangeStore.createDirectory(${e.toString()})`);try{const r=[];if(await this.lock.synchronizeWrite(x(t),async()=>{const{operation:i,index:a}=await this.getWorkingOperation(e,t),o=await this.providerService.getMetadata(e);await this.spliceOperation(e,a,i===void 0?{type:Y.Created,uri:e,fileType:d.FileType.Directory,revision:o.HEAD.sha,timestamp:Date.now(),size:0,hash:"",originalHash:void 0}:{...i,timestamp:Date.now()},r)},n.context),r.length===0)return;this._onDidChange.fire(r)}finally{n.stop()}}async deleteDirectory(e){const t=this.providerService.getVirtualWorkspaceUri(e);if(t===void 0)return;const n=new P(`ChangeStore.deleteDirectory(${e.toString()})`);try{const r=[];if(await this.lock.synchronizeWrite(x(t),async()=>{const{operation:i,index:a}=await this.getWorkingOperation(e,t);if((i==null?void 0:i.type)===Y.Created)return this.discardCore(t,e,r);const o=await this.providerService.getMetadata(e);await this.spliceOperation(e,a,{type:Y.Deleted,uri:e,fileType:d.FileType.Directory,revision:o.HEAD.sha,timestamp:Date.now(),size:void 0,hash:void 0,originalHash:void 0},r)},n.context),r.length===0)return;this._onDidChange.fire(r)}finally{n.stop()}}async updateDirectoryEntries(e,t){const n=this.providerService.getVirtualWorkspaceUri(e);if(n===void 0)return t;const r=new P(`ChangeStore.updateDirectoryEntries(${e.toString()})`,{},t.length);try{const i=x(n),a=this.cache.get(i);return(a==null?void 0:a.length)===0?t:await this.lock.synchronizeRead(i,async()=>{const{path:o}=O(n,e),s=await this.getWorkingOperations(n);for(const u of s)switch(u.type){case Y.Changed:break;case Y.Created:{if(z(u.uri,o)){const c=this.providerService.getRelativeFilePath(e,u.uri);t.push([c,u.fileType])}break}case Y.Deleted:{if(z(u.uri,o)){const c=this.providerService.getRelativeFilePath(e,u.uri),f=t.findIndex(([v])=>v===c);f!==-1&&t.splice(f,1)}break}}return t},r.context)}finally{r.stop()}}async writeFile(e,t,n,r){const i=this.providerService.getVirtualWorkspaceUri(e);if(i===void 0)return;const a=new P(`ChangeStore.writeFile(${e.toString()})`,{},t.length,r);try{const o=[];if(await this.lock.synchronizeWrite(x(i),async()=>this.writeFileCore(i,e,o,t,n,r),a.context),o.length===0)return;this._onDidChange.fire(o)}finally{a.stop()}}async writeFileCore(e,t,n,r,i,a){const o=new P(`ChangeStore.writeFileCore(${t.toString()})`,{},r.length,a);try{const[{operation:s,index:u},c,f]=await Promise.all([this.getWorkingOperation(t,e),en(r),en(i)]);if(c===f&&(!s||(s==null?void 0:s.type)===Y.Changed))return this.discardCore(e,t,n);if(c===(s==null?void 0:s.hash)&&f===(s==null?void 0:s.originalHash))return;const[{HEAD:v}]=await Promise.all([this.providerService.getMetadata(t),this.saveWorkingContent(e,t,r)]);await this.spliceOperation(t,u,s===void 0?{type:Y.Changed,uri:t,fileType:d.FileType.File,revision:v.sha,timestamp:Date.now(),size:r.byteLength,hash:c,originalHash:f,conflicts:a,staged:!1}:{...s,revision:v.sha,timestamp:Date.now(),size:r.byteLength,hash:c,originalHash:f,conflicts:a,staged:!1},n)}finally{o.stop()}}async createFile(e,t){const n=this.providerService.getVirtualWorkspaceUri(e);if(n===void 0)return;const r=new P(`ChangeStore.createFile(${e.toString()})`,{},t.length);try{const i=[];if(await this.lock.synchronizeWrite(x(n),async()=>{const[{operation:a,index:o},s,u]=await Promise.all([this.getWorkingOperation(e,n),en(t),this.providerService.getMetadata(e),this.saveWorkingContent(n,e,t)]);await this.spliceOperation(e,o,a===void 0?{type:Y.Created,uri:e,fileType:d.FileType.File,revision:u.HEAD.sha,timestamp:Date.now(),size:t.byteLength,hash:s,originalHash:s}:{...a,type:Y.Created,revision:u.HEAD.sha,timestamp:Date.now(),size:t.byteLength,hash:s},i)},r.context),i.length===0)return;this._onDidChange.fire(i)}finally{r.stop()}}async deleteFile(e){const t=this.providerService.getVirtualWorkspaceUri(e);if(t===void 0)return;const n=new P(`ChangeStore.deleteFile(${e.toString()})`);try{const r=[];if(await this.lock.synchronizeWrite(x(t),async()=>{const{operation:i,index:a}=await this.getWorkingOperation(e,t);if((i==null?void 0:i.type)===Y.Created)return this.discardCore(t,e,r);const[o]=await Promise.all([this.providerService.getMetadata(e),this.discardWorkingContent(t,e)]);await this.spliceOperation(e,a,{type:Y.Deleted,uri:e,fileType:d.FileType.File,revision:o.HEAD.sha,timestamp:Date.now(),size:void 0,hash:void 0,originalHash:void 0},r)},n.context),r.length===0)return;this._onDidChange.fire(r)}finally{n.stop()}}findParent(e,t,n){const r=ue(e),{operation:i,index:a}=this.findWorkingOperation(r,t);return i!==void 0&&n(i,t)?{parent:i,parentIndex:a}:{parent:void 0,parentIndex:-1}}findNewParentWithOnlyChild(e,t){const n=U(e);return this.findParent(e,t,(r,i)=>r.type===Y.Created&&!i.some(a=>z(a.uri,r.uri)&&U(a.uri)!==n))}findDeletedParents(e,t){const n=[];for(let r=0;r<t.length;r+=1){const i=t[r];i.type===Y.Deleted&&Z(e,i.uri)&&n.push({parent:i,parentIndex:r})}return n}async getWorkingOperation(e,t){return this.findWorkingOperation(e,await this.getWorkingOperations(t))}findWorkingOperation(e,t){if(t.length===0)return{operation:void 0,index:-1};const n=U(e);let r=-1;const i=t.find((a,o)=>U(a.uri)!==n?!1:(r=o,!0));return i===void 0?{operation:void 0,index:-1}:{operation:i,index:r}}async getWorkingOperations(e){const t=x(e);let n=this.cache.get(t);return n===void 0&&(n=this.fromStorage(await this.storageService.get(this.getOperationsStorageKey(t))),this.cache.set(t,n)),n}async saveWorkingOperations(e,t){le.debug(`ChangeStore.saveWorkingOperations(${e.toString()})`,t.length);const n=x(e);this.cache.set(n,t);try{await this.storageService.store(this.getOperationsStorageKey(n),this.toStorage(t))}catch(r){throw this.cache.delete(n),le.error(r,`Failed to save repository changes for ${n}`),r}}getOperationsStorageKey(e){return`operations/${e}`}async getWorkingContent(e,t){try{return await this.fileStorageService.get(this.getFileStorageKey(e,t))}catch(n){throw le.error(n),this.telemetryService.sendException(n),n}}async discardWorkingContent(e,t){le.debug(`ChangeStore.discardWorkingContent(${t.toString()})`);try{return await this.fileStorageService.delete(this.getFileStorageKey(e,t))}catch(n){if(n instanceof d.FileSystemError&&n.code===X0)return;throw le.error(n),this.telemetryService.sendException(n),n}}async saveWorkingContent(e,t,n){le.debug(`ChangeStore.saveWorkingContent(${t.toString()})`,n.length);try{return await this.fileStorageService.store(this.getFileStorageKey(e,t),n)}catch(r){throw le.error(r),this.telemetryService.sendException(r),r}}getFileStorageKey(e,t){return`changestore/${I(t)}`}async spliceOperation(e,t,n,r){const i=this.providerService.getVirtualWorkspaceUri(e);if(i===void 0)return;const a=await this.getWorkingOperations(i);t!==-1?a.splice(t,1,n):a.push(n),await this.saveWorkingOperations(i,a),r.push(za(n,i,e))}fromStorage(e){if(!e)return[];try{const t=JSON.parse(e,(n,r)=>(n==="uri"||n.endsWith("Uri"))&&M(r)?typeof r=="string"?d.Uri.parse(r):d.Uri.from(r):r);return Array.isArray(t)?t:t.operations}catch(t){throw le.error(t,"Failed to deserialize ChangeStore operations"),t}}toStorage(e){const t={schemaVersion:qa.operationsStorageSchemaVersion,operations:e};return JSON.stringify(t)}},"_ChangeStore");let cs=qa;cs.operationsStorageSchemaVersion=1,cs.ScopedChangeStore=class{constructor(e,t,n){this.changeStore=e,this.scope=t,this.workspaceId=n}createPatch(e,t,n){return this.changeStore.createPatch(this.stripUriScope(e),this.stripUriScope(t),n)}discardAll(e,t){return this.changeStore.discardAll(this.stripUriScope(e),t)}getChange(e){return this.changeStore.getChange(this.stripUriScope(e))}getChanges(e,t){return this.changeStore.getChanges(this.stripUriScope(e),t)}async getGroupedChanges(e,t){return this.changeStore.getGroupedChanges(this.stripUriScope(e),t)}hasChanges(e){return this.changeStore.hasChanges(this.stripUriScope(e))}maybeHasChanges(e,t){return this.changeStore.maybeHasChanges(this.stripUriScope(e),this.stripUriScope(t))}async stat(e){const n=this.changeStore.getUriScope(e)!==this.workspaceId,r=await this.changeStore.stat(this.stripUriScope(e));return r!==void 0&&n&&(r.permissions=d.FilePermission.Readonly),r}readFile(e){return this.changeStore.readFile(this.stripUriScope(e))}resolveDiffCommand(e,t,n,r){return this.changeStore.resolveDiffCommand(this.changeStore.getScopedUri(e,this.scope),this.changeStore.getScopedUri(t,this.scope),n,r)}stripUriScope(e){return e===void 0||!e.fragment?e:e.with({fragment:""})}},Q0([_n()],cs.prototype,"getWorkingOperations",1);function Cb(e){switch(e){case OperationType.Changed:return Zt("change type changed","Modified");case OperationType.Created:return Zt("change type created","Added");case OperationType.Deleted:return Zt("change type deleted","Deleted")}}l(Cb,"getStatusText");function Ab(e){const[t,n]=e;switch(t){case OperationType.Changed:switch(n){case OperationType.Changed:case OperationType.Created:return Zt("conflict status changed both","Modified by Both");case OperationType.Deleted:return Zt("conflict status deleted them","Deleted by Incoming")}case OperationType.Created:switch(n){case OperationType.Changed:case OperationType.Created:return Zt("conflict status created both","Added by Both");case OperationType.Deleted:return Zt("conflict status deleted them","Deleted by Incoming")}case OperationType.Deleted:switch(n){case OperationType.Changed:case OperationType.Created:return Zt("conflict status deleted us","Deleted by Current");case OperationType.Deleted:return Zt("conflict status deleted both","Deleted by Both")}}}l(Ab,"getConflictStatusText");const tc=l(class{constructor(e){this.storageService=e,this._onDidChange=new d.EventEmitter,this.cache=new Map}get onDidChange(){return this._onDidChange.event}async delete(e){const t=x(e),n=this.cache.has(t);this.cache.delete(t);try{await this.storageService.delete(this.getStorageKey(t))}catch(r){throw le.error(r,`Failed to delete repository metadata for ${t}`),r}!n||setTimeout(()=>this._onDidChange.fire({uri:e}),0)}async get(e){this.assertMatchingScheme(e);const t=x(e),n=this.cache.get(t);if(n!==void 0)return n;let r;try{r=this.fromStorage(await this.storageService.get(this.getStorageKey(t)))}catch(i){throw le.error(i,`Failed to get repository metadata for ${t}`),i}return r?this.cache.set(t,{revision:r}):this.cache.delete(t),{revision:r}}async set(e,t,n,r){this.assertMatchingScheme(e);const i=(await this.get(e)).revision!==t?"revision":void 0,a=x(e);if(n!==void 0&&!this.validate(n))throw new Error(`Metadata validation failed for ${e.toString()}`);const o={revision:t,cachedMetadata:n};this.cache.set(a,o);try{await this.storageService.store(this.getStorageKey(a),this.toStorage(t))}catch(s){throw this.cache.delete(a),le.error(s,`Failed to save repository metadata for ${a}`),s}(r==null?void 0:r.silent)||setTimeout(()=>this._onDidChange.fire({uri:e,reason:i}),0)}refresh(){this.cache.clear()}validate(e){var t,n,r,i,a,o,s,u;return typeof e.version=="number"&&e.version>=tc.schemaVersion&&typeof e.timestamp=="number"&&typeof((t=e.provider)==null?void 0:t.id)=="string"&&typeof e.provider.name=="string"&&typeof e.name=="string"&&e.repo&&typeof e.accessLevel=="number"&&typeof((n=e.HEAD)==null?void 0:n.type)=="number"&&typeof((r=e.HEAD)==null?void 0:r.name)=="string"&&typeof((i=e.HEAD)==null?void 0:i.sha)=="string"&&(typeof((a=e.HEAD.detached)==null?void 0:a.name)=="string"&&typeof((o=e.HEAD.detached)==null?void 0:o.type)=="number"||typeof((s=e.HEAD.branch)==null?void 0:s.name)=="string")&&typeof((u=e.defaultBranch)==null?void 0:u.name)=="string"&&typeof e.defaultBranch.sha=="string"}assertMatchingScheme(e){if(e.scheme!==H.scheme)throw new Error(`Uri scheme '${e.scheme}' must match configured scheme '${H.scheme}'; uri=${e.toString()}`)}getStorageKey(e){return`metadata/${e}`}fromStorage(e){if(!e)return;const t=JSON.parse(e,(n,r)=>(n==="uri"||n.endsWith("Uri"))&&M(r)?d.Uri.from(r):r);return t==null?void 0:t.revision}toStorage(e){const t={schemaVersion:tc.storageSchemaVersion,revision:e};return JSON.stringify(t)}},"_MetadataStore");let us=tc;us.schemaVersion=ft,us.storageSchemaVersion=1;class fs{constructor(t,n){this.memento=t,this.scope=n,this._onDidChange=new d.EventEmitter}get onDidChange(){return this._onDidChange.event}async get(t){const n=this.getScoped(t),r=new P(`MementoStorage.get(${t}): scopedKey=${n}`,{logLevel:Ne.Debug});try{return await Promise.resolve(this.memento.get(n))}finally{r.stop()}}async getKeys(t){const n=this.getScoped(t),r=new P(`MementoStorage.getKeys(${t}): scopedPrefix=${n}`,{logLevel:Ne.Debug});try{let i=this.getKeysCore(t);if(this.scope!==void 0){const a=this.scope.length+1;i=i.map(o=>o.substr(a))}return await Promise.resolve(i)}finally{r.stop()}}getKeysCore(t){let n=this.memento.keys();return t&&(n=n.filter(r=>r.startsWith(t))),n}async store(t,n){const r=this.getScoped(t),i=new P(`MementoStorage.store(${t}): scopedKey=${r}`,{logLevel:Ne.Debug});try{return await this.storeCore(t,r,n)}finally{i.stop()}}async storeCore(t,n,r){await this.memento.update(n,r),this._onDidChange.fire({key:t})}async delete(t){const n=this.getScoped(t),r=new P(`MementoStorage.delete(${t}): scopedKey=${n}`,{logLevel:Ne.Debug});try{return await this.storeCore(t,n,void 0)}finally{r.stop()}}async deleteKeys(t){const n=this.getScoped(t),r=new P(`MementoStorage.deleteKeys(${t}): scopedPrefix=${n}`,{logLevel:Ne.Debug});try{const i=[],a=this.scope!==void 0?this.scope.length+1:0,o=this.getKeysCore(n);for(const s of o){const u=a!==0?s.substr(a):s;le.debug(`MementoStorage.deleteKeys(${t}): Deleting key=${u}, scopedKey=${s}`);try{await this.storeCore(u,s,void 0)}catch(c){le.debug(`MementoStorage.deleteKeys(${t}): Failed to delete key=${u}, scopedKey=${s}`),i.push(u)}}if(i.length)throw new Error(`Failed to delete keys: ${i.join(", ")}`)}finally{r.stop()}}with(t){return new fs(this.memento,t)}getScoped(t){return`${this.scope!==void 0?`${this.scope}/`:""}${t!=null?t:""}`}}l(fs,"MementoStorageService");class ds{constructor(t,n){this.storageUri=t,this.scope=n,this._onDidChange=new d.EventEmitter}get onDidChange(){return this._onDidChange.event}async get(t){const n=this.getScoped(t),r=new P(`ExtFileStorageService.get(${t}): scopedKey=${n}`,{logLevel:Ne.Debug});try{return await d.workspace.fs.readFile(d.Uri.joinPath(this.storageUri,n))}catch(i){return}finally{r.stop()}}async store(t,n){const r=this.getScoped(t),i=new P(`ExtFileStorageService.store(${t}): scopedKey=${r}`,{logLevel:Ne.Debug});try{return await this.storeCore(t,r,n)}finally{i.stop()}}async storeCore(t,n,r){await d.workspace.fs.writeFile(d.Uri.joinPath(this.storageUri,n),r),this._onDidChange.fire({key:t})}async delete(t){const n=this.getScoped(t),r=new P(`ExtFileStorageService.delete(${t}): scopedKey=${n}`,{logLevel:Ne.Debug});try{return await d.workspace.fs.delete(d.Uri.joinPath(this.storageUri,n))}finally{r.stop()}}with(t){return new ds(this.storageUri,t)}getScoped(t){return`${this.scope!==void 0?`${this.scope}/`:""}${t}`}}l(ds,"ExtFileStorageService");var nc=Object.defineProperty,id=Object.getOwnPropertySymbols,em=Object.prototype.hasOwnProperty,tm=Object.prototype.propertyIsEnumerable,ad=l((e,t,n)=>t in e?nc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,"yo"),On=l((e,t)=>{for(var n in t||(t={}))em.call(t,n)&&ad(e,n,t[n]);if(id)for(var n of id(t))tm.call(t,n)&&ad(e,n,t[n]);return e},"Xe"),nm=l(e=>nc(e,"__esModule",{value:!0}),"Iu"),be=l((e,t)=>()=>(e&&(t=e(e=0)),t),"C"),rm=l((e,t)=>{nm(e);for(var n in t)nc(e,n,{get:t[n],enumerable:!0})},"Tu"),rc=l((e,t,n)=>new Promise((r,i)=>{var a=l(u=>{try{s(n.next(u))}catch(c){i(c)}},"a"),o=l(u=>{try{s(n.throw(u))}catch(c){i(c)}},"o"),s=l(u=>u.done?r(u.value):Promise.resolve(u.value).then(a,o),"c");s((n=n.apply(e,t)).next())}),"Br"),od,im=be(()=>{od={Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}}),Gi,sr,Sr,Ln,hs,Cr,ps,gs,sd,ld,Wa,ic=be(()=>{Gi="function",sr="object",Sr="undefined",Ln="prototype",hs="hasOwnProperty",Cr=Object,ps=Cr[Ln],gs=Cr.assign,sd=Cr.create,ld=Cr.defineProperty,Wa=ps[hs]});function Ki(){return typeof globalThis!==Sr&&globalThis?globalThis:typeof self!==Sr&&self?self:typeof window!==Sr&&window?window:typeof __webpack_require__.g!==Sr&&__webpack_require__.g?__webpack_require__.g:null}l(Ki,"st");function ac(e){throw new TypeError(e)}l(ac,"Er");function ms(e){var t=sd;if(t)return t(e);if(e==null)return{};var n=typeof e;n!==sr&&n!==Gi&&ac("Object prototype may only be an Object:"+e);function r(){}return l(r,"n"),r[Ln]=e,new r}l(ms,"Nt");var cd=be(()=>{ic()});function Tt(e,t){typeof t!==Gi&&t!==null&&ac("Class extends value "+String(t)+" is not a constructor or null"),vs(e,t);function n(){this.constructor=e}l(n,"r"),e[Ln]=t===null?ms(t):(n[Ln]=t[Ln],new n)}l(Tt,"z");var am,om,ud,Zi,vs,sm=be(()=>{ic(),cd(),am=(Ki()||{}).Symbol,om=(Ki()||{}).Reflect,ud=l(function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)ps[hs].call(t,i)&&(e[i]=t[i])}return e},"Pu"),Zi=gs||ud,vs=l(function(e,t){return vs=Cr.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r[hs](i)&&(n[i]=r[i])},vs(e,t)},"Mi")}),lm=be(()=>{}),Lt=be(()=>{ic(),cd(),sm(),lm()});function Vr(e,t){return e&&Ka[lr].hasOwnProperty.call(e,t)}l(Vr,"Bt");function fd(e){return e&&(e===Ka[lr]||e===Array[lr])}l(fd,"Do");function oc(e){return fd(e)||e===Function[lr]}l(oc,"Oi");function mi(e){if(e){if(Xi)return Xi(e);var t=e[hd]||e[lr]||(e[ja]?e[ja][lr]:null);if(t)return t}return null}l(mi,"ar");function ws(e,t){var n=[],r=Ka.getOwnPropertyNames;if(r)n=r(e);else for(var i in e)typeof i=="string"&&Vr(e,i)&&n.push(i);if(n&&n.length>0)for(var a=0;a<n.length;a++)t(n[a])}l(ws,"qn");function sc(e,t,n){return t!==ja&&typeof e[t]===Va&&(n||Vr(e,t))}l(sc,"zi");function ys(e){throw new TypeError("DynamicProto: "+e)}l(ys,"Gn");function cm(e){var t={};return ws(e,function(n){!t[n]&&sc(e,n,!1)&&(t[n]=e[n])}),t}l(cm,"Au");function lc(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return!0;return!1}l(lc,"Hi");function um(e,t,n,r){function i(u,c,f){var v=c[f];if(v[_s]&&r){var g=u[Ga]||{};g[Qi]!==!1&&(v=(g[c[vi]]||{})[f]||v)}return function(){return v.apply(u,arguments)}}l(i,"i");var a={};ws(n,function(u){a[u]=i(t,n,u)});for(var o=mi(e),s=[];o&&!oc(o)&&!lc(s,o);)ws(o,function(u){!a[u]&&sc(o,u,!Xi)&&(a[u]=i(t,o,u))}),s.push(o),o=mi(o);return a}l(um,"Nu");function fm(e,t,n,r){var i=null;if(e&&Vr(n,vi)){var a=e[Ga]||{};if(i=(a[n[vi]]||{})[t],i||ys("Missing ["+t+"] "+Va),!i[xs]&&a[Qi]!==!1){for(var o=!Vr(e,t),s=mi(e),u=[];o&&s&&!oc(s)&&!lc(u,s);){var c=s[t];if(c){o=c===r;break}u.push(s),s=mi(s)}try{o&&(e[t]=i),i[xs]=1}catch(f){a[Qi]=!1}}}return i}l(fm,"Fu");function dm(e,t,n){var r=t[e];return r===n&&(r=mi(t)[e]),typeof r!==Va&&ys("["+e+"] is not a "+Va),r}l(dm,"ku");function hm(e,t,n,r,i){function a(u,c){var f=l(function(){var v=fm(this,c,u,f)||dm(c,u,f);return v.apply(this,arguments)},"l");return f[_s]=1,f}if(l(a,"a"),!fd(e)){var o=n[Ga]=n[Ga]||{},s=o[t]=o[t]||{};o[Qi]!==!1&&(o[Qi]=!!i),ws(n,function(u){sc(n,u,!1)&&n[u]!==r[u]&&(s[u]=n[u],delete n[u],(!Vr(e,u)||e[u]&&!e[u][_s])&&(e[u]=a(e,u)))})}}l(hm,"Ru");function pm(e,t){if(Xi)for(var n=[],r=mi(t);r&&!oc(r)&&!lc(n,r);){if(r===e)return!0;n.push(r),r=mi(r)}return!1}l(pm,"Mu");function cc(e,t){return Vr(e,lr)?e.name||t||dc:((e||{})[ja]||{}).name||t||dc}l(cc,"ji");function uc(e,t,n,r){Vr(e,lr)||ys("theClass is an invalid class definition.");var i=e[lr];pm(i,t)||ys("["+cc(e)+"] is not in class hierarchy of ["+cc(t)+"]");var a=null;Vr(i,vi)?a=i[vi]:(a=dd+cc(e,"_")+"$"+pc,pc++,i[vi]=a);var o=uc[fc],s=!!o[bs];s&&r&&r[bs]!==void 0&&(s=!!r[bs]);var u=cm(t),c=um(i,t,u,s);n(t,c);var f=!!Xi&&!!o[hc];f&&r&&(f=!!r[hc]),hm(i,a,t,u,f!==!1)}l(uc,"Bi");var ja,lr,Va,Ga,_s,vi,dd,xs,Qi,fc,dc,hd,bs,hc,Ka,Xi,pc,pd,Qt,sn=be(()=>{ja="constructor",lr="prototype",Va="function",Ga="_dynInstFuncs",_s="_isDynProxy",vi="_dynClass",dd="_dynCls$",xs="_dynInstChk",Qi=xs,fc="_dfOpts",dc="_unknown_",hd="__proto__",bs="useBaseInst",hc="setInstFuncs",Ka=Object,Xi=Ka.getPrototypeOf,pc=0,pd={setInstFuncs:!0,useBaseInst:!0},uc[fc]=pd,Qt=uc}),Be,Ae,Es=be(()=>{(function(e){e[e.CRITICAL=1]="CRITICAL",e[e.WARNING=2]="WARNING"})(Be||(Be={})),Ae={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103}});function gc(e){return ps.toString.call(e)}l(gc,"Vi");function gm(e,t){return typeof e===t}l(gm,"qi");function En(e){return e===void 0||typeof e===Sr}l(En,"de");function $e(e){return e===null||En(e)}l($e,"x");function mm(e){return!$e(e)}l(mm,"Gi");function mc(e,t){return e&&Wa.call(e,t)}l(mc,"Pr");function wi(e){return typeof e===sr}l(wi,"ct");function yt(e){return typeof e===Gi}l(yt,"H");function Za(e,t,n,r){r===void 0&&(r=!1);var i=!1;if(!$e(e))try{$e(e[Ec])?$e(e[bc])||(e[bc](xc+t,n),i=!0):(e[Ec](t,n,r),i=!0)}catch(a){}return i}l(Za,"Vt");function gd(e,t,n,r){if(r===void 0&&(r=!1),!$e(e))try{$e(e[Cc])?$e(e[Sc])||e[Sc](xc+t,n):e[Cc](t,n,r)}catch(i){}}l(gd,"Kn");function vm(e){var t=e,n=/([^\w\d_$])/g;return n.test(e)&&(t=e.replace(n,"_")),t}l(vm,"Ki");function tn(e,t){if(e)for(var n in e)Wa.call(e,n)&&t.call(e,n,e[n])}l(tn,"Y");function wm(e,t){if(e&&t){var n=t.length,r=e.length;if(e===t)return!0;if(r>=n){for(var i=r-1,a=n-1;a>=0;a--){if(e[i]!=t[a])return!1;i--}return!0}}return!1}l(wm,"Wi");function pn(e,t){return e&&t?e.indexOf(t)!==-1:!1}l(pn,"we");function vc(e){return gc(e)==="[object Date]"}l(vc,"br");function Ar(e){return gc(e)==="[object Array]"}l(Ar,"Me");function Ss(e){return gc(e)==="[object Error]"}l(Ss,"qt");function lt(e){return typeof e=="string"}l(lt,"_");function wc(e){return typeof e=="number"}l(wc,"or");function yc(e){return typeof e=="boolean"}l(yc,"Wr");function Gr(e){if(vc(e)){var t=l(function(n){var r=String(n);return r.length===1&&(r="0"+r),r},"e");return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}l(Gr,"Le");function ct(e,t,n){for(var r=e.length,i=0;i<r&&!(i in e&&t.call(n||e,e[i],i,e)===-1);i++);}l(ct,"R");function Qa(e,t,n){for(var r=e.length,i=n||0,a=Math.max(i>=0?i:r-Math.abs(i),0);a<r;a++)if(a in e&&e[a]===t)return a;return-1}l(Qa,"kt");function Xa(e,t,n){for(var r=e.length,i=n||e,a=new Array(r),o=0;o<r;o++)o in e&&(a[o]=t.call(i,e[o],e));return a}l(Xa,"Gt");function md(e,t,n){var r=e.length,i=0,a;if(arguments.length>=3)a=arguments[2];else{for(;i<r&&!(i in e);)i++;a=e[i++]}for(;i<r;)i in e&&(a=t(a,e[i],i,e)),i++;return a}l(md,"Jr");function fn(e){return typeof e!="string"?e:e.replace(/^\s+|\s+$/g,"")}l(fn,"oe");function yi(e){var t=typeof e;t!==Gi&&(t!==sr||e===null)&&ac("objKeys called on non-object");var n=[];for(var r in e)e&&Wa.call(e,r)&&n.push(r);if(_d)for(var i=Cs.length,a=0;a<i;a++)e&&Wa.call(e,Cs[a])&&n.push(Cs[a]);return n}l(yi,"et");function Yi(e,t,n,r){if(Ac)try{var i={enumerable:!0,configurable:!0};return n&&(i.get=n),r&&(i.set=r),Ac(e,t,i),!0}catch(a){}return!1}l(Yi,"Ct");function Un(){var e=Date;return e.now?e.now():new e().getTime()}l(Un,"me");function Ct(e){return Ss(e)?e.name:""}l(Ct,"G");function _t(e,t,n,r,i){var a=n;return e&&(a=e[t],a!==n&&(!i||i(a))&&(!r||r(n))&&(a=n,e[t]=a)),a}l(_t,"K");function gn(e,t,n){var r;return e?(r=e[t],!r&&$e(r)&&(r=En(n)?{}:n,e[t]=r)):r=En(n)?{}:n,r}l(gn,"ve");function vd(e){return!e}l(vd,"Wn");function _c(e){return!!e}l(_c,"Dr");function cr(e){throw new Error(e)}l(cr,"Ne");function wd(e,t,n){if(e&&t&&e!==t&&wi(e)&&wi(t)){var r=l(function(a){if(lt(a)){var o=t[a];yt(o)?(!n||n(a,!0,t,e))&&(e[a]=function(s){return function(){var u=arguments;return t[s].apply(t,u)}}(a)):(!n||n(a,!1,t,e))&&(mc(e,a)&&delete e[a],Yi(e,a,function(){return t[a]},function(s){t[a]=s})||(e[a]=o))}},"n");for(var i in t)r(i)}return e}l(wd,"Xr");function ym(e){return function(){function t(){var n=this;e&&tn(e,function(r,i){n[r]=i})}return l(t,"e"),t}()}l(ym,"Xi");function yd(e){return e&&(e=Cr(gs?gs({},e):e)),e}l(yd,"Jn");var xc,bc,Ec,Sc,Cc,Ac,_m,xm,_d,Cs,mn=be(()=>{Lt(),xc="on",bc="attachEvent",Ec="addEventListener",Sc="detachEvent",Cc="removeEventListener",Ac=ld,_m=Cr.freeze,xm=Cr.seal,_d=!{toString:null}.propertyIsEnumerable("toString"),Cs=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]});function vn(e){var t=Ki();return t&&t[e]?t[e]:e===Tc&&As()?window:null}l(vn,"Pe");function As(){return Boolean(typeof window===sr&&window)}l(As,"sr");function Ya(){return As()?window:vn(Tc)}l(Ya,"It");function xd(){return Boolean(typeof document===sr&&document)}l(xd,"Xn");function ur(){return xd()?document:vn(bd)}l(ur,"Fe");function bm(){return Boolean(typeof navigator===sr&&navigator)}l(bm,"_o");function fr(){return bm()?navigator:vn(Ed)}l(fr,"_e");function Em(){return Boolean(typeof history===sr&&history)}l(Em,"Oo");function Sm(){return Em()?history:vn(Sd)}l(Sm,"ea");function _i(e){if(e&&Dd){var t=vn("__mockLocation");if(t)return t}return typeof location===sr&&location?location:vn(Cd)}l(_i,"tt");function Cm(){return typeof console!==Sr?console:vn(Ad)}l(Cm,"ta");function Ir(){return vn(Id)}l(Ir,"Ze");function Ji(){return Boolean(typeof JSON===sr&&JSON||vn(Rc)!==null)}l(Ji,"ht");function Qn(){return Ji()?JSON||vn(Rc):null}l(Qn,"be");function Am(){return vn(Td)}l(Am,"ra");function Im(){return vn(Rd)}l(Im,"na");function Tm(){var e=fr();return e&&e.product?e.product===kd:!1}l(Tm,"ia");function Is(){var e=fr();if(e&&(e.userAgent!==Ds||ks===null)){Ds=e.userAgent;var t=(Ds||"").toLowerCase();ks=pn(t,Ts)||pn(t,Rs)}return ks}l(Is,"Kt");function Ic(e){if(e===void 0&&(e=null),!e){var t=fr()||{};e=t?(t.userAgent||"").toLowerCase():""}var n=(e||"").toLowerCase();if(pn(n,Ts))return parseInt(n.split(Ts)[1]);if(pn(n,Rs)){var r=parseInt(n.split(Rs)[1]);if(r)return r+4}return null}l(Ic,"cr");function st(e){var t=Object[Ln].toString.call(e),n="";return t==="[object Error]"?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":Ji()&&(n=Qn().stringify(e)),t+n}l(st,"O");var Tc,bd,Ed,Sd,Cd,Ad,Id,Rc,Td,Rd,kd,Ts,Rs,ks,Ds,Dd,Ja=be(()=>{Lt(),mn(),Tc="window",bd="document",Ed="navigator",Sd="history",Cd="location",Ad="console",Id="performance",Rc="JSON",Td="crypto",Rd="msCrypto",kd="ReactNative",Ts="msie",Rs="trident/",ks=null,Ds=null,Dd=!1});function Fd(e){return e?'"'+e.replace(/\"/g,"")+'"':""}l(Fd,"zo");function Fs(e,t){return(e||{}).logger||new kc(t)}l(Fs,"Mt");var Nd,Ld,Bd,ea,kc,Dc=be(()=>{Es(),Ja(),sn(),mn(),Nd="AI (Internal): ",Ld="AI: ",Bd="AITR_",ea=function(){function e(t,n,r,i){r===void 0&&(r=!1);var a=this;a.messageId=t,a.message=(r?Ld:Nd)+t;var o="";Ji()&&(o=Qn().stringify(i));var s=(n?" message:"+Fd(n):"")+(i?" props:"+Fd(o):"");a.message+=s}return l(e,"t"),e.dataType="MessageData",e}(),kc=function(){function e(t){this.identifier="DiagnosticLogger",this.queue=[];var n=0,r={};Qt(e,this,function(i){$e(t)&&(t={}),i.consoleLoggingLevel=function(){return a("loggingLevelConsole",0)},i.telemetryLoggingLevel=function(){return a("loggingLevelTelemetry",1)},i.maxInternalMessageLimit=function(){return a("maxMessageLimit",25)},i.enableDebugExceptions=function(){return a("enableDebugExceptions",!1)},i.throwInternal=function(s,u,c,f,v){v===void 0&&(v=!1);var g=new ea(u,c,v,f);if(i.enableDebugExceptions())throw g;if(!En(g.message)){var w=i.consoleLoggingLevel();if(v){var A=+g.messageId;!r[A]&&w>=Be.WARNING&&(i.warnToConsole(g.message),r[A]=!0)}else w>=Be.WARNING&&i.warnToConsole(g.message);i.logInternalMessage(s,g)}},i.warnToConsole=function(s){var u=Cm();if(u){var c="log";u.warn&&(c="warn"),yt(u[c])&&u[c](s)}},i.resetInternalMessageCount=function(){n=0,r={}},i.logInternalMessage=function(s,u){if(!o()){var c=!0,f=Bd+u.messageId;if(r[f]?c=!1:r[f]=!0,c&&(s<=i.telemetryLoggingLevel()&&(i.queue.push(u),n++),n===i.maxInternalMessageLimit())){var v="Internal events throttle limit per PageView reached for this app.",g=new ea(Ae.MessageLimitPerPVExceeded,v,!1);i.queue.push(g),i.warnToConsole(v)}}};function a(s,u){var c=t[s];return $e(c)?u:c}l(a,"a");function o(){return n>=i.maxInternalMessageLimit()}l(o,"o")})}return l(e,"t"),e}()});function ta(e,t,n,r,i){if(e){var a=e;if(yt(a.getPerfMgr)&&(a=a.getPerfMgr()),a){var o=void 0,s=a.getCtx(Ns);try{if(o=a.create(t(),r,i),o){if(s&&o.setCtx&&(o.setCtx(na.ParentContextKey,s),s.getCtx&&s.setCtx)){var u=s.getCtx(na.ChildrenContextKey);u||(u=[],s.setCtx(na.ChildrenContextKey,u)),u.push(o)}return a.setCtx(Ns,o),n(o)}}catch(c){o&&o.setCtx&&o.setCtx("exception",c)}finally{o&&a.fire(o),a.setCtx(Ns,s)}}}return n()}l(ta,"ut");var xi,na,Fc,Ns,Ls=be(()=>{sn(),mn(),xi="ctx",na=function(){function e(t,n,r){var i=this,a=!1;if(i.start=Un(),i.name=t,i.isAsync=r,i.isChildEvt=function(){return!1},yt(n)){var o;a=Yi(i,"payload",function(){return!o&&yt(n)&&(o=n(),n=null),o})}i.getCtx=function(s){return s?s===e.ParentContextKey||s===e.ChildrenContextKey?i[s]:(i[xi]||{})[s]:null},i.setCtx=function(s,u){if(s)if(s===e.ParentContextKey)i[s]||(i.isChildEvt=function(){return!0}),i[s]=u;else if(s===e.ChildrenContextKey)i[s]=u;else{var c=i[xi]=i[xi]||{};c[s]=u}},i.complete=function(){var s=0,u=i.getCtx(e.ChildrenContextKey);if(Ar(u))for(var c=0;c<u.length;c++){var f=u[c];f&&(s+=f.time)}i.time=Un()-i.start,i.exTime=i.time-s,i.complete=function(){},!a&&yt(n)&&(i.payload=n())}}return l(e,"t"),e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),Fc=function(){function e(t){this.ctx={},Qt(e,this,function(n){n.create=function(r,i,a){return new na(r,i,a)},n.fire=function(r){r&&(r.complete(),t&&t.perfEvent(r))},n.setCtx=function(r,i){if(r){var a=n[xi]=n[xi]||{};a[r]=i}},n.getCtx=function(r){return(n[xi]||{})[r]}})}return l(e,"t"),e}(),Ns="CoreUtils.doPerf"}),$d,Rm=be(()=>{Ls(),Es(),mn(),$d=function(){function e(t,n){var r=this,i=null,a=yt(t.processTelemetry),o=yt(t.setNextPlugin);r._hasRun=!1,r.getPlugin=function(){return t},r.getNext=function(){return i},r.setNext=function(s){i=s},r.processTelemetry=function(s,u){u||(u=n);var c=t?t.identifier:"TelemetryPluginChain";ta(u?u.core():null,function(){return c+":processTelemetry"},function(){if(t&&a){r._hasRun=!0;try{u.setNext(i),o&&t.setNextPlugin(i),i&&(i._hasRun=!1),t.processTelemetry(s,u)}catch(v){var f=i&&i._hasRun;(!i||!f)&&u.diagLog().throwInternal(Be.CRITICAL,Ae.PluginException,"Plugin ["+t.identifier+"] failed during processTelemetry - "+v),i&&!f&&i.processTelemetry(s,u)}}else i&&(r._hasRun=!0,i.processTelemetry(s,u))},function(){return{item:s}},!s.sync)}}return l(e,"t"),e}()});function Nc(e,t){var n=[];if(e&&e.length>0)for(var r=null,i=0;i<e.length;i++){var a=e[i];if(a&&yt(a.processTelemetry)){var o=new $d(a,t);n.push(o),r&&r.setNext(o),r=o}}return n.length>0?n[0]:null}l(Nc,"oa");function km(e,t,n){var r=[],i=!n;if(e)for(;e;){var a=e.getPlugin();(i||a===n)&&(i=!0,r.push(a)),e=e.getNext()}return i||r.push(n),Nc(r,t)}l(km,"Qu");function Dm(e,t,n){var r=e,i=!1;return n&&e&&(r=[],ct(e,function(a){(i||a===n)&&(i=!0,r.push(a))})),n&&!i&&(r||(r=[]),r.push(n)),Nc(r,t)}l(Dm,"Zu");var bi,Lc=be(()=>{Dc(),Rm(),mn(),bi=function(){function e(t,n,r,i){var a=this,o=null;i!==null&&(t&&yt(t.getPlugin)?o=km(t,a,i||t.getPlugin()):i?o=Dm(t,a,i):En(i)&&(o=Nc(t,a))),a.core=function(){return r},a.diagLog=function(){return Fs(r,n)},a.getCfg=function(){return n},a.getExtCfg=function(s,u){u===void 0&&(u={});var c;if(n){var f=n.extensionConfig;f&&s&&(c=f[s])}return c||u},a.getConfig=function(s,u,c){c===void 0&&(c=!1);var f,v=a.getExtCfg(s,null);return v&&!$e(v[u])?f=v[u]:n&&!$e(n[u])&&(f=n[u]),$e(f)?c:f},a.hasNext=function(){return o!=null},a.getNext=function(){return o},a.setNext=function(s){o=s},a.processNext=function(s){var u=o;u&&(o=u.getNext(),u.processTelemetry(s,a))},a.createNew=function(s,u){return s===void 0&&(s=null),new e(s||o,n,r,u)}}return l(e,"t"),e}()}),Md,Bc,Pd=be(()=>{Md="iKey",Bc="extensionConfig"}),eo,Ei,Od=be(()=>{Lc(),mn(),Pd(),eo="getPlugin",Ei=function(){function e(){var t=this,n=!1,r=null,i=null;t.core=null,t.diagLog=function(a){return t._getTelCtx(a).diagLog()},t.isInitialized=function(){return n},t.setInitialized=function(a){n=a},t.setNextPlugin=function(a){i=a},t.processNext=function(a,o){o?o.processNext(a):i&&yt(i.processTelemetry)&&i.processTelemetry(a,null)},t._getTelCtx=function(a){a===void 0&&(a=null);var o=a;if(!o){var s=r||new bi(null,{},t.core);i&&i[eo]?o=s.createNew(null,i[eo]):o=s.createNew(null,i)}return o},t._baseTelInit=function(a,o,s,u){a&&_t(a,Bc,[],null,$e),!u&&o&&(u=o.getProcessTelContext().getNext());var c=i;i&&i[eo]&&(c=i[eo]()),t.core=o,r=new bi(u,a,o,c),n=!0}}return l(e,"t"),e.prototype.initialize=function(t,n,r,i){this._baseTelInit(t,n,r,i)},e}()});function $c(e,t){for(var n=[],r=null,i=e.getNext();i;){var a=i.getPlugin();a&&(r&&yt(r[Pc])&&yt(a[Bs])&&r[Pc](a),(!yt(a[Oc])||!a[Oc]())&&n.push(a),r=a,i=i.getNext())}ct(n,function(o){o.initialize(e.getCfg(),e.core(),t,e.getNext())})}l($c,"$r");function Ud(e){return e.sort(function(t,n){var r=0,i=yt(n[Bs]);return yt(t[Bs])?r=i?t[Mc]-n[Mc]:1:i&&(r=-1),r})}l(Ud,"la");var Bs,Mc,Pc,Oc,Hd=be(()=>{mn(),Bs="processTelemetry",Mc="priority",Pc="setNextPlugin",Oc="isInitialized"}),$s,zd,qd,Fm=be(()=>{Lt(),sn(),Od(),Lc(),Hd(),mn(),$s=500,zd="Channel has invalid priority",qd=function(e){Tt(t,e);function t(){var n=e.call(this)||this;n.identifier="ChannelControllerPlugin",n.priority=$s;var r;Qt(t,n,function(s,u){s.setNextPlugin=function(c){},s.processTelemetry=function(c,f){r&&ct(r,function(v){if(v.length>0){var g=n._getTelCtx(f).createNew(v);g.processNext(c)}})},s.getChannelControls=function(){return r},s.initialize=function(c,f,v){s.isInitialized()||(u.initialize(c,f,v),o((c||{}).channels,v),ct(r,function(g){return $c(new bi(g,c,f),v)}))}});function i(s){ct(s,function(u){u.priority<$s&&cr(zd+u.identifier)})}l(i,"i");function a(s){s&&s.length>0&&(s=s.sort(function(u,c){return u.priority-c.priority}),i(s),r.push(s))}l(a,"a");function o(s,u){if(r=[],s&&ct(s,function(f){return a(f)}),u){var c=[];ct(u,function(f){f.priority>$s&&c.push(f)}),a(c)}}return l(o,"o"),n}return l(t,"e"),t._staticInit=function(){var n=t.prototype;Yi(n,"ChannelControls",n.getChannelControls),Yi(n,"channelQueue",n.getChannelControls)}(),t}(Ei)});function Wd(e,t){var n=to[Tr]||ro[Tr];return n||(n=to[Tr]=to(e,t),ro[Tr]=n),n}l(Wd,"ha");function Ms(e){return e?e.isEnabled():!0}l(Ms,"ni");function Nm(e){var t=e.cookieCfg=e.cookieCfg||{};if(_t(t,"domain",e.cookieDomain,mm,$e),_t(t,"path",e.cookiePath||"/",null,$e),$e(t[Us])){var n=void 0;En(e[qc])||(n=!e[qc]),En(e[Wc])||(n=!e[Wc]),t[Us]=n}return t}l(Nm,"Yu");function Uc(e,t){var n;if(e)n=e.getCookieMgr();else if(t){var r=t.cookieCfg;r[Tr]?n=r[Tr]:n=to(t)}return n||(n=Wd(t,(e||{}).logger)),n}l(Uc,"lr");function to(e,t){var n=Nm(e||ro),r=n.path||"/",i=n.domain,a=n[Us]!==!1,o={isEnabled:function(){var s=a&&jd(t),u=ro[Tr];return s&&u&&o!==u&&(s=Ms(u)),s},setEnabled:function(s){a=s!==!1},set:function(s,u,c,f,v){if(Ms(o)){var g={},w=fn(u||Hn),A=w.indexOf(";");if(A!==-1&&(w=fn(u.substring(0,A)),g=Vd(u.substring(A+1))),_t(g,"domain",f||i,_c,En),!$e(c)){var T=Is();if(En(g[Os])){var C=Un(),D=C+c*1e3;if(D>0){var $=new Date;$.setTime(D),_t(g,Os,Gd($,T?Hc:zc)||Gd($,T?Hc:zc)||Hn,_c)}}T||_t(g,"max-age",Hn+c,null,En)}var V=_i();V&&V.protocol==="https:"&&(_t(g,"secure",null,null,En),Hs===null&&(Hs=!Qd((fr()||{}).userAgent)),Hs&&_t(g,"SameSite","None",null,En)),_t(g,"path",v||r,null,En);var q=n.setCookie||Zd;q(s,Kd(w,g))}},get:function(s){var u=Hn;return Ms(o)&&(u=(n.getCookie||Lm)(s)),u},del:function(s,u){Ms(o)&&o.purge(s,u)},purge:function(s,u){if(jd(t)){var c=(v={},v.path=u||"/",v[Os]="Thu, 01 Jan 1970 00:00:01 GMT",v);Is()||(c["max-age"]="0");var f=n.delCookie||Zd;f(s,Kd(Hn,c))}var v}};return o[Tr]=o,o}l(to,"fr");function jd(e){if(no===null){no=!1;try{var t=ra||{};no=t[Ps]!==void 0}catch(n){e&&e.throwInternal(Be.WARNING,Ae.CannotAccessCookie,"Cannot access document.cookie - "+Ct(n),{exception:st(n)})}}return no}l(jd,"xa");function Vd(e){var t={};if(e&&e.length){var n=fn(e).split(";");ct(n,function(r){if(r=fn(r||Hn),r){var i=r.indexOf("=");i===-1?t[r]=null:t[fn(r.substring(0,i))]=fn(r.substring(i+1))}})}return t}l(Vd,"es");function Gd(e,t){return yt(e[t])?e[t]():null}l(Gd,"ts");function Kd(e,t){var n=e||Hn;return tn(t,function(r,i){n+="; "+r+($e(i)?Hn:"="+i)}),n}l(Kd,"rs");function Lm(e){var t=Hn;if(ra){var n=ra[Ps]||Hn;jc!==n&&(Vc=Vd(n),jc=n),t=fn(Vc[e]||Hn)}return t}l(Lm,"el");function Zd(e,t){ra&&(ra[Ps]=e+"="+t)}l(Zd,"ns");function Qd(e){return lt(e)?!!(pn(e,"CPU iPhone OS 12")||pn(e,"iPad; CPU OS 12")||pn(e,"Macintosh; Intel Mac OS X 10_14")&&pn(e,"Version/")&&pn(e,"Safari")||pn(e,"Macintosh; Intel Mac OS X 10_14")&&wm(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||pn(e,"Chrome/5")||pn(e,"Chrome/6")||pn(e,"UnrealEngine")&&!pn(e,"Chrome")||pn(e,"UCBrowser/12")||pn(e,"UCBrowser/11")):!1}l(Qd,"ii");var Hc,zc,Ps,Os,Us,qc,Wc,Tr,Hn,no,Hs,jc,ra,Vc,ro,Gc=be(()=>{Es(),Ja(),mn(),Hc="toGMTString",zc="toUTCString",Ps="cookie",Os="expires",Us="enabled",qc="isCookieUseDisabled",Wc="disableCookiesUsage",Tr="_ckMgr",Hn="",no=null,Hs=null,jc=null,ra=ur(),Vc={},ro={}}),Xd,Kc,Zc,Yd=be(()=>{Lt(),sn(),Fm(),Lc(),Hd(),Ls(),Gc(),mn(),Pd(),Xd="Extensions must provide callback to initialize",Kc="_notificationManager",Zc=function(){function e(){var t=!1,n,r,i,a,o;Qt(e,this,function(s){s._extensions=new Array,r=new qd,s.logger=ms({throwInternal:function(u,c,f,v,g){g===void 0&&(g=!1)},warnToConsole:function(u){},resetInternalMessageCount:function(){}}),n=[],s.isInitialized=function(){return t},s.initialize=function(u,c,f,v){s.isInitialized()&&cr("Core should not be initialized more than once"),(!u||$e(u.instrumentationKey))&&cr("Please provide instrumentation key"),i=v,s[Kc]=v,s.config=u||{},u.extensions=$e(u.extensions)?[]:u.extensions;var g=gn(u,Bc);g.NotificationManager=v,f&&(s.logger=f);var w=[];w.push.apply(w,c.concat(u.extensions)),w=Ud(w);var A=[],T=[],C={};ct(w,function(D){($e(D)||$e(D.initialize))&&cr(Xd);var $=D.priority,V=D.identifier;D&&$&&($e(C[$])?C[$]=V:f.warnToConsole("Two extensions have same priority #"+$+" - "+C[$]+", "+V)),!$||$<r.priority?A.push(D):T.push(D)}),w.push(r),A.push(r),w=Ud(w),s._extensions=w,$c(new bi([r],u,s),w),$c(new bi(A,u,s),w),s._extensions=A,s.getTransmissionControls().length===0&&cr("No channels available"),t=!0,s.releaseQueue()},s.getTransmissionControls=function(){return r.getChannelControls()},s.track=function(u){_t(u,Md,s.config.instrumentationKey,null,vd),_t(u,"time",Gr(new Date),null,vd),_t(u,"ver","4.0",null,$e),s.isInitialized()?s.getProcessTelContext().processNext(u):n.push(u)},s.getProcessTelContext=function(){var u=s._extensions,c=u;return(!u||u.length===0)&&(c=[r]),new bi(c,s.config,s)},s.getNotifyMgr=function(){return i||(i=ms({addNotificationListener:function(u){},removeNotificationListener:function(u){},eventsSent:function(u){},eventsDiscarded:function(u,c){},eventsSendRequest:function(u,c){}}),s[Kc]=i),i},s.getCookieMgr=function(){return o||(o=to(s.config,s.logger)),o},s.setCookieMgr=function(u){o=u},s.getPerfMgr=function(){return a||s.config&&s.config.enablePerfMgr&&(a=new Fc(s.getNotifyMgr())),a},s.setPerfMgr=function(u){a=u},s.eventCnt=function(){return n.length},s.releaseQueue=function(){n.length>0&&(ct(n,function(u){s.getProcessTelContext().processNext(u)}),n=[])}})}return l(e,"t"),e}()}),Qc,Jd=be(()=>{sn(),mn(),Qc=function(){function e(t){this.listeners=[];var n=!!(t||{}).perfEvtsSendAll;Qt(e,this,function(r){r.addNotificationListener=function(i){r.listeners.push(i)},r.removeNotificationListener=function(i){for(var a=Qa(r.listeners,i);a>-1;)r.listeners.splice(a,1),a=Qa(r.listeners,i)},r.eventsSent=function(i){ct(r.listeners,function(a){a&&a.eventsSent&&setTimeout(function(){return a.eventsSent(i)},0)})},r.eventsDiscarded=function(i,a){ct(r.listeners,function(o){o&&o.eventsDiscarded&&setTimeout(function(){return o.eventsDiscarded(i,a)},0)})},r.eventsSendRequest=function(i,a){ct(r.listeners,function(o){if(o&&o.eventsSendRequest)if(a)setTimeout(function(){return o.eventsSendRequest(i,a)},0);else try{o.eventsSendRequest(i,a)}catch(s){}})},r.perfEvent=function(i){i&&(n||!i.isChildEvt())&&ct(r.listeners,function(a){if(a&&a.perfEvent)if(i.isAsync)setTimeout(function(){return a.perfEvent(i)},0);else try{a.perfEvent(i)}catch(o){}})}})}return l(e,"t"),e}()}),Xc,Bm=be(()=>{Lt(),Yd(),im(),Jd(),Ls(),Dc(),sn(),mn(),Xc=function(e){Tt(t,e);function t(){var n=e.call(this)||this;return Qt(t,n,function(r,i){r.initialize=function(s,u,c,f){i.initialize(s,u,c||new kc(s),f||new Qc(s))},r.track=function(s){ta(r.getPerfMgr(),function(){return"AppInsightsCore:track"},function(){s===null&&(o(s),cr("Invalid telemetry item")),a(s),i.track(s)},function(){return{item:s}},!s.sync)},r.addNotificationListener=function(s){var u=r.getNotifyMgr();u&&u.addNotificationListener(s)},r.removeNotificationListener=function(s){var u=r.getNotifyMgr();u&&u.removeNotificationListener(s)},r.pollInternalLogs=function(s){var u=r.config.diagnosticLogInterval;return(!u||!(u>0))&&(u=1e4),setInterval(function(){var c=r.logger?r.logger.queue:[];ct(c,function(f){var v={name:s||"InternalMessageId: "+f.messageId,iKey:r.config.instrumentationKey,time:Gr(new Date),baseType:ea.dataType,baseData:{message:f.message}};r.track(v)}),c.length=0},u)};function a(s){if($e(s.name))throw o(s),Error("telemetry name required")}l(a,"a");function o(s){var u=r.getNotifyMgr();u&&u.eventsDiscarded([s],od.InvalidEvent)}l(o,"o")}),n}return l(t,"e"),t}(Zc)});function eh(e){e<0&&(e>>>=0),ia=123456789+e&Rr,aa=987654321-e&Rr,Jc=!0}l(eh,"cs");function th(){try{var e=Un()&2147483647;eh((Math.random()*Yc^e)+e)}catch(t){}}l(th,"us");function nh(e){return e>0?Math.floor(Si()/Rr*(e+1))>>>0:0}l(nh,"oi");function Si(e){var t,n=Am()||Im();return n&&n.getRandomValues?t=n.getRandomValues(new Uint32Array(1))[0]&Rr:Is()?(Jc||th(),t=rh()&Rr):t=Math.floor(Yc*Math.random()|0),e||(t>>>=0),t}l(Si,"Tt");function $m(e){e?eh(e):th()}l($m,"Ca");function rh(e){aa=36969*(aa&65535)+(aa>>16)&Rr,ia=18e3*(ia&65535)+(ia>>16)&Rr;var t=(aa<<16)+(ia&65535)>>>0&Rr|0;return e||(t>>>=0),t}l(rh,"si");var Yc,Rr,Jc,ia,aa,ih=be(()=>{Ja(),mn(),Yc=4294967296,Rr=4294967295,Jc=!1,ia=123456789,aa=987654321});function Ci(e,t){var n=!1,r=Ya();r&&(n=Za(r,e,t),n=Za(r.body,e,t)||n);var i=ur();return i&&(n=ao.Attach(i,e,t)||n),n}l(Ci,"Ut");function Mm(){function e(){return nh(15)}return l(e,"t"),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(oh,function(t){var n=e()|0,r=t==="x"?n:n&3|8;return r.toString(16)})}l(Mm,"ls");function Pm(){var e=Ir();return e&&e.now?e.now():Un()}l(Pm,"fs");function zs(e){e===void 0&&(e=22);for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=Si()>>>0,r=0,i="";i.length<e;)r++,i+=t.charAt(n&63),n>>>=6,r===5&&(n=(Si()<<2&4294967295|n&3)>>>0,r=0);return i}l(zs,"Xt");function dr(){for(var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],t="",n,r=0;r<4;r++)n=Si(),t+=e[n&15]+e[n>>4&15]+e[n>>8&15]+e[n>>12&15]+e[n>>16&15]+e[n>>20&15]+e[n>>24&15]+e[n>>28&15];var i=e[8+(Si()&3)|0];return t.substr(0,8)+t.substr(9,4)+"4"+t.substr(13,3)+i+t.substr(16,3)+t.substr(19,12)}l(dr,"He");function oa(e,t){var n=Wd(e,t),r=qs._canUseCookies;return sa===null&&(sa=[],io=r,Yi(qs,"_canUseCookies",function(){return io},function(i){io=i,ct(sa,function(a){a.setEnabled(i)})})),Qa(sa,n)===-1&&sa.push(n),yc(r)&&n.setEnabled(r),yc(io)&&n.setEnabled(io),n}l(oa,"Zt");function ah(){oa().setEnabled(!1)}l(ah,"ci");function Om(e){return oa(null,e).isEnabled()}l(Om,"Ta");function Um(e,t){return oa(null,e).get(t)}l(Um,"Ea");function Hm(e,t,n,r){oa(null,e).set(t,n,null,r)}l(Hm,"wa");function zm(e,t){return oa(null,e).del(t)}l(zm,"Pa");var sa,io,qs,oh,ao,qm=be(()=>{Lt(),Gc(),Ja(),mn(),ih(),sa=null,qs={_canUseCookies:void 0,isTypeof:gm,isUndefined:En,isNullOrUndefined:$e,hasOwnProperty:mc,isFunction:yt,isObject:wi,isDate:vc,isArray:Ar,isError:Ss,isString:lt,isNumber:wc,isBoolean:yc,toISOString:Gr,arrForEach:ct,arrIndexOf:Qa,arrMap:Xa,arrReduce:md,strTrim:fn,objCreate:ms,objKeys:yi,objDefineAccessors:Yi,addEventHandler:Ci,dateNow:Un,isIE:Is,disableCookies:ah,newGuid:Mm,perfNow:Pm,newId:zs,randomValue:nh,random32:Si,mwcRandomSeed:$m,mwcRandom32:rh,generateW3CId:dr},oh=/[xy]/g,ao={Attach:Za,AttachEvent:Za,Detach:gd,DetachEvent:gd}});function eu(e,t){if(e)for(var n=0;n<e.length&&!t(e[n],n);n++);}l(eu,"ba");function tu(e,t,n,r,i){i>=0&&i<=2&&eu(e,function(a,o){var s=a.cbks,u=s[iu[i]];if(u){t.ctx=function(){var v=r[o]=r[o]||{};return v};try{u.apply(t.inst,n)}catch(v){var c=t.err;try{var f=s[iu[2]];f&&(t.err=v,f.apply(t.inst,n))}catch(g){}finally{t.err=c}}}})}l(tu,"Da");function Wm(e){return function(){var t=this,n=arguments,r=e.h,i={name:e.n,inst:t,ctx:null,set:u},a=[],o=s([i],n);function s(f,v){return eu(v,function(g){f.push(g)}),f}l(s,"c");function u(f,v){n=s([],n),n[f]=v,o=s([i],n)}l(u,"s"),tu(r,i,o,a,0);var c=e.f;try{i.rslt=c.apply(t,n)}catch(f){throw i.err=f,tu(r,i,o,a,3),f}return tu(r,i,o,a,1),i.rslt}}l(Wm,"al");function jm(e){if(e){if(au)return au(e);var t=e[lh]||e[Ln]||e[ch];if(t)return t}return null}l(jm,"ol");function sh(e,t,n){var r=null;return e&&(mc(e,t)?r=e:n&&(r=sh(jm(e),t,!1))),r}l(sh,"vs");function Vm(e,t,n){return e?nu(e[Ln],t,n,!1):null}l(Vm,"Aa");function nu(e,t,n,r){if(r===void 0&&(r=!0),e&&t&&n){var i=sh(e,t,r);if(i){var a=i[t];if(typeof a===Gi){var o=a[ru];if(!o){o={i:0,n:t,f:a,h:[]};var s=Wm(o);s[ru]=o,i[t]=s}var u={id:o.i,cbks:n,rm:function(){var c=this.id;eu(o.h,function(f,v){if(f.id===c)return o.h.splice(v,1),1})}};return o.i++,o.h.push(u),u}}}return null}l(nu,"un");var ru,iu,lh,ch,au,Gm=be(()=>{Lt(),mn(),ru="_aiHooks",iu=["req","rsp","hkErr","fnErr"],lh="__proto__",ch="constructor",au=Object.getPrototypeOf}),pt=be(()=>{Bm(),Yd(),Od(),ih(),qm(),mn(),Ja(),Lt(),Jd(),Ls(),Dc(),Es(),Gm(),Gc()}),Mt,uh=be(()=>{Mt={requestContextHeader:"Request-Context",requestContextTargetKey:"appId",requestContextAppIdFormat:"appId=cid-v1:",requestIdHeader:"Request-Id",traceParentHeader:"traceparent",traceStateHeader:"tracestate",sdkContextHeader:"Sdk-Context",sdkContextHeaderAppIdRequest:"appId",requestContextHeaderLowerCase:"request-context"}});function ou(e,t,n){var r=t.length,i=fh(e,t);if(i.length!==r){for(var a=0,o=i;n[o]!==void 0;)a++,o=i.substring(0,150-3)+ph(a);i=o}return i}l(ou,"ui");function fh(e,t){var n;return t&&(t=fn(t.toString()),t.length>150&&(n=t.substring(0,150),e.throwInternal(Be.WARNING,Ae.NameTooLong,"name is too long.  It has been truncated to "+150+" characters.",{name:t},!0))),n||t}l(fh,"Fa");function Sn(e,t,n){n===void 0&&(n=1024);var r;return t&&(n=n||1024,t=fn(t),t.toString().length>n&&(r=t.toString().substring(0,n),e.throwInternal(Be.WARNING,Ae.StringValueTooLong,"string value is too long. It has been truncated to "+n+" characters.",{value:t},!0))),r||t}l(Sn,"ae");function oo(e,t){return lu(e,t,2048,Ae.UrlTooLong)}l(oo,"Et");function su(e,t){var n;return t&&t.length>32768&&(n=t.substring(0,32768),e.throwInternal(Be.WARNING,Ae.MessageTruncated,"message is too long, it has been truncated to "+32768+" characters.",{message:t},!0)),n||t}l(su,"Fr");function dh(e,t){var n;if(t){var r=""+t;r.length>32768&&(n=r.substring(0,32768),e.throwInternal(Be.WARNING,Ae.ExceptionTruncated,"exception is too long, it has been truncated to "+32768+" characters.",{exception:t},!0))}return n||t}l(dh,"li");function Kr(e,t){if(t){var n={};tn(t,function(r,i){if(wi(i)&&Ji())try{i=Qn().stringify(i)}catch(a){e.throwInternal(Be.WARNING,Ae.CannotSerializeObjectNonSerializable,"custom property is not valid",{exception:a},!0)}i=Sn(e,i,8192),r=ou(e,r,n),n[r]=i}),t=n}return t}l(Kr,"je");function Zr(e,t){if(t){var n={};tn(t,function(r,i){r=ou(e,r,n),n[r]=i}),t=n}return t}l(Zr,"Be");function hh(e,t){return t&&lu(e,t,128,Ae.IdTooLong).toString()}l(hh,"fi");function lu(e,t,n,r){var i;return t&&(t=fn(t),t.length>n&&(i=t.substring(0,n),e.throwInternal(Be.WARNING,r,"input is too long, it has been truncated to "+n+" characters.",{data:t},!0))),i||t}l(lu,"pi");function ph(e){var t="00"+e;return t.substr(t.length-3)}l(ph,"ka");var gh,Xn=be(()=>{pt(),gh={MAX_NAME_LENGTH:150,MAX_ID_LENGTH:128,MAX_PROPERTY_LENGTH:8192,MAX_STRING_LENGTH:1024,MAX_URL_LENGTH:2048,MAX_MESSAGE_LENGTH:32768,MAX_EXCEPTION_LENGTH:32768,sanitizeKeyAndAddUniqueness:ou,sanitizeKey:fh,sanitizeString:Sn,sanitizeUrl:oo,sanitizeMessage:su,sanitizeException:dh,sanitizeProperties:Kr,sanitizeMeasurements:Zr,sanitizeId:hh,sanitizeInput:lu,padNumber:ph,trim:fn}});function la(e){var t=null;if(yt(Event))t=new Event(e);else{var n=ur();n&&n.createEvent&&(t=n.createEvent("Event"),t.initEvent(e,!0,!0))}return t}l(la,"_t");var mh=be(()=>{pt()});function Dt(e,t){return t===void 0&&(t=!1),e==null?t:e.toString().toLowerCase()==="true"}l(Dt,"ee");function kr(e){(isNaN(e)||e<0)&&(e=0),e=Math.round(e);var t=""+e%1e3,n=""+Math.floor(e/1e3)%60,r=""+Math.floor(e/(1e3*60))%60,i=""+Math.floor(e/(1e3*60*60))%24,a=Math.floor(e/(1e3*60*60*24));return t=t.length===1?"00"+t:t.length===2?"0"+t:t,n=n.length<2?"0"+n:n,r=r.length<2?"0"+r:r,i=i.length<2?"0"+i:i,(a>0?a+".":"")+i+":"+r+":"+n+"."+t}l(kr,"Ke");function cu(){var e=fr();return"sendBeacon"in e&&e.sendBeacon}l(cu,"kr");function vh(e,t){var n=null;return ct(e,function(r){if(r.identifier===t)return n=r,-1}),n}l(vh,"ln");function wh(e,t,n,r,i){return!i&&lt(e)&&(e==="Script error."||e==="Script error")}l(wh,"fn");var Ws=be(()=>{pt()}),Ai,js,ca,Vs,uu,zn,Yn=be(()=>{Ai="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",js="sampleRate",ca="ProcessLegacy",Vs="http.method",uu="https://dc.services.visualstudio.com",zn="not_specified"}),Ii,Jn,yh=be(()=>{(function(e){e[e.LocalStorage=0]="LocalStorage",e[e.SessionStorage=1]="SessionStorage"})(Ii||(Ii={})),function(e){e[e.AI=0]="AI",e[e.AI_AND_W3C=1]="AI_AND_W3C",e[e.W3C=2]="W3C"}(Jn||(Jn={}))});function fu(){return hu()?Gs(Ii.LocalStorage):null}l(fu,"Ua");function Gs(e){try{if($e(Ki()))return null;var t=new Date,n=vn(e===Ii.LocalStorage?"localStorage":"sessionStorage");n.setItem(t.toString(),t.toString());var r=n.getItem(t.toString())!==t.toString();if(n.removeItem(t.toString()),!r)return n}catch(i){}return null}l(Gs,"di");function du(){return ua()?Gs(Ii.SessionStorage):null}l(du,"_a");function _h(){Qr=!1,Xr=!1}l(_h,"mn");function hu(){return Qr===void 0&&(Qr=!!Gs(Ii.LocalStorage)),Qr}l(hu,"Mr");function xh(e,t){var n=fu();if(n!==null)try{return n.getItem(t)}catch(r){Qr=!1,e.throwInternal(Be.WARNING,Ae.BrowserCannotReadLocalStorage,"Browser failed read of local storage. "+Ct(r),{exception:st(r)})}return null}l(xh,"gn");function bh(e,t,n){var r=fu();if(r!==null)try{return r.setItem(t,n),!0}catch(i){Qr=!1,e.throwInternal(Be.WARNING,Ae.BrowserCannotWriteLocalStorage,"Browser failed write to local storage. "+Ct(i),{exception:st(i)})}return!1}l(bh,"vn");function Eh(e,t){var n=fu();if(n!==null)try{return n.removeItem(t),!0}catch(r){Qr=!1,e.throwInternal(Be.WARNING,Ae.BrowserFailedRemovalFromLocalStorage,"Browser failed removal of local storage item. "+Ct(r),{exception:st(r)})}return!1}l(Eh,"hn");function ua(){return Xr===void 0&&(Xr=!!Gs(Ii.SessionStorage)),Xr}l(ua,"Pt");function Km(){var e=[];return ua()&&tn(vn("sessionStorage"),function(t){e.push(t)}),e}l(Km,"Oa");function Ks(e,t){var n=du();if(n!==null)try{return n.getItem(t)}catch(r){Xr=!1,e.throwInternal(Be.WARNING,Ae.BrowserCannotReadSessionStorage,"Browser failed read of session storage. "+Ct(r),{exception:st(r)})}return null}l(Ks,"Yt");function Zs(e,t,n){var r=du();if(r!==null)try{return r.setItem(t,n),!0}catch(i){Xr=!1,e.throwInternal(Be.WARNING,Ae.BrowserCannotWriteSessionStorage,"Browser failed write to session storage. "+Ct(i),{exception:st(i)})}return!1}l(Zs,"er");function Sh(e,t){var n=du();if(n!==null)try{return n.removeItem(t),!0}catch(r){Xr=!1,e.throwInternal(Be.WARNING,Ae.BrowserFailedRemovalFromSessionStorage,"Browser failed removal of session storage item. "+Ct(r),{exception:st(r)})}return!1}l(Sh,"xn");var Qr,Xr,Ch=be(()=>{pt(),yh(),Qr=void 0,Xr=void 0});function so(e){var t=mu,n=Rh,r=n[t];return gu.createElement?n[t]||(r=n[t]=gu.createElement("a")):r={host:Th(e,!0)},r.href=e,t++,t>=n.length&&(t=0),mu=t,r}l(so,"gr");function Ah(e){var t,n=so(e);return n&&(t=n.href),t}l(Ah,"yn");function Zm(e){var t,n=so(e);return n&&(t=n.pathname),t}l(Zm,"Ha");function Ih(e,t){return e?e.toUpperCase()+" "+t:t}l(Ih,"Sn");function Th(e,t){var n=pu(e,t)||"";if(n){var r=n.match(/(www[0-9]?\.)?(.[^/:]+)(\:[\d]+)?/i);if(r!=null&&r.length>3&&lt(r[2])&&r[2].length>0)return r[2]+(r[3]||"")}return n}l(Th,"mi");function pu(e,t){var n=null;if(e){var r=e.match(/(\w*):\/\/(.[^/:]+)(\:[\d]+)?/i);if(r!=null&&r.length>2&&lt(r[2])&&r[2].length>0&&(n=r[2]||"",t&&r.length>2)){var i=(r[1]||"").toLowerCase(),a=r[3]||"";(i==="http"&&a===":80"||i==="https"&&a===":443")&&(a=""),n+=a}}return n}l(pu,"Cn");var gu,mu,Rh,kh=be(()=>{pt(),gu=ur()||{},mu=0,Rh=[null,null,null,null,null]});function Qs(e){return Dh.indexOf(e.toLowerCase())!==-1}l(Qs,"Lr");function Qm(e,t,n,r){var i,a=r,o=r;if(t&&t.length>0){var s=so(t);if(i=s.host,!a)if(s.pathname!=null){var u=s.pathname.length===0?"/":s.pathname;u.charAt(0)!=="/"&&(u="/"+u),o=s.pathname,a=Sn(e,n?n+" "+u:u)}else a=Sn(e,t)}else i=r,a=r;return{target:i,name:a,data:o}}l(Qm,"Ss");function lo(){var e=Ir();if(e&&e.now&&e.timing){var t=e.now()+e.timing.navigationStart;if(t>0)return t}return Un()}l(lo,"vr");function Cn(e,t){var n=null;return e!==0&&t!==0&&!$e(e)&&!$e(t)&&(n=t-e),n}l(Cn,"he");var Dh,vu,Fh,Yr,Nh,Lh=be(()=>{pt(),uh(),Xn(),mh(),Ws(),Yn(),Ch(),kh(),Dh=["https://dc.services.visualstudio.com/v2/track","https://breeze.aimon.applicationinsights.io/v2/track","https://dc-int.services.visualstudio.com/v2/track"],vu={NotSpecified:zn,createDomEvent:la,disableStorage:_h,isInternalApplicationInsightsEndpoint:Qs,canUseLocalStorage:hu,getStorage:xh,setStorage:bh,removeStorage:Eh,canUseSessionStorage:ua,getSessionStorageKeys:Km,getSessionStorage:Ks,setSessionStorage:Zs,removeSessionStorage:Sh,disableCookies:ah,canUseCookies:Om,disallowsSameSiteNone:Qd,setCookie:Hm,stringToBoolOrDefault:Dt,getCookie:Um,deleteCookie:zm,trim:fn,newId:zs,random32:function(){return Si(!0)},generateW3CId:dr,isArray:Ar,isError:Ss,isDate:vc,toISOStringForIE8:Gr,getIEVersion:Ic,msToTimeSpan:kr,isCrossOriginError:wh,dump:st,getExceptionName:Ct,addEventHandler:Za,IsBeaconApiSupported:cu,getExtension:vh},Fh={parseUrl:so,getAbsoluteUrl:Ah,getPathName:Zm,getCompleteUrl:Ih,parseHost:Th,parseFullHost:pu},Yr={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(e,t,n){if(!t||e&&e.disableCorrelationHeaders)return!1;if(e&&e.correlationHeaderExcludePatterns){for(var r=0;r<e.correlationHeaderExcludePatterns.length;r++)if(e.correlationHeaderExcludePatterns[r].test(t))return!1}var i=so(t).host.toLowerCase();if(i&&(i.indexOf(":443")!==-1||i.indexOf(":80")!==-1)&&(i=(pu(t,!0)||"").toLowerCase()),(!e||!e.enableCorsCorrelation)&&i&&i!==n)return!1;var a=e&&e.correlationHeaderDomains;if(a){var o;if(ct(a,function(c){var f=new RegExp(c.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));o=o||f.test(i)}),!o)return!1}var s=e&&e.correlationHeaderExcludedDomains;if(!s||s.length===0)return!0;for(var r=0;r<s.length;r++){var u=new RegExp(s[r].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(u.test(i))return!1}return i&&i.length>0},getCorrelationContext:function(e){if(e){var t=Yr.getCorrelationContextValue(e,Mt.requestContextTargetKey);if(t&&t!==Yr.correlationIdPrefix)return t}},getCorrelationContextValue:function(e,t){if(e)for(var n=e.split(","),r=0;r<n.length;++r){var i=n[r].split("=");if(i.length===2&&i[0]===t)return i[1]}}},Nh={Now:lo,GetDuration:Cn}});function Bh(e){if(!e)return{};var t=e.split($h),n=md(t,function(i,a){var o=a.split(Mh);if(o.length===2){var s=o[0].toLowerCase(),u=o[1];i[s]=u}return i},{});if(yi(n).length>0){if(n.endpointsuffix){var r=n.location?n.location+".":"";n.ingestionendpoint=n.ingestionendpoint||"https://"+r+"dc."+n.endpointsuffix}n.ingestionendpoint=n.ingestionendpoint||uu}return n}l(Bh,"gi");var $h,Mh,Ph,Xm=be(()=>{Yn(),pt(),$h=";",Mh="=",Ph={parse:Bh}}),wu,Oh=be(()=>{wu=function(){function e(){}return l(e,"t"),e}()}),yu,Uh=be(()=>{Lt(),Oh(),yu=function(e){Tt(t,e);function t(){return e.call(this)||this}return l(t,"e"),t}(wu)}),Hh,Ym=be(()=>{Hh=function(){function e(){this.ver=1,this.sampleRate=100,this.tags={}}return l(e,"t"),e}()}),_u,Jm=be(()=>{Lt(),Ym(),Xn(),pt(),Yn(),_u=function(e){Tt(t,e);function t(n,r,i){var a=e.call(this)||this;return a.name=Sn(n,i)||zn,a.data=r,a.time=Gr(new Date),a.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return a.sampleRate===100?4:1},tags:1,data:1},a}return l(t,"e"),t}(Hh)}),xu,zh=be(()=>{xu=function(){function e(){this.ver=2,this.properties={},this.measurements={}}return l(e,"t"),e}()}),er,ev=be(()=>{Lt(),zh(),Xn(),Yn(),er=function(e){Tt(t,e);function t(n,r,i,a){var o=e.call(this)||this;return o.aiDataContract={ver:1,name:1,properties:0,measurements:0},o.name=Sn(n,r)||zn,o.properties=Kr(n,i),o.measurements=Zr(n,a),o}return l(t,"e"),t.envelopeType="Microsoft.ApplicationInsights.{0}.Event",t.dataType="EventData",t}(xu)}),qh,tv=be(()=>{qh=function(){function e(){}return l(e,"t"),e}()}),Wh,nv=be(()=>{Wh=function(){function e(){this.ver=2,this.exceptions=[],this.properties={},this.measurements={}}return l(e,"t"),e}()}),jh,rv=be(()=>{jh=function(){function e(){this.hasFullStack=!0,this.parsedStack=[]}return l(e,"t"),e}()});function bu(e,t){var n=e;return n&&!lt(n)&&(JSON&&JSON.stringify?(n=JSON.stringify(e),t&&(!n||n==="{}")&&(yt(e.toString)?n=e.toString():n=""+e)):n=""+e+" - (Missing JSON.stringify)"),n||""}l(bu,"Za");function Vh(e,t){var n=e;return e&&(n=e[Js]||e[Cu]||"",n&&!lt(n)&&(n=bu(n,!0)),e.filename&&(n=n+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),t&&t!=="String"&&t!=="Object"&&t!=="Error"&&(n||"").indexOf(t)===-1&&(n=t+": "+n),n||""}l(Vh,"Ms");function iv(e){return wi(e)?"hasFullStack"in e&&"typeName"in e:!1}l(iv,"pl");function av(e){return wi(e)?"ver"in e&&"exceptions"in e&&"properties"in e:!1}l(av,"dl");function Gh(e){return e&&e.src&&lt(e.src)&&e.obj&&Ar(e.obj)}l(Gh,"Ls");function fa(e){var t=e||"";lt(t)||(lt(t[Bn])?t=t[Bn]:t=""+t);var n=t.split(`
`);return{src:t,obj:n}}l(fa,"_r");function ov(e){for(var t=[],n=e.split(`
`),r=0;r<n.length;r++){var i=n[r];n[r+1]&&(i+="@"+n[r+1],r++),t.push(i)}return{src:e,obj:t}}l(ov,"ml");function Kh(e){var t=null;if(e)try{if(e[Bn])t=fa(e[Bn]);else if(e[Ti]&&e[Ti][Bn])t=fa(e[Ti][Bn]);else if(e.exception&&e.exception[Bn])t=fa(e.exception[Bn]);else if(Gh(e))t=e;else if(Gh(e[Ys]))t=e[Ys];else if(window.opera&&e[Js])t=ov(e.message);else if(lt(e))t=fa(e);else{var n=e[Js]||e[Cu]||"";lt(e[Su])&&(n&&(n+=`
`),n+=" from "+e[Su]),n&&(t=fa(n))}}catch(r){t=fa(r)}return t||{src:"",obj:null}}l(Kh,"Us");function sv(e){var t="";return e&&(e.obj?ct(e.obj,function(n){t+=n+`
`}):t=e.src||""),t}l(sv,"gl");function lv(e){var t,n=e.obj;if(n&&n.length>0){t=[];var r=0,i=0;ct(n,function(A){var T=A.toString();if(el.regex.test(T)){var C=new el(T,r++);i+=C.sizeInBytes,t.push(C)}});var a=32*1024;if(i>a)for(var o=0,s=t.length-1,u=0,c=o,f=s;o<s;){var v=t[o].sizeInBytes,g=t[s].sizeInBytes;if(u+=v+g,u>a){var w=f-c+1;t.splice(c,w);break}c=o,f=s,o++,s--}}return t}l(lv,"vl");function Xs(e){var t="";if(e&&(t=e.typeName||e.name||"",!t))try{var n=/function (.{1,200})\(/,r=n.exec(e.constructor.toString());t=r&&r.length>1?r[1]:""}catch(i){}return t}l(Xs,"hi");function Eu(e){if(e)try{if(!lt(e)){var t=Xs(e),n=bu(e,!1);return(!n||n==="{}")&&(e[Ti]&&(e=e[Ti],t=Xs(e)),n=bu(e,!0)),n.indexOf(t)!==0&&t!=="String"?t+":"+n:n}}catch(r){}return""+(e||"")}l(Eu,"$a");var Zh,Ti,Bn,Ys,Su,Js,Cu,An,Au,el,cv=be(()=>{Lt(),tv(),nv(),rv(),Xn(),pt(),Yn(),Zh="<no_method>",Ti="error",Bn="stack",Ys="stackDetails",Su="errorSrc",Js="message",Cu="description",An=function(e){Tt(t,e);function t(n,r,i,a,o,s){var u=e.call(this)||this;return u.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0},av(r)?(u.exceptions=r.exceptions,u.properties=r.properties,u.measurements=r.measurements,r.severityLevel&&(u.severityLevel=r.severityLevel),r.id&&(u.id=r.id),r.problemGroup&&(u.problemGroup=r.problemGroup),u.ver=2,$e(r.isManual)||(u.isManual=r.isManual)):(i||(i={}),u.exceptions=[new Au(n,r,i)],u.properties=Kr(n,i),u.measurements=Zr(n,a),o&&(u.severityLevel=o),s&&(u.id=s)),u}return l(t,"e"),t.CreateAutoException=function(n,r,i,a,o,s,u,c){var f=Xs(o||s||n);return{message:Vh(n,f),url:r,lineNumber:i,columnNumber:a,error:Eu(o||s||n),evt:Eu(s||n),typeName:f,stackDetails:Kh(u||o||s),errorSrc:c}},t.CreateFromInterface=function(n,r,i,a){var o=r.exceptions&&Xa(r.exceptions,function(u){return Au.CreateFromInterface(n,u)}),s=new t(n,Zi({},r,{exceptions:o}),i,a);return s},t.prototype.toInterface=function(){var n=this,r=n.exceptions,i=n.properties,a=n.measurements,o=n.severityLevel,s=n.ver,u=n.problemGroup,c=n.id,f=n.isManual,v=r instanceof Array&&Xa(r,function(g){return g.toInterface()})||void 0;return{ver:"4.0",exceptions:v,severityLevel:o,properties:i,measurements:a,problemGroup:u,id:c,isManual:f}},t.CreateSimpleException=function(n,r,i,a,o,s){return{exceptions:[{hasFullStack:!0,message:n,stack:o,typeName:r}]}},t.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",t.dataType="ExceptionData",t.formatError=Eu,t}(Wh),Au=function(e){Tt(t,e);function t(n,r,i){var a=e.call(this)||this;if(a.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2},iv(r))a.typeName=r.typeName,a.message=r.message,a[Bn]=r[Bn],a.parsedStack=r.parsedStack,a.hasFullStack=r.hasFullStack;else{var o=r,s=o&&o.evt;Ss(o)||(o=o[Ti]||s||o),a.typeName=Sn(n,Xs(o))||zn,a.message=su(n,Vh(r||o,a.typeName))||zn;var u=r[Ys]||Kh(r);a.parsedStack=lv(u),a[Bn]=dh(n,sv(u)),a.hasFullStack=Ar(a.parsedStack)&&a.parsedStack.length>0,i&&(i.typeName=i.typeName||a.typeName)}return a}return l(t,"e"),t.prototype.toInterface=function(){var n=this.parsedStack instanceof Array&&Xa(this.parsedStack,function(i){return i.toInterface()}),r={id:this.id,outerId:this.outerId,typeName:this.typeName,message:this.message,hasFullStack:this.hasFullStack,stack:this[Bn],parsedStack:n||void 0};return r},t.CreateFromInterface=function(n,r){var i=r.parsedStack instanceof Array&&Xa(r.parsedStack,function(o){return el.CreateFromInterface(o)})||r.parsedStack,a=new t(n,Zi({},r,{parsedStack:i}));return a},t}(jh),el=function(e){Tt(t,e);function t(n,r){var i=e.call(this)||this;if(i.sizeInBytes=0,i.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0},typeof n=="string"){var a=n;i.level=r,i.method=Zh,i.assembly=fn(a),i.fileName="",i.line=0;var o=a.match(t.regex);o&&o.length>=5&&(i.method=fn(o[2])||i.method,i.fileName=fn(o[4]),i.line=parseInt(o[5])||0)}else i.level=n.level,i.method=n.method,i.assembly=n.assembly,i.fileName=n.fileName,i.line=n.line,i.sizeInBytes=0;return i.sizeInBytes+=i.method.length,i.sizeInBytes+=i.fileName.length,i.sizeInBytes+=i.assembly.length,i.sizeInBytes+=t.baseSize,i.sizeInBytes+=i.level.toString().length,i.sizeInBytes+=i.line.toString().length,i}return l(t,"e"),t.CreateFromInterface=function(n){return new t(n,null)},t.prototype.toInterface=function(){return{level:this.level,method:this.method,assembly:this.assembly,fileName:this.fileName,line:this.line}},t.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,t.baseSize=58,t}(qh)}),Qh,uv=be(()=>{Qh=function(){function e(){this.ver=2,this.metrics=[],this.properties={},this.measurements={}}return l(e,"t"),e}()}),Iu,fv=be(()=>{(function(e){e[e.Measurement=0]="Measurement",e[e.Aggregation=1]="Aggregation"})(Iu||(Iu={}))}),Xh,dv=be(()=>{fv(),Xh=function(){function e(){this.kind=Iu.Measurement}return l(e,"t"),e}()}),Yh,hv=be(()=>{Lt(),dv(),Yh=function(e){Tt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},n}return l(t,"e"),t}(Xh)}),hr,pv=be(()=>{Lt(),uv(),Xn(),hv(),Yn(),hr=function(e){Tt(t,e);function t(n,r,i,a,o,s,u,c){var f=e.call(this)||this;f.aiDataContract={ver:1,metrics:1,properties:0};var v=new Yh;return v.count=a>0?a:void 0,v.max=isNaN(s)||s===null?void 0:s,v.min=isNaN(o)||o===null?void 0:o,v.name=Sn(n,r)||zn,v.value=i,f.metrics=[v],f.properties=Kr(n,u),f.measurements=Zr(n,c),f}return l(t,"e"),t.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",t.dataType="MetricData",t}(Qh)}),tl,Tu=be(()=>{Lt(),zh(),tl=function(e){Tt(t,e);function t(){var n=e.call(this)||this;return n.ver=2,n.properties={},n.measurements={},n}return l(t,"e"),t}(xu)}),tr,gv=be(()=>{Lt(),Tu(),Xn(),Ws(),Yn(),tr=function(e){Tt(t,e);function t(n,r,i,a,o,s,u){var c=e.call(this)||this;return c.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0},c.id=hh(n,u),c.url=oo(n,i),c.name=Sn(n,r)||zn,isNaN(a)||(c.duration=kr(a)),c.properties=Kr(n,o),c.measurements=Zr(n,s),c}return l(t,"e"),t.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",t.dataType="PageviewData",t}(tl)}),Jh,mv=be(()=>{Jh=function(){function e(){this.ver=2,this.success=!0,this.properties={},this.measurements={}}return l(e,"t"),e}()}),pr,vv=be(()=>{Lt(),Xn(),Lh(),mv(),Ws(),pr=function(e){Tt(t,e);function t(n,r,i,a,o,s,u,c,f,v,g,w){f===void 0&&(f="Ajax");var A=e.call(this)||this;A.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0},A.id=r,A.duration=kr(o),A.success=s,A.resultCode=u+"",A.type=Sn(n,f);var T=Qm(n,i,c,a);return A.data=oo(n,a)||T.data,A.target=Sn(n,T.target),v&&(A.target=A.target+" | "+v),A.name=Sn(n,T.name),A.properties=Kr(n,g),A.measurements=Zr(n,w),A}return l(t,"e"),t.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",t.dataType="RemoteDependencyData",t}(Jh)}),ep,wv=be(()=>{ep=function(){function e(){this.ver=2,this.properties={},this.measurements={}}return l(e,"t"),e}()}),Dr,yv=be(()=>{Lt(),wv(),Xn(),Yn(),Dr=function(e){Tt(t,e);function t(n,r,i,a,o){var s=e.call(this)||this;return s.aiDataContract={ver:1,message:1,severityLevel:0,properties:0},r=r||zn,s.message=su(n,r),s.properties=Kr(n,a),s.measurements=Zr(n,o),i&&(s.severityLevel=i),s}return l(t,"e"),t.envelopeType="Microsoft.ApplicationInsights.{0}.Message",t.dataType="MessageData",t}(ep)}),tp,_v=be(()=>{Lt(),Tu(),tp=function(e){Tt(t,e);function t(){var n=e.call(this)||this;return n.ver=2,n.properties={},n.measurements={},n}return l(t,"e"),t}(tl)}),Fr,xv=be(()=>{Lt(),_v(),Xn(),Yn(),Fr=function(e){Tt(t,e);function t(n,r,i,a,o,s,u){var c=e.call(this)||this;return c.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0},c.url=oo(n,i),c.name=Sn(n,r)||zn,c.properties=Kr(n,o),c.measurements=Zr(n,s),u&&(c.domProcessing=u.domProcessing,c.duration=u.duration,c.networkConnect=u.networkConnect,c.perfTotal=u.perfTotal,c.receivedResponse=u.receivedResponse,c.sentRequest=u.sentRequest),c}return l(t,"e"),t.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",t.dataType="PageviewPerformanceData",t}(tp)}),Nr,bv=be(()=>{Lt(),Uh(),Nr=function(e){Tt(t,e);function t(n,r){var i=e.call(this)||this;return i.aiDataContract={baseType:1,baseData:1},i.baseType=n,i.baseData=r,i}return l(t,"e"),t}(yu)}),co,Ev=be(()=>{(function(e){e[e.Verbose=0]="Verbose",e[e.Information=1]="Information",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.Critical=4]="Critical"})(co||(co={}))}),np,Sv=be(()=>{pt(),np=function(){function e(){}return l(e,"t"),e.getConfig=function(t,n,r,i){i===void 0&&(i=!1);var a;return r&&t.extensionConfig&&t.extensionConfig[r]&&!$e(t.extensionConfig[r][n])?a=t.extensionConfig[r][n]:a=t[n],$e(a)?i:a},e}()});function Jr(e){var t="ai."+e+".";return function(n){return t+n}}l(Jr,"tr");var da,Xt,uo,Ri,nl,Lr,ei,ha,rl,rp=be(()=>{Lt(),pt(),da=Jr("application"),Xt=Jr("device"),uo=Jr("location"),Ri=Jr("operation"),nl=Jr("session"),Lr=Jr("user"),ei=Jr("cloud"),ha=Jr("internal"),rl=function(e){Tt(t,e);function t(){return e.call(this)||this}return l(t,"e"),t}(ym({applicationVersion:da("ver"),applicationBuild:da("build"),applicationTypeId:da("typeId"),applicationId:da("applicationId"),applicationLayer:da("layer"),deviceId:Xt("id"),deviceIp:Xt("ip"),deviceLanguage:Xt("language"),deviceLocale:Xt("locale"),deviceModel:Xt("model"),deviceFriendlyName:Xt("friendlyName"),deviceNetwork:Xt("network"),deviceNetworkName:Xt("networkName"),deviceOEMName:Xt("oemName"),deviceOS:Xt("os"),deviceOSVersion:Xt("osVersion"),deviceRoleInstance:Xt("roleInstance"),deviceRoleName:Xt("roleName"),deviceScreenResolution:Xt("screenResolution"),deviceType:Xt("type"),deviceMachineName:Xt("machineName"),deviceVMName:Xt("vmName"),deviceBrowser:Xt("browser"),deviceBrowserVersion:Xt("browserVersion"),locationIp:uo("ip"),locationCountry:uo("country"),locationProvince:uo("province"),locationCity:uo("city"),operationId:Ri("id"),operationName:Ri("name"),operationParentId:Ri("parentId"),operationRootId:Ri("rootId"),operationSyntheticSource:Ri("syntheticSource"),operationCorrelationVector:Ri("correlationVector"),sessionId:nl("id"),sessionIsFirst:nl("isFirst"),sessionIsNew:nl("isNew"),userAccountAcquisitionDate:Lr("accountAcquisitionDate"),userAccountId:Lr("accountId"),userAgent:Lr("userAgent"),userId:Lr("id"),userStoreRegion:Lr("storeRegion"),userAuthUserId:Lr("authUserId"),userAnonymousUserAcquisitionDate:Lr("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Lr("authUserAcquisitionDate"),cloudName:ei("name"),cloudRole:ei("role"),cloudRoleVer:ei("roleVer"),cloudRoleInstance:ei("roleInstance"),cloudEnvironment:ei("environment"),cloudLocation:ei("location"),cloudDeploymentUnit:ei("deploymentUnit"),internalNodeName:ha("nodeName"),internalSdkVersion:ha("sdkVersion"),internalAgentVersion:ha("agentVersion"),internalSnippet:ha("snippet"),internalSdkSrc:ha("sdkSrc")}))}),gr,Cv=be(()=>{Xn(),pt(),Yn(),gr=function(){function e(){}return l(e,"t"),e.create=function(t,n,r,i,a,o){if(r=Sn(i,r)||zn,$e(t)||$e(n)||$e(r))throw Error("Input doesn't contain all required fields");var s={name:r,time:Gr(new Date),iKey:"",ext:o||{},tags:[],data:{},baseType:n,baseData:t};return $e(a)||tn(a,function(u,c){s.data[u]=c}),s},e}()}),In,Bt,Av=be(()=>{rp(),In={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},Bt=new rl}),pa,il,Ru,nn=be(()=>{Lh(),Xm(),uh(),Yn(),Uh(),Oh(),Jm(),ev(),cv(),pv(),gv(),Tu(),vv(),yv(),xv(),bv(),Ev(),Sv(),rp(),Xn(),Cv(),Av(),yh(),Ws(),mh(),Ch(),kh(),pa="AppInsightsPropertiesPlugin",il="AppInsightsChannelPlugin",Ru="ApplicationInsightsAnalytics"}),ip,Iv=be(()=>{nn(),pt(),sn(),ip=function(){function e(t,n,r,i){Qt(e,this,function(a){var o=null,s=[],u=!1,c;r&&(c=r.logger);function f(){r&&ct(r.getTransmissionControls(),function(g){ct(g,function(w){return w.flush(!0)})})}l(f,"l");function v(g){s.push(g),o||(o=setInterval(function(){var w=s.slice(0),A=!1;s=[],ct(w,function(T){T()?A=!0:s.push(T)}),s.length===0&&(clearInterval(o),o=null),A&&f()},100))}l(v,"f"),a.trackPageView=function(g,w){var A=g.name;if($e(A)||typeof A!="string"){var T=ur();A=g.name=T&&T.title||""}var C=g.uri;if($e(C)||typeof C!="string"){var D=_i();C=g.uri=D&&D.href||""}if(!i.isPerformanceTimingSupported()){t.sendPageViewInternal(g,w),f(),c.throwInternal(Be.WARNING,Ae.NavigationTimingNotSupported,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");return}var $=!1,V,q=i.getPerformanceTiming().navigationStart;q>0&&(V=Cn(q,+new Date),i.shouldCollectDuration(V)||(V=void 0));var ee;!$e(w)&&!$e(w.duration)&&(ee=w.duration),(n||!isNaN(ee))&&(isNaN(ee)&&(w||(w={}),w.duration=V),t.sendPageViewInternal(g,w),f(),$=!0);var _e=6e4;w||(w={}),v(function(){var ge=!1;try{if(i.isPerformanceTimingDataReady()){ge=!0;var de={name:A,uri:C};i.populatePageViewPerformanceEvent(de),!de.isValid&&!$?(w.duration=V,t.sendPageViewInternal(g,w)):($||(w.duration=de.durationMs,t.sendPageViewInternal(g,w)),u||(t.sendPageViewPerformanceInternal(de,w),u=!0))}else q>0&&Cn(q,+new Date)>_e&&(ge=!0,$||(w.duration=_e,t.sendPageViewInternal(g,w)))}catch(Ie){c.throwInternal(Be.CRITICAL,Ae.TrackPVFailedCalc,"trackPageView failed on page load calculation: "+Ct(Ie),{exception:st(Ie)})}return ge})}})}return l(e,"t"),e}()}),ap,op,Tv=be(()=>{nn(),pt(),ap=function(){function e(t,n){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=n,this._logger=t}return l(e,"t"),e.prototype.trackPreviousPageVisit=function(t,n){try{var r=this.restartPageVisitTimer(t,n);r&&this.pageVisitTimeTrackingHandler(r.pageName,r.pageUrl,r.pageVisitTime)}catch(i){this._logger.warnToConsole("Auto track page visit time failed, metric will not be collected: "+st(i))}},e.prototype.restartPageVisitTimer=function(t,n){try{var r=this.stopPageVisitTimer();return this.startPageVisitTimer(t,n),r}catch(i){return this._logger.warnToConsole("Call to restart failed: "+st(i)),null}},e.prototype.startPageVisitTimer=function(t,n){try{if(ua()){Ks(this._logger,this.prevPageVisitDataKeyName)!=null&&cr("Cannot call startPageVisit consecutively without first calling stopPageVisit");var r=new op(t,n),i=Qn().stringify(r);Zs(this._logger,this.prevPageVisitDataKeyName,i)}}catch(a){this._logger.warnToConsole("Call to start failed: "+st(a))}},e.prototype.stopPageVisitTimer=function(){try{if(ua()){var t=Un(),n=Ks(this._logger,this.prevPageVisitDataKeyName);if(n&&Ji()){var r=Qn().parse(n);return r.pageVisitTime=t-r.pageVisitStartTime,Sh(this._logger,this.prevPageVisitDataKeyName),r}else return null}return null}catch(i){return this._logger.warnToConsole("Stop page visit timer failed: "+st(i)),null}},e}(),op=function(){function e(t,n){this.pageVisitStartTime=Un(),this.pageName=t,this.pageUrl=n}return l(e,"t"),e}()}),sp,Rv=be(()=>{nn(),pt(),sp=function(){function e(t){this.MAX_DURATION_ALLOWED=36e5,t&&(this._logger=t.logger)}return l(e,"t"),e.prototype.populatePageViewPerformanceEvent=function(t){t.isValid=!1;var n=this.getPerformanceNavigationTiming(),r=this.getPerformanceTiming(),i=0,a=0,o=0,s=0,u=0;(n||r)&&(n?(i=n.duration,a=n.startTime===0?n.connectEnd:Cn(n.startTime,n.connectEnd),o=Cn(n.requestStart,n.responseStart),s=Cn(n.responseStart,n.responseEnd),u=Cn(n.responseEnd,n.loadEventEnd)):(i=Cn(r.navigationStart,r.loadEventEnd),a=Cn(r.navigationStart,r.connectEnd),o=Cn(r.requestStart,r.responseStart),s=Cn(r.responseStart,r.responseEnd),u=Cn(r.responseEnd,r.loadEventEnd)),i===0?this._logger.throwInternal(Be.WARNING,Ae.ErrorPVCalc,"error calculating page view performance.",{total:i,network:a,request:o,response:s,dom:u}):this.shouldCollectDuration(i,a,o,s,u)?i<Math.floor(a)+Math.floor(o)+Math.floor(s)+Math.floor(u)?this._logger.throwInternal(Be.WARNING,Ae.ClientPerformanceMathError,"client performance math error.",{total:i,network:a,request:o,response:s,dom:u}):(t.durationMs=i,t.perfTotal=t.duration=kr(i),t.networkConnect=kr(a),t.sentRequest=kr(o),t.receivedResponse=kr(s),t.domProcessing=kr(u),t.isValid=!0):this._logger.throwInternal(Be.WARNING,Ae.InvalidDurationValue,"Invalid page load duration value. Browser perf data won't be sent.",{total:i,network:a,request:o,response:s,dom:u}))},e.prototype.getPerformanceTiming=function(){return this.isPerformanceTimingSupported()?Ir().timing:null},e.prototype.getPerformanceNavigationTiming=function(){return this.isPerformanceNavigationTimingSupported()?Ir().getEntriesByType("navigation")[0]:null},e.prototype.isPerformanceNavigationTimingSupported=function(){var t=Ir();return t&&t.getEntriesByType&&t.getEntriesByType("navigation").length>0},e.prototype.isPerformanceTimingSupported=function(){var t=Ir();return t&&t.timing},e.prototype.isPerformanceTimingDataReady=function(){var t=Ir(),n=t?t.timing:0;return n&&n.domainLookupStart>0&&n.navigationStart>0&&n.responseStart>0&&n.requestStart>0&&n.loadEventEnd>0&&n.responseEnd>0&&n.connectEnd>0&&n.domLoading>0},e.prototype.shouldCollectDuration=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=fr()||{},i=["googlebot","adsbot-google","apis-google","mediapartners-google"],a=r.userAgent,o=!1;if(a)for(var s=0;s<i.length;s++)o=o||a.toLowerCase().indexOf(i[s])!==-1;if(o)return!1;for(var s=0;s<t.length;s++)if(t[s]<0||t[s]>=this.MAX_DURATION_ALLOWED)return!1;return!0},e}()});function fo(e,t){e&&e.dispatchEvent&&t&&e.dispatchEvent(t)}l(fo,"Dn");var ku,al,Du,Fu,kv=be(()=>{Lt(),nn(),pt(),Iv(),Tv(),Rv(),sn(),ku="duration",al="event",Du=function(e){Tt(t,e);function t(){var n=e.call(this)||this;n.identifier=Ru,n.priority=180,n.autoRoutePVDelay=500;var r,i,a,o=0,s,u;return Qt(t,n,function(c,f){var v=_i(!0);s=v&&v.href||"",c.getCookieMgr=function(){return Uc(c.core)},c.processTelemetry=function(C,D){ta(c.core,function(){return c.identifier+":processTelemetry"},function(){var $=!1,V=c._telemetryInitializers.length;D=c._getTelCtx(D);for(var q=0;q<V;++q){var ee=c._telemetryInitializers[q];if(ee)try{if(ee.apply(null,[C])===!1){$=!0;break}}catch(_e){D.diagLog().throwInternal(Be.CRITICAL,Ae.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+Ct(_e),{exception:st(_e)},!0)}}$||c.processNext(C,D)},function(){return{item:C}},!C.sync)},c.trackEvent=function(C,D){try{var $=gr.create(C,er.dataType,er.envelopeType,c.diagLog(),D);c.core.track($)}catch(V){c.diagLog().throwInternal(Be.WARNING,Ae.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+Ct(V),{exception:st(V)})}},c.startTrackEvent=function(C){try{r.start(C)}catch(D){c.diagLog().throwInternal(Be.CRITICAL,Ae.StartTrackEventFailed,"startTrackEvent failed, event will not be collected: "+Ct(D),{exception:st(D)})}},c.stopTrackEvent=function(C,D,$){try{r.stop(C,void 0,D)}catch(V){c.diagLog().throwInternal(Be.CRITICAL,Ae.StopTrackEventFailed,"stopTrackEvent failed, event will not be collected: "+Ct(V),{exception:st(V)})}},c.trackTrace=function(C,D){try{var $=gr.create(C,Dr.dataType,Dr.envelopeType,c.diagLog(),D);c.core.track($)}catch(V){c.diagLog().throwInternal(Be.WARNING,Ae.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+Ct(V),{exception:st(V)})}},c.trackMetric=function(C,D){try{var $=gr.create(C,hr.dataType,hr.envelopeType,c.diagLog(),D);c.core.track($)}catch(V){c.diagLog().throwInternal(Be.CRITICAL,Ae.TrackMetricFailed,"trackMetric failed, metric will not be collected: "+Ct(V),{exception:st(V)})}},c.trackPageView=function(C,D){try{var $=C||{};c._pageViewManager.trackPageView($,Zi({},$.properties,$.measurements,D)),c.config.autoTrackPageVisitTime&&c._pageVisitTimeManager.trackPreviousPageVisit($.name,$.uri)}catch(V){c.diagLog().throwInternal(Be.CRITICAL,Ae.TrackPVFailed,"trackPageView failed, page view will not be collected: "+Ct(V),{exception:st(V)})}},c.sendPageViewInternal=function(C,D,$){var V=ur();V&&(C.refUri=C.refUri===void 0?V.referrer:C.refUri);var q=gr.create(C,tr.dataType,tr.envelopeType,c.diagLog(),D,$);c.core.track(q),o=0},c.sendPageViewPerformanceInternal=function(C,D,$){var V=gr.create(C,Fr.dataType,Fr.envelopeType,c.diagLog(),D,$);c.core.track(V)},c.trackPageViewPerformance=function(C,D){try{c._pageViewPerformanceManager.populatePageViewPerformanceEvent(C),c.sendPageViewPerformanceInternal(C,D)}catch($){c.diagLog().throwInternal(Be.CRITICAL,Ae.TrackPVFailed,"trackPageViewPerformance failed, page view will not be collected: "+Ct($),{exception:st($)})}},c.startTrackPage=function(C){try{if(typeof C!="string"){var D=ur();C=D&&D.title||""}i.start(C)}catch($){c.diagLog().throwInternal(Be.CRITICAL,Ae.StartTrackFailed,"startTrackPage failed, page view may not be collected: "+Ct($),{exception:st($)})}},c.stopTrackPage=function(C,D,$,V){try{if(typeof C!="string"){var q=ur();C=q&&q.title||""}if(typeof D!="string"){var ee=_i();D=ee&&ee.href||""}i.stop(C,D,$,V),c.config.autoTrackPageVisitTime&&c._pageVisitTimeManager.trackPreviousPageVisit(C,D)}catch(_e){c.diagLog().throwInternal(Be.CRITICAL,Ae.StopTrackFailed,"stopTrackPage failed, page view will not be collected: "+Ct(_e),{exception:st(_e)})}},c.sendExceptionInternal=function(C,D,$){var V=C.exception||C.error||new Error(zn),q=new An(c.diagLog(),V,C.properties||D,C.measurements,C.severityLevel,C.id).toInterface(),ee=gr.create(q,An.dataType,An.envelopeType,c.diagLog(),D,$);c.core.track(ee)},c.trackException=function(C,D){try{c.sendExceptionInternal(C,D)}catch($){c.diagLog().throwInternal(Be.CRITICAL,Ae.TrackExceptionFailed,"trackException failed, exception will not be collected: "+Ct($),{exception:st($)})}},c._onerror=function(C){var D=C&&C.error,$=C&&C.evt;try{if(!$){var V=Ya();V&&($=V[al])}var q=C&&C.url||(ur()||{}).URL,ee=C.errorSrc||"window.onerror@"+q+":"+(C.lineNumber||0)+":"+(C.columnNumber||0),_e={errorSrc:ee,url:q,lineNumber:C.lineNumber||0,columnNumber:C.columnNumber||0,message:C.message};wh(C.message,C.url,C.lineNumber,C.columnNumber,C.error)?T(An.CreateAutoException("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",q,C.lineNumber||0,C.columnNumber||0,D,$,null,ee),_e):(C.errorSrc||(C.errorSrc=ee),c.trackException({exception:C,severityLevel:co.Error},_e))}catch(de){var ge=D?D.name+", "+D.message:"null";c.diagLog().throwInternal(Be.CRITICAL,Ae.ExceptionWhileLoggingError,"_onError threw exception while logging error, error will not be collected: "+Ct(de),{exception:st(de),errorString:ge})}},c.addTelemetryInitializer=function(C){c._telemetryInitializers.push(C)},c.initialize=function(C,D,$,V){if(!c.isInitialized()){if($e(D))throw Error("Error initializing");f.initialize(C,D,$,V),c.setInitialized(!1);var q=c._getTelCtx(),ee=c.identifier;c.config=q.getExtCfg(ee);var _e=t.getDefaultConfig(C);_e!==void 0&&tn(_e,function(Te,Ge){c.config[Te]=q.getConfig(ee,Te,Ge),c.config[Te]===void 0&&(c.config[Te]=Ge)}),c.config.isStorageUseDisabled&&_h();var ge={instrumentationKey:function(){return C.instrumentationKey},accountId:function(){return c.config.accountId||C.accountId},sessionRenewalMs:function(){return c.config.sessionRenewalMs||C.sessionRenewalMs},sessionExpirationMs:function(){return c.config.sessionExpirationMs||C.sessionExpirationMs},sampleRate:function(){return c.config.samplingPercentage||C.samplingPercentage},sdkExtension:function(){return c.config.sdkExtension||C.sdkExtension},isBrowserLinkTrackingEnabled:function(){return c.config.isBrowserLinkTrackingEnabled||C.isBrowserLinkTrackingEnabled},appId:function(){return c.config.appId||C.appId}};c._pageViewPerformanceManager=new sp(c.core),c._pageViewManager=new ip(n,c.config.overridePageViewDuration,c.core,c._pageViewPerformanceManager),c._pageVisitTimeManager=new ap(c.diagLog(),function(Te,Ge,Ye){return g(Te,Ge,Ye)}),c._telemetryInitializers=c._telemetryInitializers||[],w(ge),r=new Fu(c.diagLog(),"trackEvent"),r.action=function(Te,Ge,Ye,ot){ot||(ot={}),ot[ku]=Ye.toString(),c.trackEvent({name:Te,properties:ot})},i=new Fu(c.diagLog(),"trackPageView"),i.action=function(Te,Ge,Ye,ot,bt){$e(ot)&&(ot={}),ot[ku]=Ye.toString();var Pt={name:Te,uri:Ge,properties:ot,measurements:bt};c.sendPageViewInternal(Pt,ot)};var de=Ya(),Ie=Sm(),fe=_i(!0),De=n;if(c.config.disableExceptionTracking===!1&&!c.config.autoExceptionInstrumented&&de){var Ze="onerror",vt=de[Ze];de.onerror=function(Te,Ge,Ye,ot,bt){var Pt=de[al],fi=vt&&vt(Te,Ge,Ye,ot,bt);return fi!==!0&&De._onerror(An.CreateAutoException(Te,Ge,Ye,ot,bt,Pt)),fi},c.config.autoExceptionInstrumented=!0}if(c.config.disableExceptionTracking===!1&&c.config.enableUnhandledPromiseRejectionTracking===!0&&!c.config.autoUnhandledPromiseInstrumented&&de){var ie="onunhandledrejection",xe=de[ie];de[ie]=function(Te){var Ge=de[al],Ye=xe&&xe.call(de,Te);return Ye!==!0&&De._onerror(An.CreateAutoException(Te.reason.toString(),fe?fe.href:"",0,0,Te,Ge)),Ye},c.config.autoUnhandledPromiseInstrumented=!0}if(c.config.enableAutoRouteTracking===!0&&Ie&&yt(Ie.pushState)&&yt(Ie.replaceState)&&de&&typeof Event!="undefined"){var Re=n;ct($,function(Te){Te.identifier===pa&&(a=Te)}),Ie.pushState=function(Te){return function(){var Ge=Te.apply(this,arguments);return fo(de,la(Re.config.namePrefix+"pushState")),fo(de,la(Re.config.namePrefix+"locationchange")),Ge}}(Ie.pushState),Ie.replaceState=function(Te){return function(){var Ge=Te.apply(this,arguments);return fo(de,la(Re.config.namePrefix+"replaceState")),fo(de,la(Re.config.namePrefix+"locationchange")),Ge}}(Ie.replaceState),de.addEventListener&&(de.addEventListener(Re.config.namePrefix+"popstate",function(){fo(de,la(Re.config.namePrefix+"locationchange"))}),de.addEventListener(Re.config.namePrefix+"locationchange",function(){if(a&&a.context&&a.context.telemetryTrace){a.context.telemetryTrace.traceID=dr();var Te="_unknown_";fe&&fe.pathname&&(Te=fe.pathname+(fe.hash||"")),a.context.telemetryTrace.name=Te}u&&(s=u),u=fe&&fe.href||"",setTimeout(function(Ge){Re.trackPageView({refUri:Ge,properties:{duration:0}})}.bind(n,s),Re.autoRoutePVDelay)}))}c.setInitialized(!0)}};function g(C,D,$){var V={PageName:C,PageUrl:D};c.trackMetric({name:"PageVisitTime",average:$,max:$,min:$,sampleCount:1},V)}l(g,"m");function w(C){if(!C.isBrowserLinkTrackingEnabled()){var D=["/browserLinkSignalR/","/__browserLink/"],$=l(function(V){if(V.baseType===pr.dataType){var q=V.baseData;if(q){for(var ee=0;ee<D.length;ee++)if(q.target&&q.target.indexOf(D[ee])>=0)return!1}}return!0},"y");A($)}}l(w,"I");function A(C){c._telemetryInitializers.push(C)}l(A,"E");function T(C,D){var $=gr.create(C,An.dataType,An.envelopeType,c.diagLog(),D);c.core.track($)}l(T,"b")}),n}return l(t,"e"),t.getDefaultConfig=function(n){return n||(n={}),n.sessionRenewalMs=30*60*1e3,n.sessionExpirationMs=24*60*60*1e3,n.disableExceptionTracking=Dt(n.disableExceptionTracking),n.autoTrackPageVisitTime=Dt(n.autoTrackPageVisitTime),n.overridePageViewDuration=Dt(n.overridePageViewDuration),n.enableUnhandledPromiseRejectionTracking=Dt(n.enableUnhandledPromiseRejectionTracking),(isNaN(n.samplingPercentage)||n.samplingPercentage<=0||n.samplingPercentage>=100)&&(n.samplingPercentage=100),n.isStorageUseDisabled=Dt(n.isStorageUseDisabled),n.isBrowserLinkTrackingEnabled=Dt(n.isBrowserLinkTrackingEnabled),n.enableAutoRouteTracking=Dt(n.enableAutoRouteTracking),n.namePrefix=n.namePrefix||"",n.enableDebug=Dt(n.enableDebug),n.disableFlushOnBeforeUnload=Dt(n.disableFlushOnBeforeUnload),n.disableFlushOnUnload=Dt(n.disableFlushOnUnload,n.disableFlushOnBeforeUnload),n},t.Version="2.6.4",t}(Ei),Fu=function(){function e(t,n){var r=this,i={};r.start=function(a){typeof i[a]!="undefined"&&t.throwInternal(Be.WARNING,Ae.StartCalledMoreThanOnce,"start was called more than once for this event without calling stop.",{name:a,key:a},!0),i[a]=+new Date},r.stop=function(a,o,s,u){var c=i[a];if(isNaN(c))t.throwInternal(Be.WARNING,Ae.StopCalledWithoutStart,"stop was called without a corresponding start.",{name:a,key:a},!0);else{var f=+new Date,v=Cn(c,f);r.action(a,o,v,s,u)}delete i[a],i[a]=void 0}}return l(e,"t"),e}()}),lp=be(()=>{kv()}),cp,up,Dv=be(()=>{nn(),pt(),sn(),cp=function(){function e(t){var n=[];Qt(e,this,function(r){r.enqueue=function(i){n.push(i)},r.count=function(){return n.length},r.clear=function(){n.length=0},r.getItems=function(){return n.slice(0)},r.batchPayloads=function(i){if(i&&i.length>0){var a=t.emitLineDelimitedJson()?i.join(`
`):"["+i.join(",")+"]";return a}return null},r.markAsSent=function(i){r.clear()},r.clearSent=function(i){}})}return l(e,"t"),e}(),up=function(){function e(t,n){var r=!1,i;Qt(e,this,function(a){var o=c(e.BUFFER_KEY),s=c(e.SENT_BUFFER_KEY);i=o.concat(s),i.length>e.MAX_BUFFER_SIZE&&(i.length=e.MAX_BUFFER_SIZE),f(e.SENT_BUFFER_KEY,[]),f(e.BUFFER_KEY,i),a.enqueue=function(v){if(i.length>=e.MAX_BUFFER_SIZE){r||(t.throwInternal(Be.WARNING,Ae.SessionStorageBufferFull,"Maximum buffer size reached: "+i.length,!0),r=!0);return}i.push(v),f(e.BUFFER_KEY,i)},a.count=function(){return i.length},a.clear=function(){i=[],f(e.BUFFER_KEY,[]),f(e.SENT_BUFFER_KEY,[]),r=!1},a.getItems=function(){return i.slice(0)},a.batchPayloads=function(v){if(v&&v.length>0){var g=n.emitLineDelimitedJson()?v.join(`
`):"["+v.join(",")+"]";return g}return null},a.markAsSent=function(v){i=u(v,i),f(e.BUFFER_KEY,i);var g=c(e.SENT_BUFFER_KEY);g instanceof Array&&v instanceof Array&&(g=g.concat(v),g.length>e.MAX_BUFFER_SIZE&&(t.throwInternal(Be.CRITICAL,Ae.SessionStorageBufferFull,"Sent buffer reached its maximum size: "+g.length,!0),g.length=e.MAX_BUFFER_SIZE),f(e.SENT_BUFFER_KEY,g))},a.clearSent=function(v){var g=c(e.SENT_BUFFER_KEY);g=u(v,g),f(e.SENT_BUFFER_KEY,g)};function u(v,g){var w=[];return ct(g,function(A){!yt(A)&&Qa(v,A)===-1&&w.push(A)}),w}l(u,"s");function c(v){var g=v;try{g=n.namePrefix&&n.namePrefix()?n.namePrefix()+"_"+g:g;var w=Ks(t,g);if(w){var A=Qn().parse(w);if(lt(A)&&(A=Qn().parse(A)),A&&Ar(A))return A}}catch(T){t.throwInternal(Be.CRITICAL,Ae.FailedToRestoreStorageBuffer," storage key: "+g+", "+Ct(T),{exception:st(T)})}return[]}l(c,"u");function f(v,g){var w=v;try{w=n.namePrefix&&n.namePrefix()?n.namePrefix()+"_"+w:w;var A=JSON.stringify(g);Zs(t,w,A)}catch(T){Zs(t,w,JSON.stringify([])),t.throwInternal(Be.WARNING,Ae.FailedToSetStorageBuffer," storage key: "+w+", "+Ct(T)+". Buffer cleared",{exception:st(T)})}}l(f,"l")})}return l(e,"t"),e.BUFFER_KEY="AI_buffer",e.SENT_BUFFER_KEY="AI_sentBuffer",e.MAX_BUFFER_SIZE=2e3,e}()});function Yt(e,t,n){return _t(e,t,n,_c)}l(Yt,"Se");var ol,Ht,rn,Nu,qt,fp,Lu,dp,hp,pp,gp,mp,Fv=be(()=>{Lt(),nn(),pt(),ol="baseType",Ht="baseData",rn="properties",Nu="true",qt=function(){function e(){}return l(e,"t"),e.extractPropsAndMeasurements=function(t,n,r){$e(t)||tn(t,function(i,a){wc(a)?r[i]=a:lt(a)?n[i]=a:Ji()&&(n[i]=Qn().stringify(a))})},e.createEnvelope=function(t,n,r,i){var a=new _u(t,i,n);Yt(a,"sampleRate",r[js]),(r[Ht]||{}).startTime&&(a.time=Gr(r[Ht].startTime)),a.iKey=r.iKey;var o=r.iKey.replace(/-/g,"");return a.name=a.name.replace("{0}",o),e.extractPartAExtensions(r,a),r.tags=r.tags||[],yd(a)},e.extractPartAExtensions=function(t,n){var r=n.tags=n.tags||{},i=t.ext=t.ext||{},a=t.tags=t.tags||[],o=i.user;o&&(Yt(r,Bt.userAuthUserId,o.authId),Yt(r,Bt.userId,o.id||o.localId));var s=i.app;s&&Yt(r,Bt.sessionId,s.sesId);var u=i.device;u&&(Yt(r,Bt.deviceId,u.id||u.localId),Yt(r,Bt.deviceType,u.deviceClass),Yt(r,Bt.deviceIp,u.ip),Yt(r,Bt.deviceModel,u.model),Yt(r,Bt.deviceType,u.deviceType));var c=t.ext.web;if(c){Yt(r,Bt.deviceLanguage,c.browserLang),Yt(r,Bt.deviceBrowserVersion,c.browserVer),Yt(r,Bt.deviceBrowser,c.browser);var f=n.data=n.data||{},v=f[Ht]=f[Ht]||{},g=v[rn]=v[rn]||{};Yt(g,"domain",c.domain),Yt(g,"isManual",c.isManual?Nu:null),Yt(g,"screenRes",c.screenRes),Yt(g,"userConsent",c.userConsent?Nu:null)}var w=i.os;w&&Yt(r,Bt.deviceOS,w.name);var A=i.trace;A&&(Yt(r,Bt.operationParentId,A.parentID),Yt(r,Bt.operationName,A.name),Yt(r,Bt.operationId,A.traceID));for(var T={},C=a.length-1;C>=0;C--){var D=a[C];tn(D,function(V,q){T[V]=q}),a.splice(C,1)}tn(a,function(V,q){T[V]=q});var $=Zi({},r,T);$[Bt.internalSdkVersion]||($[Bt.internalSdkVersion]="javascript:"+e.Version),n.tags=yd($)},e.prototype.Init=function(t,n){this._logger=t,$e(n[Ht])&&this._logger.throwInternal(Be.CRITICAL,Ae.TelemetryEnvelopeInvalid,"telemetryItem.baseData cannot be null.")},e.Version="2.6.4",e}(),fp=function(e){Tt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return l(t,"e"),t.prototype.Create=function(n,r){e.prototype.Init.call(this,n,r);var i=r[Ht].measurements||{},a=r[Ht][rn]||{};qt.extractPropsAndMeasurements(r.data,a,i);var o=r[Ht];if($e(o))return n.warnToConsole("Invalid input for dependency data"),null;var s=o[rn]&&o[rn][Vs]?o[rn][Vs]:"GET",u=new pr(n,o.id,o.target,o.name,o.duration,o.success,o.responseCode,s,o.type,o.correlationContext,a,i),c=new Nr(pr.dataType,u);return qt.createEnvelope(n,pr.envelopeType,r,c)},t.DependencyEnvelopeCreator=new t,t}(qt),Lu=function(e){Tt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return l(t,"e"),t.prototype.Create=function(n,r){e.prototype.Init.call(this,n,r);var i={},a={};r[ol]!==er.dataType&&(i.baseTypeSource=r[ol]),r[ol]===er.dataType?(i=r[Ht][rn]||{},a=r[Ht].measurements||{}):r[Ht]&&qt.extractPropsAndMeasurements(r[Ht],i,a),qt.extractPropsAndMeasurements(r.data,i,a);var o=r[Ht].name,s=new er(n,o,i,a),u=new Nr(er.dataType,s);return qt.createEnvelope(n,er.envelopeType,r,u)},t.EventEnvelopeCreator=new t,t}(qt),dp=function(e){Tt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return l(t,"e"),t.prototype.Create=function(n,r){e.prototype.Init.call(this,n,r);var i=r[Ht].measurements||{},a=r[Ht][rn]||{};qt.extractPropsAndMeasurements(r.data,a,i);var o=r[Ht],s=An.CreateFromInterface(n,o,a,i),u=new Nr(An.dataType,s);return qt.createEnvelope(n,An.envelopeType,r,u)},t.ExceptionEnvelopeCreator=new t,t}(qt),hp=function(e){Tt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return l(t,"e"),t.prototype.Create=function(n,r){e.prototype.Init.call(this,n,r);var i=r[Ht],a=i[rn]||{},o=i.measurements||{};qt.extractPropsAndMeasurements(r.data,a,o);var s=new hr(n,i.name,i.average,i.sampleCount,i.min,i.max,a,o),u=new Nr(hr.dataType,s);return qt.createEnvelope(n,hr.envelopeType,r,u)},t.MetricEnvelopeCreator=new t,t}(qt),pp=function(e){Tt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return l(t,"e"),t.prototype.Create=function(n,r){e.prototype.Init.call(this,n,r);var i="duration",a,o=r[Ht];!$e(o)&&!$e(o[rn])&&!$e(o[rn][i])?(a=o[rn][i],delete o[rn][i]):!$e(r.data)&&!$e(r.data[i])&&(a=r.data[i],delete r.data[i]);var s=r[Ht],u;((r.ext||{}).trace||{}).traceID&&(u=r.ext.trace.traceID);var c=s.id||u,f=s.name,v=s.uri,g=s[rn]||{},w=s.measurements||{};if($e(s.refUri)||(g.refUri=s.refUri),$e(s.pageType)||(g.pageType=s.pageType),$e(s.isLoggedIn)||(g.isLoggedIn=s.isLoggedIn.toString()),!$e(s[rn])){var A=s[rn];tn(A,function(D,$){g[D]=$})}qt.extractPropsAndMeasurements(r.data,g,w);var T=new tr(n,f,v,a,g,w,c),C=new Nr(tr.dataType,T);return qt.createEnvelope(n,tr.envelopeType,r,C)},t.PageViewEnvelopeCreator=new t,t}(qt),gp=function(e){Tt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return l(t,"e"),t.prototype.Create=function(n,r){e.prototype.Init.call(this,n,r);var i=r[Ht],a=i.name,o=i.uri||i.url,s=i[rn]||{},u=i.measurements||{};qt.extractPropsAndMeasurements(r.data,s,u);var c=new Fr(n,a,o,void 0,s,u,i),f=new Nr(Fr.dataType,c);return qt.createEnvelope(n,Fr.envelopeType,r,f)},t.PageViewPerformanceEnvelopeCreator=new t,t}(qt),mp=function(e){Tt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return l(t,"e"),t.prototype.Create=function(n,r){e.prototype.Init.call(this,n,r);var i=r[Ht].message,a=r[Ht].severityLevel,o=r[Ht][rn]||{},s=r[Ht].measurements||{};qt.extractPropsAndMeasurements(r.data,o,s);var u=new Dr(n,i,a,o,s),c=new Nr(Dr.dataType,u);return qt.createEnvelope(n,Dr.envelopeType,r,c)},t.TraceEnvelopeCreator=new t,t}(qt)}),vp,Nv=be(()=>{pt(),sn(),vp=function(){function e(t){Qt(e,this,function(n){n.serialize=function(o){var s=r(o,"root");try{return Qn().stringify(s)}catch(u){t.throwInternal(Be.CRITICAL,Ae.CannotSerializeObject,u&&yt(u.toString)?u.toString():"Error serializing object",null,!0)}};function r(o,s){var u="__aiCircularRefCheck",c={};if(!o)return t.throwInternal(Be.CRITICAL,Ae.CannotSerializeObject,"cannot serialize object because it is null or undefined",{name:s},!0),c;if(o[u])return t.throwInternal(Be.WARNING,Ae.CircularReferenceDetected,"Circular reference detected while serializing object",{name:s},!0),c;if(!o.aiDataContract){if(s==="measurements")c=a(o,"number",s);else if(s==="properties")c=a(o,"string",s);else if(s==="tags")c=a(o,"string",s);else if(Ar(o))c=i(o,s);else{t.throwInternal(Be.WARNING,Ae.CannotSerializeObjectNonSerializable,"Attempting to serialize an object which does not implement ISerializable",{name:s},!0);try{Qn().stringify(o),c=o}catch(f){t.throwInternal(Be.CRITICAL,Ae.CannotSerializeObject,f&&yt(f.toString)?f.toString():"Error serializing object",null,!0)}}return c}return o[u]=!0,tn(o.aiDataContract,function(f,v){var g=yt(v)?v()&1:v&1,w=yt(v)?v()&4:v&4,A=v&2,T=o[f]!==void 0,C=wi(o[f])&&o[f]!==null;if(g&&!T&&!A)t.throwInternal(Be.CRITICAL,Ae.MissingRequiredFieldSpecification,"Missing required field specification. The field is required but not present on source",{field:f,name:s});else if(!w){var D=void 0;C?A?D=i(o[f],f):D=r(o[f],f):D=o[f],D!==void 0&&(c[f]=D)}}),delete o[u],c}l(r,"n");function i(o,s){var u;if(o)if(!Ar(o))t.throwInternal(Be.CRITICAL,Ae.ItemNotInArray,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:s},!0);else{u=[];for(var c=0;c<o.length;c++){var f=o[c],v=r(f,s+"["+c+"]");u.push(v)}}return u}l(i,"i");function a(o,s,u){var c;return o&&(c={},tn(o,function(f,v){if(s==="string")v===void 0?c[f]="undefined":v===null?c[f]="null":v.toString?c[f]=v.toString():c[f]="invalid field: toString() is not defined.";else if(s==="number")if(v===void 0)c[f]="undefined";else if(v===null)c[f]="null";else{var g=parseFloat(v);isNaN(g)?c[f]="NaN":c[f]=g}else c[f]="invalid field: "+u+" is of unknown type.",t.throwInternal(Be.CRITICAL,c[f],null,!0)})),c}l(a,"a")})}return l(e,"t"),e}()}),wp,Bu,Lv=be(()=>{pt(),sn(),wp=function(){function e(){var t=Ya(),n=ur(),r=!1,i=!0;Qt(e,this,function(a){try{if(t&&ao.Attach(t,"online",u)&&(ao.Attach(t,"offline",c),r=!0),n){var o=n.body||n;En(o.ononline)||(o.ononline=u,o.onoffline=c,r=!0)}if(r){var s=fr();s&&!$e(s.onLine)&&(i=s.onLine)}}catch(f){r=!1}a.isListening=r,a.isOnline=function(){var f=!0,v=fr();return r?f=i:v&&!$e(v.onLine)&&(f=v.onLine),f},a.isOffline=function(){return!a.isOnline()};function u(){i=!0}l(u,"s");function c(){i=!1}l(c,"u")})}return l(e,"t"),e.Offline=new e,e}(),Bu=wp.Offline}),yp,Bv=be(()=>{yp=function(){function e(){}return l(e,"t"),e.prototype.getHashCodeScore=function(t){var n=this.getHashCode(t)/e.INT_MAX_VALUE;return n*100},e.prototype.getHashCode=function(t){if(t==="")return 0;for(;t.length<e.MIN_INPUT_LENGTH;)t=t.concat(t);for(var n=5381,r=0;r<t.length;++r)n=(n<<5)+n+t.charCodeAt(r),n=n&n;return Math.abs(n)},e.INT_MAX_VALUE=2147483647,e.MIN_INPUT_LENGTH=8,e}()}),_p,$v=be(()=>{Bv(),nn(),_p=function(){function e(){this.hashCodeGeneragor=new yp,this.keys=new rl}return l(e,"t"),e.prototype.getSamplingScore=function(t){var n=0;return t.tags&&t.tags[this.keys.userId]?n=this.hashCodeGeneragor.getHashCodeScore(t.tags[this.keys.userId]):t.ext&&t.ext.user&&t.ext.user.id?n=this.hashCodeGeneragor.getHashCodeScore(t.ext.user.id):t.tags&&t.tags[this.keys.operationId]?n=this.hashCodeGeneragor.getHashCodeScore(t.tags[this.keys.operationId]):t.ext&&t.ext.telemetryTrace&&t.ext.telemetryTrace.traceID?n=this.hashCodeGeneragor.getHashCodeScore(t.ext.telemetryTrace.traceID):n=Math.random()*100,n},e}()}),xp,Mv=be(()=>{$v(),nn(),pt(),xp=function(){function e(t,n){this.INT_MAX_VALUE=2147483647,this._logger=n||Fs(null),(t>100||t<0)&&(this._logger.throwInternal(Be.WARNING,Ae.SampleRateOutOfRange,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:t},!0),t=100),this.sampleRate=t,this.samplingScoreGenerator=new _p}return l(e,"t"),e.prototype.isSampledIn=function(t){var n=this.sampleRate,r=!1;return n==null||n>=100||t.baseType===hr.dataType?!0:(r=this.samplingScoreGenerator.getSamplingScore(t)<n,r)},e}()});function sl(e){try{return e.responseText}catch(t){}return null}l(sl,"Ii");var $u,Pv=be(()=>{Lt(),Dv(),Fv(),Nv(),nn(),pt(),Lv(),Mv(),sn(),$u=function(e){Tt(t,e);function t(){var n=e.call(this)||this;n.priority=1001,n.identifier=il,n._XMLHttpRequestSupported=!1;var r,i,a,o,s,u,c={};return Qt(t,n,function(f,v){function g(){cr("Method not implemented.")}l(g,"m"),f.pause=g,f.resume=g,f.flush=function(){try{f.triggerSend(!0,null,1)}catch(ie){f.diagLog().throwInternal(Be.CRITICAL,Ae.FlushFailed,"flush failed, telemetry will not be collected: "+Ct(ie),{exception:st(ie)})}},f.onunloadFlush=function(){if((f._senderConfig.onunloadDisableBeacon()===!1||f._senderConfig.isBeaconApiDisabled()===!1)&&cu())try{f.triggerSend(!0,C,2)}catch(ie){f.diagLog().throwInternal(Be.CRITICAL,Ae.FailedToSendQueuedTelemetry,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+Ct(ie),{exception:st(ie)})}else f.flush()},f.teardown=g,f.addHeader=function(ie,xe){c[ie]=xe},f.initialize=function(ie,xe,Re,Te){v.initialize(ie,xe,Re,Te);var Ge=f._getTelCtx(),Ye=f.identifier;s=new vp(xe.logger),r=0,i=null,a=0,f._sender=null,u=0;var ot=t._getDefaultAppInsightsChannelConfig();if(f._senderConfig=t._getEmptyAppInsightsChannelConfig(),tn(ot,function(me,Le){f._senderConfig[me]=function(){return Ge.getConfig(Ye,me,Le())}}),f._buffer=f._senderConfig.enableSessionStorageBuffer()&&ua()?new up(f.diagLog(),f._senderConfig):new cp(f._senderConfig),f._sample=new xp(f._senderConfig.samplingPercentage(),f.diagLog()),vt(ie)||f.diagLog().throwInternal(Be.CRITICAL,Ae.InvalidInstrumentationKey,"Invalid Instrumentation key "+ie.instrumentationKey),!Qs(f._senderConfig.endpointUrl())&&f._senderConfig.customHeaders()&&f._senderConfig.customHeaders().length>0&&ct(f._senderConfig.customHeaders(),function(me){n.addHeader(me.header,me.value)}),!f._senderConfig.isBeaconApiDisabled()&&cu())f._sender=C;else{var bt=vn("XMLHttpRequest");if(bt){var Pt=new bt;"withCredentials"in Pt?(f._sender=D,f._XMLHttpRequestSupported=!0):typeof XDomainRequest!==Sr&&(f._sender=Ie)}else{var fi=vn("fetch");fi&&(f._sender=$)}}},f.processTelemetry=function(ie,xe){xe=f._getTelCtx(xe);try{if(f._senderConfig.disableTelemetry())return;if(!ie){xe.diagLog().throwInternal(Be.CRITICAL,Ae.CannotSendEmptyTelemetry,"Cannot send empty telemetry");return}if(ie.baseData&&!ie.baseType){xe.diagLog().throwInternal(Be.CRITICAL,Ae.InvalidEvent,"Cannot send telemetry without baseData and baseType");return}if(ie.baseType||(ie.baseType="EventData"),!f._sender){xe.diagLog().throwInternal(Be.CRITICAL,Ae.SenderNotInitialized,"Sender was not initialized");return}if(w(ie))ie[js]=f._sample.sampleRate;else{xe.diagLog().throwInternal(Be.WARNING,Ae.TelemetrySampledAndNotSent,"Telemetry item was sampled out and not sent",{SampleRate:f._sample.sampleRate});return}var Re=t.constructEnvelope(ie,f._senderConfig.instrumentationKey(),xe.diagLog());if(!Re){xe.diagLog().throwInternal(Be.CRITICAL,Ae.CreateEnvelopeError,"Unable to create an AppInsights envelope");return}var Te=!1;if(ie.tags&&ie.tags[ca]&&(ct(ie.tags[ca],function(bt){try{bt&&bt(Re)===!1&&(Te=!0,xe.diagLog().warnToConsole("Telemetry processor check returns false"))}catch(Pt){xe.diagLog().throwInternal(Be.CRITICAL,Ae.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+Ct(Pt),{exception:st(Pt)},!0)}}),delete ie.tags[ca]),Te)return;var Ge=s.serialize(Re),Ye=f._buffer.getItems(),ot=f._buffer.batchPayloads(Ye);ot&&ot.length+Ge.length>f._senderConfig.maxBatchSizeInBytes()&&f.triggerSend(!0,null,10),f._buffer.enqueue(Ge),_e()}catch(bt){xe.diagLog().throwInternal(Be.WARNING,Ae.FailedAddingTelemetryToBuffer,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+Ct(bt),{exception:st(bt)})}f.processNext(ie,xe)},f._xhrReadyStateChange=function(ie,xe,Re){ie.readyState===4&&A(ie.status,xe,ie.responseURL,Re,de(ie),sl(ie)||ie.response)},f.triggerSend=function(ie,xe,Re){ie===void 0&&(ie=!0);try{if(f._senderConfig.disableTelemetry())f._buffer.clear();else{if(f._buffer.count()>0){var Te=f._buffer.getItems();Ze(Re||0,ie),xe?xe.call(n,Te,ie):f._sender(Te,ie)}a=+new Date}clearTimeout(o),o=null,i=null}catch(Ye){var Ge=Ic();(!Ge||Ge>9)&&f.diagLog().throwInternal(Be.CRITICAL,Ae.TransmissionFailed,"Telemetry transmission failed, some telemetry will be lost: "+Ct(Ye),{exception:st(Ye)})}},f._onError=function(ie,xe,Re){f.diagLog().throwInternal(Be.WARNING,Ae.OnError,"Failed to send telemetry.",{message:xe}),f._buffer.clearSent(ie)},f._onPartialSuccess=function(ie,xe){for(var Re=[],Te=[],Ge=xe.errors.reverse(),Ye=0,ot=Ge;Ye<ot.length;Ye++){var bt=ot[Ye],Pt=ie.splice(bt.index,1)[0];ge(bt.statusCode)?Te.push(Pt):Re.push(Pt)}ie.length>0&&f._onSuccess(ie,xe.itemsAccepted),Re.length>0&&f._onError(Re,de(null,["partial success",xe.itemsAccepted,"of",xe.itemsReceived].join(" "))),Te.length>0&&(q(Te),f.diagLog().throwInternal(Be.WARNING,Ae.TransmissionFailed,"Partial success. Delivered: "+ie.length+", Failed: "+Re.length+". Will retry to send "+Te.length+" our of "+xe.itemsReceived+" items"))},f._onSuccess=function(ie,xe){f._buffer.clearSent(ie)},f._xdrOnLoad=function(ie,xe){var Re=sl(ie);if(ie&&(Re+""=="200"||Re===""))r=0,f._onSuccess(xe,0);else{var Te=V(Re);Te&&Te.itemsReceived&&Te.itemsReceived>Te.itemsAccepted&&!f._senderConfig.isRetryDisabled()?f._onPartialSuccess(xe,Te):f._onError(xe,fe(ie))}};function w(ie){return f._sample.isSampledIn(ie)}l(w,"I");function A(ie,xe,Re,Te,Ge,Ye){var ot=null;if(f._appId||(ot=V(Ye),ot&&ot.appId&&(f._appId=ot.appId)),(ie<200||ie>=300)&&ie!==0){if((ie===301||ie===307||ie===308)&&!T(Re)){f._onError(xe,Ge);return}!f._senderConfig.isRetryDisabled()&&ge(ie)?(q(xe),f.diagLog().throwInternal(Be.WARNING,Ae.TransmissionFailed,". Response code "+ie+". Will retry to send "+xe.length+" items.")):f._onError(xe,Ge)}else if(Bu.isOffline()){if(!f._senderConfig.isRetryDisabled()){var bt=10;q(xe,bt),f.diagLog().throwInternal(Be.WARNING,Ae.TransmissionFailed,". Offline - Response Code: "+ie+". Offline status: "+Bu.isOffline()+". Will retry to send "+xe.length+" items.")}}else T(Re),ie===206?(ot||(ot=V(Ye)),ot&&!f._senderConfig.isRetryDisabled()?f._onPartialSuccess(xe,ot):f._onError(xe,Ge)):(r=0,f._onSuccess(xe,Te))}l(A,"E");function T(ie){return u>=10?!1:!$e(ie)&&ie!==""&&ie!==f._senderConfig.endpointUrl()?(f._senderConfig.endpointUrl=function(){return ie},++u,!0):!1}l(T,"b");function C(ie,xe){var Re=f._senderConfig.endpointUrl(),Te=f._buffer.batchPayloads(ie),Ge=new Blob([Te],{type:"text/plain;charset=UTF-8"}),Ye=fr().sendBeacon(Re,Ge);Ye?(f._buffer.markAsSent(ie),f._onSuccess(ie,ie.length)):(D(ie,!0),f.diagLog().throwInternal(Be.WARNING,Ae.TransmissionFailed,". Failed to send telemetry with Beacon API, retried with xhrSender."))}l(C,"p");function D(ie,xe){var Re=new XMLHttpRequest,Te=f._senderConfig.endpointUrl();try{Re[Ai]=!0}catch(Ye){}Re.open("POST",Te,xe),Re.setRequestHeader("Content-type","application/json"),Qs(Te)&&Re.setRequestHeader(Mt.sdkContextHeader,Mt.sdkContextHeaderAppIdRequest),ct(yi(c),function(Ye){Re.setRequestHeader(Ye,c[Ye])}),Re.onreadystatechange=function(){return f._xhrReadyStateChange(Re,ie,ie.length)},Re.onerror=function(Ye){return f._onError(ie,de(Re),Ye)};var Ge=f._buffer.batchPayloads(ie);Re.send(Ge),f._buffer.markAsSent(ie)}l(D,"v");function $(ie,xe){var Re=f._senderConfig.endpointUrl(),Te=f._buffer.batchPayloads(ie),Ge=new Blob([Te],{type:"text/plain;charset=UTF-8"}),Ye=new Headers;Qs(Re)&&Ye.append(Mt.sdkContextHeader,Mt.sdkContextHeaderAppIdRequest),ct(yi(c),function(Pt){Ye.append(Pt,c[Pt])});var ot={method:"POST",headers:Ye,body:Ge},bt=new Request(Re,ot);fetch(bt).then(function(Pt){if(Pt.ok)Pt.text().then(function(fi){A(Pt.status,ie,Pt.url,ie.length,Pt.statusText,fi)}),f._buffer.markAsSent(ie);else throw Error(Pt.statusText)}).catch(function(Pt){f._onError(ie,Pt.message)})}l($,"y");function V(ie){try{if(ie&&ie!==""){var xe=Qn().parse(ie);if(xe&&xe.itemsReceived&&xe.itemsReceived>=xe.itemsAccepted&&xe.itemsReceived-xe.itemsAccepted===xe.errors.length)return xe}}catch(Re){f.diagLog().throwInternal(Be.CRITICAL,Ae.InvalidBackendResponse,"Cannot parse the response. "+Ct(Re),{response:ie})}return null}l(V,"w");function q(ie,xe){if(xe===void 0&&(xe=1),!(!ie||ie.length===0)){f._buffer.clearSent(ie),r++;for(var Re=0,Te=ie;Re<Te.length;Re++){var Ge=Te[Re];f._buffer.enqueue(Ge)}ee(xe),_e()}}l(q,"L");function ee(ie){var xe=10,Re;if(r<=1)Re=xe;else{var Te=(Math.pow(2,r)-1)/2,Ge=Math.floor(Math.random()*Te*xe)+1;Ge=ie*Ge,Re=Math.max(Math.min(Ge,3600),xe)}var Ye=Un()+Re*1e3;i=Ye}l(ee,"F");function _e(){if(!o){var ie=i?Math.max(0,i-Un()):0,xe=Math.max(f._senderConfig.maxBatchInterval(),ie);o=setTimeout(function(){f.triggerSend(!0,null,1)},xe)}}l(_e,"Q");function ge(ie){return ie===408||ie===429||ie===500||ie===503}l(ge,"Ce");function de(ie,xe){return ie?"XMLHttpRequest,Status:"+ie.status+",Response:"+sl(ie)||0||0:xe}l(de,"X");function Ie(ie,xe){var Re=Ya(),Te=new XDomainRequest;Te.onload=function(){return f._xdrOnLoad(Te,ie)},Te.onerror=function(bt){return f._onError(ie,fe(Te),bt)};var Ge=Re&&Re.location&&Re.location.protocol||"";if(f._senderConfig.endpointUrl().lastIndexOf(Ge,0)!==0){f.diagLog().throwInternal(Be.WARNING,Ae.TransmissionFailed,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),f._buffer.clear();return}var Ye=f._senderConfig.endpointUrl().replace(/^(https?:)/,"");Te.open("POST",Ye);var ot=f._buffer.batchPayloads(ie);Te.send(ot),f._buffer.markAsSent(ie)}l(Ie,"ge");function fe(ie,xe){return ie?"XDomainRequest,Response:"+sl(ie)||0:xe}l(fe,"Ae");function De(){var ie="getNotifyMgr";return f.core[ie]?f.core[ie]():f.core._notificationManager}l(De,"dt");function Ze(ie,xe){var Re=De();if(Re&&Re.eventsSendRequest)try{Re.eventsSendRequest(ie,xe)}catch(Te){f.diagLog().throwInternal(Be.CRITICAL,Ae.NotificationException,"send request notification failed: "+Ct(Te),{exception:st(Te)})}}l(Ze,"ot");function vt(ie){var xe=$e(ie.disableInstrumentationKeyValidation)?!1:ie.disableInstrumentationKeyValidation;if(xe)return!0;var Re="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",Te=new RegExp(Re);return Te.test(ie.instrumentationKey)}l(vt,"mt")}),n}return l(t,"e"),t.constructEnvelope=function(n,r,i){var a;switch(r!==n.iKey&&!$e(r)?a=Zi({},n,{iKey:r}):a=n,a.baseType){case er.dataType:return Lu.EventEnvelopeCreator.Create(i,a);case Dr.dataType:return mp.TraceEnvelopeCreator.Create(i,a);case tr.dataType:return pp.PageViewEnvelopeCreator.Create(i,a);case Fr.dataType:return gp.PageViewPerformanceEnvelopeCreator.Create(i,a);case An.dataType:return dp.ExceptionEnvelopeCreator.Create(i,a);case hr.dataType:return hp.MetricEnvelopeCreator.Create(i,a);case pr.dataType:return fp.DependencyEnvelopeCreator.Create(i,a);default:return Lu.EventEnvelopeCreator.Create(i,a)}},t._getDefaultAppInsightsChannelConfig=function(){return{endpointUrl:function(){return"https://dc.services.visualstudio.com/v2/track"},emitLineDelimitedJson:function(){return!1},maxBatchInterval:function(){return 15e3},maxBatchSizeInBytes:function(){return 102400},disableTelemetry:function(){return!1},enableSessionStorageBuffer:function(){return!0},isRetryDisabled:function(){return!1},isBeaconApiDisabled:function(){return!0},onunloadDisableBeacon:function(){return!1},instrumentationKey:function(){},namePrefix:function(){},samplingPercentage:function(){return 100},customHeaders:function(){}}},t._getEmptyAppInsightsChannelConfig=function(){return{endpointUrl:void 0,emitLineDelimitedJson:void 0,maxBatchInterval:void 0,maxBatchSizeInBytes:void 0,disableTelemetry:void 0,enableSessionStorageBuffer:void 0,isRetryDisabled:void 0,isBeaconApiDisabled:void 0,onunloadDisableBeacon:void 0,instrumentationKey:void 0,namePrefix:void 0,samplingPercentage:void 0,customHeaders:void 0}},t}(Ei)}),bp=be(()=>{Pv()}),Ep,Mu,Sp,Ov=be(()=>{sn(),nn(),pt(),Ep="ai_session",Mu=function(){function e(){}return l(e,"t"),e}(),Sp=function(){function e(t,n){var r=this,i,a,o=Fs(n),s=Uc(n);Qt(e,r,function(u){t||(t={}),yt(t.sessionExpirationMs)||(t.sessionExpirationMs=function(){return e.acquisitionSpan}),yt(t.sessionRenewalMs)||(t.sessionRenewalMs=function(){return e.renewalSpan}),u.config=t;var c=u.config.sessionCookiePostfix&&u.config.sessionCookiePostfix()?u.config.sessionCookiePostfix():u.config.namePrefix&&u.config.namePrefix()?u.config.namePrefix():"";i=l(function(){return Ep+c},"i"),u.automaticSession=new Mu,u.update=function(){var T=Un(),C=!1,D=u.automaticSession;D.id||(C=!f(D,T));var $=u.config.sessionExpirationMs();if(!C&&$>0){var V=u.config.sessionRenewalMs(),q=T-D.acquisitionDate,ee=T-D.renewalDate;C=q<0||ee<0,C=C||q>$,C=C||ee>V}C?g(T):(!a||T-a>e.cookieUpdateInterval)&&w(D,T)},u.backup=function(){var T=u.automaticSession;A(T.id,T.acquisitionDate,T.renewalDate)};function f(T,C){var D=!1,$=s.get(i());if($&&yt($.split))D=v(T,$);else{var V=xh(o,i());V&&(D=v(T,V))}return D||!!T.id}l(f,"l");function v(T,C){var D=!1,$=", session will be reset",V=C.split("|");if(V.length>=2)try{var q=+V[1]||0,ee=+V[2]||0;isNaN(q)||q<=0?o.throwInternal(Be.WARNING,Ae.SessionRenewalDateIsZero,"AI session acquisition date is 0"+$):isNaN(ee)||ee<=0?o.throwInternal(Be.WARNING,Ae.SessionRenewalDateIsZero,"AI session renewal date is 0"+$):V[0]&&(T.id=V[0],T.acquisitionDate=q,T.renewalDate=ee,D=!0)}catch(_e){o.throwInternal(Be.CRITICAL,Ae.ErrorParsingAISessionCookie,"Error parsing ai_session value ["+(C||"")+"]"+$+" - "+Ct(_e),{exception:st(_e)})}return D}l(v,"f");function g(T){var C=u.config||{},D=(C.getNewId?C.getNewId():null)||zs;u.automaticSession.id=D(C.idLength?C.idLength():22),u.automaticSession.acquisitionDate=T,w(u.automaticSession,T),hu()||o.throwInternal(Be.WARNING,Ae.BrowserDoesNotSupportLocalStorage,"Browser does not support local storage. Session durations will be inaccurate.")}l(g,"m");function w(T,C){var D=T.acquisitionDate;T.renewalDate=C;var $=u.config,V=$.sessionRenewalMs(),q=D+$.sessionExpirationMs()-C,ee=[T.id,D,C],_e=0;q<V?_e=q/1e3:_e=V/1e3;var ge=$.cookieDomain?$.cookieDomain():null;s.set(i(),ee.join("|"),$.sessionExpirationMs()>0?_e:null,ge),a=C}l(w,"I");function A(T,C,D){bh(o,i(),[T,C,D].join("|"))}l(A,"E")})}return l(e,"t"),e.acquisitionSpan=864e5,e.renewalSpan=18e5,e.cookieUpdateInterval=6e4,e}()}),Cp,Uv=be(()=>{Cp=function(){function e(){}return l(e,"t"),e}()}),Ap,Hv=be(()=>{Ap=function(){function e(){this.id="browser",this.deviceClass="Browser"}return l(e,"t"),e}()}),Ip,Tp,zv=be(()=>{Ip="2.6.4",Tp=function(){function e(t){this.sdkVersion=(t.sdkExtension&&t.sdkExtension()?t.sdkExtension()+"_":"")+"javascript:"+Ip}return l(e,"t"),e}()});function Rp(e){return!(typeof e!="string"||!e||e.match(/,|;|=| |\|/))}l(Rp,"Kc");var kp,qv=be(()=>{sn(),nn(),pt(),kp=function(){function e(t,n){this.isNewUser=!1;var r=Fs(n),i=Uc(n),a;Qt(e,this,function(o){o.config=t;var s=o.config.userCookiePostfix&&o.config.userCookiePostfix()?o.config.userCookiePostfix():"";a=l(function(){return e.userCookieName+s},"a");var u=i.get(a());if(u){o.isNewUser=!1;var c=u.split(e.cookieSeparator);c.length>0&&(o.id=c[0])}if(!o.id){var f=t||{},v=(f.getNewId?f.getNewId():null)||zs;o.id=v(f.idLength?t.idLength():22);var g=31536e3,w=Gr(new Date);o.accountAcquisitionDate=w,o.isNewUser=!0;var A=[o.id,w];i.set(a(),A.join(e.cookieSeparator),g);var T=t.namePrefix&&t.namePrefix()?t.namePrefix()+"ai_session":"ai_session";Eh(r,T)}o.accountId=t.accountId?t.accountId():void 0;var C=i.get(e.authUserCookieName);if(C){C=decodeURI(C);var D=C.split(e.cookieSeparator);D[0]&&(o.authenticatedId=D[0]),D.length>1&&D[1]&&(o.accountId=D[1])}o.setAuthenticatedUserContext=function($,V,q){q===void 0&&(q=!1);var ee=!Rp($)||V&&!Rp(V);if(ee){r.throwInternal(Be.WARNING,Ae.SetAuthContextFailedAccountName,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0);return}o.authenticatedId=$;var _e=o.authenticatedId;V&&(o.accountId=V,_e=[o.authenticatedId,o.accountId].join(e.cookieSeparator)),q&&i.set(e.authUserCookieName,encodeURI(_e))},o.clearAuthenticatedUserContext=function(){o.authenticatedId=null,o.accountId=null,i.del(e.authUserCookieName)}})}return l(e,"t"),e.cookieSeparator="|",e.userCookieName="ai_user",e.authUserCookieName="ai_authUser",e}()}),Dp,Wv=be(()=>{Dp=function(){function e(){}return l(e,"t"),e}()}),Fp,jv=be(()=>{nn(),pt(),Fp=function(){function e(t,n,r,i){var a=this;a.traceID=t||dr(),a.parentID=n,a.name=r;var o=_i();!r&&o&&o.pathname&&(a.name=o.pathname),a.name=Sn(i,a.name)}return l(e,"t"),e}()});function ga(e,t){e&&e[t]&&yi(e[t]).length===0&&delete e[t]}l(ga,"Hr");var ho,po,Np,Vv=be(()=>{sn(),pt(),Ov(),nn(),Uv(),Hv(),zv(),qv(),Wv(),jv(),ho="ext",po="tags",Np=function(){function e(t,n){var r=this,i=t.logger;this.appId=function(){return null},Qt(e,this,function(a){a.application=new Cp,a.internal=new Tp(n),As()&&(a.sessionManager=new Sp(n,t),a.device=new Ap,a.location=new Dp,a.user=new kp(n,t),a.telemetryTrace=new Fp(void 0,void 0,void 0,i),a.session=new Mu),a.applySessionContext=function(o,s){var u=a.session,c=a.sessionManager;u&&lt(u.id)?_t(gn(o.ext,In.AppExt),"sesId",u.id):c&&c.automaticSession&&_t(gn(o.ext,In.AppExt),"sesId",c.automaticSession.id,lt)},a.applyOperatingSystemContxt=function(o,s){_t(o.ext,In.OSExt,a.os)},a.applyApplicationContext=function(o,s){var u=a.application;if(u){var c=gn(o,po);_t(c,Bt.applicationVersion,u.ver,lt),_t(c,Bt.applicationBuild,u.build,lt)}},a.applyDeviceContext=function(o,s){var u=a.device;if(u){var c=gn(gn(o,ho),In.DeviceExt);_t(c,"localId",u.id,lt),_t(c,"ip",u.ip,lt),_t(c,"model",u.model,lt),_t(c,"deviceClass",u.deviceClass,lt)}},a.applyInternalContext=function(o,s){var u=a.internal;if(u){var c=gn(o,po);_t(c,Bt.internalAgentVersion,u.agentVersion,lt),_t(c,Bt.internalSdkVersion,u.sdkVersion,lt),(o.baseType===ea.dataType||o.baseType===tr.dataType)&&(_t(c,Bt.internalSnippet,u.snippetVer,lt),_t(c,Bt.internalSdkSrc,u.sdkSrc,lt))}},a.applyLocationContext=function(o,s){var u=r.location;u&&_t(gn(o,po,[]),Bt.locationIp,u.ip,lt)},a.applyOperationContext=function(o,s){var u=a.telemetryTrace;if(u){var c=gn(gn(o,ho),In.TraceExt,{traceID:void 0,parentID:void 0});_t(c,"traceID",u.traceID,lt),_t(c,"name",u.name,lt),_t(c,"parentID",u.parentID,lt)}},a.applyWebContext=function(o,s){var u=r.web;u&&_t(gn(o,ho),In.WebExt,u)},a.applyUserContext=function(o,s){var u=a.user;if(u){var c=gn(o,po,[]);_t(c,Bt.userAccountId,u.accountId,lt);var f=gn(gn(o,ho),In.UserExt);_t(f,"id",u.id,lt),_t(f,"authId",u.authenticatedId,lt)}},a.cleanUp=function(o,s){var u=o.ext;u&&(ga(u,In.DeviceExt),ga(u,In.UserExt),ga(u,In.WebExt),ga(u,In.OSExt),ga(u,In.AppExt),ga(u,In.TraceExt))}})}return l(e,"t"),e}()}),Lp,Pu,Gv=be(()=>{Lt(),sn(),pt(),Vv(),nn(),Lp=function(e){Tt(t,e);function t(){var n=e.call(this)||this;n.priority=110,n.identifier=pa;var r,i;return Qt(t,n,function(a,o){a.initialize=function(u,c,f,v){o.initialize(u,c,f,v);var g=a._getTelCtx(),w=a.identifier,A=t.getDefaultConfig();i=i||{},tn(A,function(T,C){i[T]=function(){return g.getConfig(w,T,C())}}),a.context=new Np(c,i),r=vh(f,il),a.context.appId=function(){return r?r._appId:null},a._extConfig=i},a.processTelemetry=function(u,c){if(!$e(u)){c=a._getTelCtx(c),u.name===tr.envelopeType&&c.diagLog().resetInternalMessageCount();var f=a.context||{};if(f.session&&typeof a.context.session.id!="string"&&f.sessionManager&&f.sessionManager.update(),s(u,c),f.user&&f.user.isNewUser){f.user.isNewUser=!1;var v=new ea(Ae.SendBrowserInfoOnUserInit,(fr()||{}).userAgent||"");c.diagLog().logInternalMessage(Be.CRITICAL,v)}a.processNext(u,c)}};function s(u,c){gn(u,"tags",[]),gn(u,"ext",{});var f=a.context;f.applySessionContext(u,c),f.applyApplicationContext(u,c),f.applyDeviceContext(u,c),f.applyOperationContext(u,c),f.applyUserContext(u,c),f.applyOperatingSystemContxt(u,c),f.applyWebContext(u,c),f.applyLocationContext(u,c),f.applyInternalContext(u,c),f.cleanUp(u,c)}l(s,"c")}),n}return l(t,"e"),t.getDefaultConfig=function(){var n={instrumentationKey:function(){},accountId:function(){return null},sessionRenewalMs:function(){return 30*60*1e3},samplingPercentage:function(){return 100},sessionExpirationMs:function(){return 24*60*60*1e3},cookieDomain:function(){return null},sdkExtension:function(){return null},isBrowserLinkTrackingEnabled:function(){return!1},appId:function(){return null},namePrefix:function(){},sessionCookiePostfix:function(){},userCookiePostfix:function(){},idLength:function(){return 22},getNewId:function(){return null}};return n},t}(Ei),Pu=Lp}),Bp=be(()=>{Gv()});function $p(e,t,n){var r=0,i=e[t],a=e[n];return i&&a&&(r=Cn(i,a)),r}l($p,"ru");function ki(e,t,n,r,i){var a=0,o=$p(n,r,i);return o&&(a=ti(e,t,kr(o))),a}l(ki,"Sr");function ti(e,t,n){var r="ajaxPerf",i=0;if(e&&t&&n){var a=e[r]=e[r]||{};a[t]=n,i=1}return i}l(ti,"nr");function Kv(e,t){var n=e.perfTiming,r=t[Rn]||{},i=0,a="name",o="Start",s="End",u="domainLookup",c="connect",f="redirect",v="request",g="response",w="duration",A="startTime",T=u+o,C=u+s,D=c+o,$=c+s,V=v+o,q=v+s,ee=g+o,_e=g+s,ge=f+o,de=f=s,Ie="transferSize",fe="encodedBodySize",De="decodedBodySize",Ze="serverTiming";if(n){i|=ki(r,f,n,ge,de),i|=ki(r,u,n,T,C),i|=ki(r,c,n,D,$),i|=ki(r,v,n,V,q),i|=ki(r,g,n,ee,_e),i|=ki(r,"networkConnect",n,A,$),i|=ki(r,"sentRequest",n,V,_e);var vt=n[w];vt||(vt=$p(n,A,_e)||0),i|=ti(r,w,vt),i|=ti(r,"perfTotal",vt);var ie=n[Ze];if(ie){var xe={};ct(ie,function(Re,Te){var Ge=vm(Re[a]||""+Te),Ye=xe[Ge]||{};tn(Re,function(ot,bt){(ot!==a&&lt(bt)||wc(bt))&&(Ye[ot]&&(bt=Ye[ot]+";"+bt),(bt||!lt(bt))&&(Ye[ot]=bt))}),xe[Ge]=Ye}),i|=ti(r,Ze,xe)}i|=ti(r,Ie,n[Ie]),i|=ti(r,fe,n[fe]),i|=ti(r,De,n[De])}else e.perfMark&&(i|=ti(r,"missing",e.perfAttempts));i&&(t[Rn]=r)}l(Kv,"Il");var Rn,Mp,Ou,Zv=be(()=>{nn(),pt(),sn(),Rn="properties",Mp=function(){function e(){var t=this;t.openDone=!1,t.setRequestHeaderDone=!1,t.sendDone=!1,t.abortDone=!1,t.stateChangeAttached=!1}return l(e,"t"),e}(),Ou=function(){function e(t,n,r){var i=this,a=r,o="responseText";i.perfMark=null,i.completed=!1,i.requestHeadersSize=null,i.requestHeaders=null,i.responseReceivingDuration=null,i.callbackDuration=null,i.ajaxTotalDuration=null,i.aborted=0,i.pageUrl=null,i.requestUrl=null,i.requestSize=0,i.method=null,i.status=null,i.requestSentTime=null,i.responseStartedTime=null,i.responseFinishedTime=null,i.callbackFinishedTime=null,i.endTime=null,i.xhrMonitoringState=new Mp,i.clientFailure=0,i.traceID=t,i.spanID=n,Qt(e,i,function(s){s.getAbsoluteUrl=function(){return s.requestUrl?Ah(s.requestUrl):null},s.getPathName=function(){return s.requestUrl?oo(a,Ih(s.method,s.requestUrl)):null},s.CreateTrackItem=function(u,c,f){if(s.ajaxTotalDuration=Math.round(Cn(s.requestSentTime,s.responseFinishedTime)*1e3)/1e3,s.ajaxTotalDuration<0)return null;var v=(T={id:"|"+s.traceID+"."+s.spanID,target:s.getAbsoluteUrl(),name:s.getPathName(),type:u,startTime:null,duration:s.ajaxTotalDuration,success:+s.status>=200&&+s.status<400,responseCode:+s.status,method:s.method},T[Rn]={HttpMethod:s.method},T);if(s.requestSentTime&&(v.startTime=new Date,v.startTime.setTime(s.requestSentTime)),Kv(s,v),c&&yi(s.requestHeaders).length>0&&(v[Rn]=v[Rn]||{},v[Rn].requestHeaders=s.requestHeaders),f){var g=f();if(g){var w=g.correlationContext;if(w&&(v.correlationContext=w),g.headerMap&&yi(g.headerMap).length>0&&(v[Rn]=v[Rn]||{},v[Rn].responseHeaders=g.headerMap),s.status>=400){var A=g.type;v[Rn]=v[Rn]||{},(A===""||A==="text")&&(v[Rn][o]=g[o]?g.statusText+" - "+g[o]:g.statusText),A==="json"&&(v[Rn][o]=g.response?g.statusText+" - "+JSON.stringify(g.response):g.statusText)}}}return v;var T}})}return l(e,"t"),e}()}),Qv,Xv=be(()=>{pt(),pt(),Qv=function(){function e(){}return l(e,"t"),e.GetLength=function(t){var n=0;if(!$e(t)){var r="";try{r=t.toString()}catch(i){}n=r.length,n=isNaN(n)?0:n}return n},e}()}),Uu,Yv=be(()=>{pt(),Uu=function(){function e(t,n){var r=this;r.traceFlag=e.DEFAULT_TRACE_FLAG,r.version=e.DEFAULT_VERSION,t&&e.isValidTraceId(t)?r.traceId=t:r.traceId=dr(),n&&e.isValidSpanId(n)?r.spanId=n:r.spanId=dr().substr(0,16)}return l(e,"t"),e.isValidTraceId=function(t){return t.match(/^[0-9a-f]{32}$/)&&t!=="00000000000000000000000000000000"},e.isValidSpanId=function(t){return t.match(/^[0-9a-f]{16}$/)&&t!=="0000000000000000"},e.prototype.toString=function(){var t=this;return t.version+"-"+t.traceId+"-"+t.spanId+"-"+t.traceFlag},e.DEFAULT_TRACE_FLAG="01",e.DEFAULT_VERSION="00",e}()});function Jv(){var e=Ki();return!e||$e(e.Request)||$e(e.Request[Ln])||$e(e[wa])?null:e[wa]}l(Jv,"El");function ew(e){var t=!1;if(typeof XMLHttpRequest!==Sr&&!$e(XMLHttpRequest)){var n=XMLHttpRequest[Ln];t=!$e(n)&&!$e(n.open)&&!$e(n.send)&&!$e(n.abort)}var r=Ic();if(r&&r<9&&(t=!1),t)try{var i=new XMLHttpRequest;i[kn]={};var a=XMLHttpRequest[Ln].open;XMLHttpRequest[Ln].open=a}catch(o){t=!1,go(e,Ae.FailedMonitorAjaxOpen,"Failed to enable XMLHttpRequest monitoring, extension is not supported",{exception:st(o)})}return t}l(ew,"wl");function ll(e){var t="";try{!$e(e)&&!$e(e[kn])&&!$e(e[kn].requestUrl)&&(t+="(url: '"+e[kn].requestUrl+"')")}catch(n){}return t}l(ll,"wi");function go(e,t,n,r,i){e[va]()[zu](Be.CRITICAL,t,n,r,i)}l(go,"Mn");function cl(e,t,n,r,i){e[va]()[zu](Be.WARNING,t,n,r,i)}l(cl,"Pi");function mo(e,t,n){return function(r){go(e,t,n,{ajaxDiagnosticsMessage:ll(r.inst),exception:st(r.err)})}}l(mo,"Ln");function ma(e,t){return e&&t?e.indexOf(t):-1}l(ma,"jr");var Hu,va,kn,zu,wa,qu,Wu,tw=be(()=>{Lt(),nn(),pt(),Zv(),Xv(),Yv(),sn(),Hu="ai.ajxmn.",va="diagLog",kn="ajaxData",zu="throwInternal",wa="fetch",qu=0,Wu=function(e){Tt(t,e);function t(){var n=e.call(this)||this;n.identifier=t.identifier,n.priority=120;var r="trackDependencyDataInternal",i=_i(),a=!1,o=!1,s=i&&i.host&&i.host.toLowerCase(),u=t.getEmptyConfig(),c=!1,f=0,v,g,w,A,T=!1,C=0,D=!1,$=[],V={},q;return Qt(t,n,function(ee,_e){ee.initialize=function(me,Le,Ue,ze){if(!ee.isInitialized()){_e.initialize(me,Le,Ue,ze);var Ke=ee._getTelCtx(),tt=t.getDefaultConfig();tn(tt,function(Fn,Ia){u[Fn]=Ke.getConfig(t.identifier,Fn,Ia)});var et=u.distributedTracingMode;if(c=u.enableRequestHeaderTracking,T=u.enableAjaxPerfTracking,C=u.maxAjaxCallsPerView,D=u.enableResponseHeaderTracking,q=u.excludeRequestFromAutoTrackingPatterns,w=et===Jn.AI||et===Jn.AI_AND_W3C,g=et===Jn.AI_AND_W3C||et===Jn.W3C,T){var Et=me.instrumentationKey||"unkwn";Et.length>5?A=Hu+Et.substring(Et.length-5)+".":A=Hu+Et+"."}if(u.disableAjaxTracking===!1&&fe(),de(),Ue.length>0&&Ue){for(var Wt=void 0,on=0;!Wt&&on<Ue.length;)Ue[on]&&Ue[on].identifier===pa&&(Wt=Ue[on]),on++;Wt&&(v=Wt.context)}}},ee.teardown=function(){ct($,function(me){me.rm()}),$=[],a=!1,o=!1,ee.setInitialized(!1)},ee.trackDependencyData=function(me,Le){ee[r](me,Le)},ee.includeCorrelationHeaders=function(me,Le,Ue,ze){var Ke=ee._currentWindowHost||s;if(Le){if(Yr.canIncludeCorrelationHeader(u,me.getAbsoluteUrl(),Ke)){if(Ue||(Ue={}),Ue.headers=new Headers(Ue.headers||(Le instanceof Request?Le.headers||{}:{})),w){var tt="|"+me.traceID+"."+me.spanID;Ue.headers.set(Mt.requestIdHeader,tt),c&&(me.requestHeaders[Mt.requestIdHeader]=tt)}var et=u.appId||v&&v.appId();if(et&&(Ue.headers.set(Mt.requestContextHeader,Mt.requestContextAppIdFormat+et),c&&(me.requestHeaders[Mt.requestContextHeader]=Mt.requestContextAppIdFormat+et)),g){var Et=new Uu(me.traceID,me.spanID);Ue.headers.set(Mt.traceParentHeader,Et.toString()),c&&(me.requestHeaders[Mt.traceParentHeader]=Et.toString())}}return Ue}else if(ze){if(Yr.canIncludeCorrelationHeader(u,me.getAbsoluteUrl(),Ke)){if(w){var tt="|"+me.traceID+"."+me.spanID;ze.setRequestHeader(Mt.requestIdHeader,tt),c&&(me.requestHeaders[Mt.requestIdHeader]=tt)}var et=u.appId||v&&v.appId();if(et&&(ze.setRequestHeader(Mt.requestContextHeader,Mt.requestContextAppIdFormat+et),c&&(me.requestHeaders[Mt.requestContextHeader]=Mt.requestContextAppIdFormat+et)),g){var Et=new Uu(me.traceID,me.spanID);ze.setRequestHeader(Mt.traceParentHeader,Et.toString()),c&&(me.requestHeaders[Mt.traceParentHeader]=Et.toString())}}return ze}},ee[r]=function(me,Le,Ue){if(C===-1||f<C){(u.distributedTracingMode===Jn.W3C||u.distributedTracingMode===Jn.AI_AND_W3C)&&typeof me.id=="string"&&me.id[me.id.length-1]!=="."&&(me.id+="."),$e(me.startTime)&&(me.startTime=new Date);var ze=gr.create(me,pr.dataType,pr.envelopeType,ee[va](),Le,Ue);ee.core.track(ze)}else f===C&&go(ee,Ae.MaxAjaxPerPVExceeded,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0);++f};function ge(me){var Le=!0;return(me||u.ignoreHeaders)&&ct(u.ignoreHeaders,function(Ue){if(Ue.toLowerCase()===me.toLowerCase())return Le=!1,-1}),Le}l(ge,"Ce");function de(){var me=Jv();if(me){var Le=Ki(),Ue=me.polyfill;u.disableFetchTracking===!1?($.push(nu(Le,wa,{req:function(ze,Ke,tt){var et;if(a&&!De(null,Ke,tt)&&!(Ue&&o)){var Et=ze.ctx();et=ot(Ke,tt);var Wt=ee.includeCorrelationHeaders(et,Ke,tt);Wt!==tt&&ze.set(1,Wt),Et.data=et}},rsp:function(ze,Ke){var tt=ze.ctx().data;tt&&(ze.rslt=ze.rslt.then(function(et){return Pt(ze,(et||{}).status,et,tt,function(){var Et={statusText:et.statusText,headerMap:null,correlationContext:fi(et)};if(D){var Wt={};et.headers.forEach(function(on,Fn){ge(Fn)&&(Wt[Fn]=on)}),Et.headerMap=Wt}return Et}),et}).catch(function(et){throw Pt(ze,0,Ke,tt,null,{error:et.message}),et}))},hkErr:mo(ee,Ae.FailedMonitorAjaxOpen,"Failed to monitor Window.fetch, monitoring data for this fetch call may be incorrect.")})),a=!0):Ue&&$.push(nu(Le,wa,{req:function(ze,Ke,tt){De(null,Ke,tt)}})),Ue&&(Le[wa].polyfill=Ue)}}l(de,"X");function Ie(me,Le,Ue){$.push(Vm(me,Le,Ue))}l(Ie,"ge");function fe(){ew(ee)&&!o&&(Ie(XMLHttpRequest,"open",{req:function(me,Le,Ue,ze){var Ke=me.inst,tt=Ke[kn];!De(Ke,Ue)&&Ze(Ke,!0)&&(!tt||!tt.xhrMonitoringState.openDone)&&vt(Ke,Le,Ue,ze)},hkErr:mo(ee,Ae.FailedMonitorAjaxOpen,"Failed to monitor XMLHttpRequest.open, monitoring data for this ajax call may be incorrect.")}),Ie(XMLHttpRequest,"send",{req:function(me,Le){var Ue=me.inst,ze=Ue[kn];Ze(Ue)&&!ze.xhrMonitoringState.sendDone&&(Ge("xhr",ze),ze.requestSentTime=lo(),ee.includeCorrelationHeaders(ze,void 0,void 0,Ue),ze.xhrMonitoringState.sendDone=!0)},hkErr:mo(ee,Ae.FailedMonitorAjaxSend,"Failed to monitor XMLHttpRequest, monitoring data for this ajax call may be incorrect.")}),Ie(XMLHttpRequest,"abort",{req:function(me){var Le=me.inst,Ue=Le[kn];Ze(Le)&&!Ue.xhrMonitoringState.abortDone&&(Ue.aborted=1,Ue.xhrMonitoringState.abortDone=!0)},hkErr:mo(ee,Ae.FailedMonitorAjaxAbort,"Failed to monitor XMLHttpRequest.abort, monitoring data for this ajax call may be incorrect.")}),c&&Ie(XMLHttpRequest,"setRequestHeader",{req:function(me,Le,Ue){var ze=me.inst;Ze(ze)&&ge(Le)&&(ze[kn].requestHeaders[Le]=Ue)},hkErr:mo(ee,Ae.FailedMonitorAjaxSetRequestHeader,"Failed to monitor XMLHttpRequest.setRequestHeader, monitoring data for this ajax call may be incorrect.")}),o=!0)}l(fe,"Ae");function De(me,Le,Ue){var ze=!1,Ke=((lt(Le)?Le:(Le||{}).url||"")||"").toLowerCase();if(ct(q,function(Et){var Wt=Et;lt(Et)&&(Wt=new RegExp(Et)),ze||(ze=Wt.test(Ke))}),ze)return ze;var tt=ma(Ke,"?"),et=ma(Ke,"#");return(tt===-1||et!==-1&&et<tt)&&(tt=et),tt!==-1&&(Ke=Ke.substring(0,tt)),$e(me)?$e(Le)||(ze=(typeof Le=="object"?Le[Ai]===!0:!1)||(Ue?Ue[Ai]===!0:!1)):ze=me[Ai]===!0||Ke[Ai]===!0,ze?V[Ke]||(V[Ke]=1):V[Ke]&&(ze=!0),ze}l(De,"dt");function Ze(me,Le){var Ue=!0,ze=o;return $e(me)||(Ue=Le===!0||!$e(me[kn])),ze&&Ue}l(Ze,"ot");function vt(me,Le,Ue,ze){var Ke=v&&v.telemetryTrace&&v.telemetryTrace.traceID||dr(),tt=dr().substr(0,16),et=new Ou(Ke,tt,ee[va]());et.method=Le,et.requestUrl=Ue,et.xhrMonitoringState.openDone=!0,et.requestHeaders={},et.async=ze,me[kn]=et,ie(me)}l(vt,"mt");function ie(me){me[kn].xhrMonitoringState.stateChangeAttached=ao.Attach(me,"readystatechange",function(){try{me&&me.readyState===4&&Ze(me)&&Re(me)}catch(Ue){var Le=st(Ue);(!Le||ma(Le.toLowerCase(),"c00c023f")===-1)&&go(ee,Ae.FailedMonitorAjaxRSC,"Failed to monitor XMLHttpRequest 'readystatechange' event handler, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:ll(me),exception:Le})}})}l(ie,"d");function xe(me){try{var Le=me.responseType;if(Le===""||Le==="text")return me.responseText}catch(Ue){}return null}l(xe,"T");function Re(me){var Le=me[kn];Le.responseFinishedTime=lo(),Le.status=me.status;function Ue(ze,Ke){var tt=Ke||{};tt.ajaxDiagnosticsMessage=ll(me),ze&&(tt.exception=st(ze)),cl(ee,Ae.FailedMonitorAjaxDur,"Failed to calculate the duration of the ajax call, monitoring data for this ajax call won't be sent.",tt)}l(Ue,"N"),Ye("xmlhttprequest",Le,function(){try{var ze=Le.CreateTrackItem("Ajax",c,function(){var Ke={statusText:me.statusText,headerMap:null,correlationContext:Te(me),type:me.responseType,responseText:xe(me),response:me.response};if(D){var tt=me.getAllResponseHeaders();if(tt){var et=fn(tt).split(/[\r\n]+/),Et={};ct(et,function(Wt){var on=Wt.split(": "),Fn=on.shift(),Ia=on.join(": ");ge(Fn)&&(Et[Fn]=Ia)}),Ke.headerMap=Et}}return Ke});ze?ee[r](ze):Ue(null,{requestSentTime:Le.requestSentTime,responseFinishedTime:Le.responseFinishedTime})}finally{try{me[kn]=null}catch(Ke){}}},function(ze){Ue(ze,null)})}l(Re,"A");function Te(me){try{var Le=me.getAllResponseHeaders();if(Le!==null){var Ue=ma(Le.toLowerCase(),Mt.requestContextHeaderLowerCase);if(Ue!==-1){var ze=me.getResponseHeader(Mt.requestContextHeader);return Yr.getCorrelationContext(ze)}}}catch(Ke){cl(ee,Ae.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{ajaxDiagnosticsMessage:ll(me),exception:st(Ke)})}}l(Te,"D");function Ge(me,Le){if(Le.requestUrl&&A&&T){var Ue=Ir();if(Ue&&yt(Ue.mark)){qu++;var ze=A+me+"#"+qu;Ue.mark(ze);var Ke=Ue.getEntriesByName(ze);Ke&&Ke.length===1&&(Le.perfMark=Ke[0])}}}l(Ge,"j");function Ye(me,Le,Ue,ze){var Ke=Le.perfMark,tt=Ir(),et=u.maxAjaxPerfLookupAttempts,Et=u.ajaxPerfLookupDelay,Wt=Le.requestUrl,on=0;l(function Fn(){try{if(tt&&Ke){on++;for(var Ia=null,K0=tt.getEntries(),Kf=K0.length-1;Kf>=0;Kf--){var Ur=K0[Kf];if(Ur){if(Ur.entryType==="resource")Ur.initiatorType===me&&(ma(Ur.name,Wt)!==-1||ma(Wt,Ur.name)!==-1)&&(Ia=Ur);else if(Ur.entryType==="mark"&&Ur.name===Ke.name){Le.perfTiming=Ia;break}if(Ur.startTime<Ke.startTime-1e3)break}}}!Ke||Le.perfTiming||on>=et||Le.async===!1?(Ke&&yt(tt.clearMarks)&&tt.clearMarks(Ke.name),Le.perfAttempts=on,Ue()):setTimeout(Fn,Et)}catch(Eb){ze(Eb)}},"Je")()}l(Ye,"U");function ot(me,Le){var Ue=v&&v.telemetryTrace&&v.telemetryTrace.traceID||dr(),ze=dr().substr(0,16),Ke=new Ou(Ue,ze,ee[va]());Ke.requestSentTime=lo(),me instanceof Request?Ke.requestUrl=me?me.url:"":Ke.requestUrl=me;var tt="GET";Le&&Le.method?tt=Le.method:me&&me instanceof Request&&(tt=me.method),Ke.method=tt;var et={};if(c){var Et=new Headers((Le?Le.headers:0)||(me instanceof Request?me.headers||{}:{}));Et.forEach(function(Wt,on){ge(on)&&(et[on]=Wt)})}return Ke.requestHeaders=et,Ge("fetch",Ke),Ke}l(ot,"q");function bt(me){var Le="";try{$e(me)||(typeof me=="string"?Le+="(url: '"+me+"')":Le+="(url: '"+me.url+"')")}catch(Ue){go(ee,Ae.FailedMonitorAjaxOpen,"Failed to grab failed fetch diagnostics message",{exception:st(Ue)})}return Le}l(bt,"Z");function Pt(me,Le,Ue,ze,Ke,tt){if(!ze)return;function et(Et,Wt,on){var Fn=on||{};Fn.fetchDiagnosticsMessage=bt(Ue),Wt&&(Fn.exception=st(Wt)),cl(ee,Et,"Failed to calculate the duration of the fetch call, monitoring data for this fetch call won't be sent.",Fn)}l(et,"B"),ze.responseFinishedTime=lo(),ze.status=Le,Ye("fetch",ze,function(){var Et=ze.CreateTrackItem("Fetch",c,Ke);Et?ee[r](Et):et(Ae.FailedMonitorAjaxDur,null,{requestSentTime:ze.requestSentTime,responseFinishedTime:ze.responseFinishedTime})},function(Et){et(Ae.FailedMonitorAjaxGetCorrelationHeader,Et,null)})}l(Pt,"ie");function fi(me){if(me&&me.headers)try{var Le=me.headers.get(Mt.requestContextHeader);return Yr.getCorrelationContext(Le)}catch(Ue){cl(ee,Ae.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{fetchDiagnosticsMessage:bt(me),exception:st(Ue)})}}l(fi,"jt")}),n}return l(t,"e"),t.getDefaultConfig=function(){var n={maxAjaxCallsPerView:500,disableAjaxTracking:!1,disableFetchTracking:!0,excludeRequestFromAutoTrackingPatterns:void 0,disableCorrelationHeaders:!1,distributedTracingMode:Jn.AI_AND_W3C,correlationHeaderExcludedDomains:["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],correlationHeaderDomains:void 0,correlationHeaderExcludePatterns:void 0,appId:void 0,enableCorsCorrelation:!1,enableRequestHeaderTracking:!1,enableResponseHeaderTracking:!1,enableAjaxErrorStatusText:!1,enableAjaxPerfTracking:!1,maxAjaxPerfLookupAttempts:3,ajaxPerfLookupDelay:25,ignoreHeaders:["Authorization","X-API-Key","WWW-Authenticate"]};return n},t.getEmptyConfig=function(){var n=this.getDefaultConfig();return tn(n,function(r){n[r]=void 0}),n},t.prototype.processTelemetry=function(n,r){this.processNext(n,r)},t.identifier="AjaxDependencyPlugin",t}(Ei)}),Pp=be(()=>{tw()}),ju,Vu,Op,Up,Gu,Hp=be(()=>{pt(),lp(),bp(),Bp(),Pp(),nn(),Vu=["snippet","dependencies","properties","_snippetVersion","appInsightsNew","getSKUDefaults"],Op={Default:0,Required:1,Array:2,Hidden:4},Up={__proto__:null,PropertiesPluginIdentifier:pa,BreezeChannelIdentifier:il,AnalyticsPluginIdentifier:Ru,Util:vu,CorrelationIdHelper:Yr,UrlHelper:Fh,DateTimeUtils:Nh,ConnectionStringParser:Ph,FieldType:Op,RequestHeaders:Mt,DisabledPropertyName:Ai,ProcessLegacy:ca,SampleRate:js,HttpMethod:Vs,DEFAULT_BREEZE_ENDPOINT:uu,AIData:yu,AIBase:wu,Envelope:_u,Event:er,Exception:An,Metric:hr,PageView:tr,PageViewData:tl,RemoteDependencyData:pr,Trace:Dr,PageViewPerformance:Fr,Data:Nr,SeverityLevel:co,ConfigurationManager:np,ContextTagKeys:rl,DataSanitizer:gh,TelemetryItemCreator:gr,CtxTagKeys:Bt,Extensions:In,DistributedTracingModes:Jn},Gu=function(){function e(t){var n=this;n._snippetVersion=""+(t.sv||t.version||""),t.queue=t.queue||[],t.version=t.version||2;var r=t.config||{};if(r.connectionString){var i=Bh(r.connectionString),a=i.ingestionendpoint;r.endpointUrl=a?a+"/v2/track":r.endpointUrl,r.instrumentationKey=i.instrumentationkey||r.instrumentationKey}n.appInsights=new Du,n.properties=new Pu,n.dependencies=new Wu,n.core=new Xc,n._sender=new $u,n.snippet=t,n.config=r,n.getSKUDefaults()}return l(e,"t"),e.prototype.getCookieMgr=function(){return this.appInsights.getCookieMgr()},e.prototype.trackEvent=function(t,n){this.appInsights.trackEvent(t,n)},e.prototype.trackPageView=function(t){var n=t||{};this.appInsights.trackPageView(n)},e.prototype.trackPageViewPerformance=function(t){var n=t||{};this.appInsights.trackPageViewPerformance(n)},e.prototype.trackException=function(t){t&&!t.exception&&t.error&&(t.exception=t.error),this.appInsights.trackException(t)},e.prototype._onerror=function(t){this.appInsights._onerror(t)},e.prototype.trackTrace=function(t,n){this.appInsights.trackTrace(t,n)},e.prototype.trackMetric=function(t,n){this.appInsights.trackMetric(t,n)},e.prototype.startTrackPage=function(t){this.appInsights.startTrackPage(t)},e.prototype.stopTrackPage=function(t,n,r,i){this.appInsights.stopTrackPage(t,n,r,i)},e.prototype.startTrackEvent=function(t){this.appInsights.startTrackEvent(t)},e.prototype.stopTrackEvent=function(t,n,r){this.appInsights.stopTrackEvent(t,n,r)},e.prototype.addTelemetryInitializer=function(t){return this.appInsights.addTelemetryInitializer(t)},e.prototype.setAuthenticatedUserContext=function(t,n,r){r===void 0&&(r=!1),this.properties.context.user.setAuthenticatedUserContext(t,n,r)},e.prototype.clearAuthenticatedUserContext=function(){this.properties.context.user.clearAuthenticatedUserContext()},e.prototype.trackDependencyData=function(t){this.dependencies.trackDependencyData(t)},e.prototype.flush=function(t){var n=this;t===void 0&&(t=!0),ta(this.core,function(){return"AISKU.flush"},function(){ct(n.core.getTransmissionControls(),function(r){ct(r,function(i){i.flush(t)})})},null,t)},e.prototype.onunloadFlush=function(t){t===void 0&&(t=!0),ct(this.core.getTransmissionControls(),function(n){ct(n,function(r){r.onunloadFlush?r.onunloadFlush():r.flush(t)})})},e.prototype.loadAppInsights=function(t,n,r){var i=this;t===void 0&&(t=!1);var a=this;function o(s){if(s){var u="";$e(a._snippetVersion)||(u+=a._snippetVersion),t&&(u+=".lg"),a.context&&a.context.internal&&(a.context.internal.snippetVer=u||"-"),tn(a,function(c,f){lt(c)&&!yt(f)&&c&&c[0]!=="_"&&Vu.indexOf(c)===-1&&(s[c]=f)})}}return l(o,"o"),t&&a.config.extensions&&a.config.extensions.length>0&&cr("Extensions not allowed in legacy mode"),ta(a.core,function(){return"AISKU.loadAppInsights"},function(){var s=[];s.push(a._sender),s.push(a.properties),s.push(a.dependencies),s.push(a.appInsights),a.core.initialize(a.config,s,n,r),a.context=a.properties.context,ju&&a.context&&(a.context.internal.sdkSrc=ju),o(a.snippet),a.emptyQueue(),a.pollInternalLogs(),a.addHousekeepingBeforeUnload(i)}),a},e.prototype.updateSnippetDefinitions=function(t){wd(t,this,function(n){return n&&Vu.indexOf(n)===-1})},e.prototype.emptyQueue=function(){var t=this;try{if(Ar(t.snippet.queue)){for(var n=t.snippet.queue.length,r=0;r<n;r++){var i=t.snippet.queue[r];i()}t.snippet.queue=void 0,delete t.snippet.queue}}catch(o){var a={};o&&yt(o.toString)&&(a.exception=o.toString())}},e.prototype.pollInternalLogs=function(){this.core.pollInternalLogs()},e.prototype.addHousekeepingBeforeUnload=function(t){if(As()||xd()){var n=l(function(){t.onunloadFlush(!1),ct(t.appInsights.core._extensions,function(i){if(i.identifier===pa)return i&&i.context&&i.context._sessionManager&&i.context._sessionManager.backup(),-1})},"r");if(!t.appInsights.config.disableFlushOnBeforeUnload){var r=Ci("beforeunload",n);r=Ci("unload",n)||r,r=Ci("pagehide",n)||r,r=Ci("visibilitychange",n)||r,!r&&!Tm()&&t.appInsights.core.logger.throwInternal(Be.CRITICAL,Ae.FailedToAddHandlerForOnBeforeUnload,"Could not add handler for beforeunload and pagehide")}t.appInsights.config.disableFlushOnUnload||(Ci("pagehide",n),Ci("visibilitychange",n))}},e.prototype.getSender=function(){return this._sender},e.prototype.getSKUDefaults=function(){var t=this;t.config.diagnosticLogInterval=t.config.diagnosticLogInterval&&t.config.diagnosticLogInterval>0?t.config.diagnosticLogInterval:1e4},e}(),function(){var e=null,t=!1,n=["://js.monitor.azure.com/","://az416426.vo.msecnd.net/"];try{var r=(document||{}).currentScript;r&&(e=r.src)}catch(s){}if(e)try{var i=e.toLowerCase();if(i){for(var a="",o=0;o<n.length;o++)if(i.indexOf(n[o])!==-1){a="cdn"+(o+1),i.indexOf("/scripts/")===-1&&(i.indexOf("/next/")!==-1?a+="-next":i.indexOf("/beta/")!==-1&&(a+="-beta")),ju=a+(t?".mod":"");break}}}catch(s){}}()}),zp,qp,nw=be(()=>{nn(),pt(),zp=["snippet","getDefaultConfig","_hasLegacyInitializers","_queue","_processLegacyInitializers"],qp=function(){function e(t,n){this._hasLegacyInitializers=!1,this._queue=[],this.config=e.getDefaultConfig(t.config),this.appInsightsNew=n,this.context={addTelemetryInitializer:this.addTelemetryInitializers.bind(this)}}return l(e,"t"),e.getDefaultConfig=function(t){return t||(t={}),t.endpointUrl=t.endpointUrl||"https://dc.services.visualstudio.com/v2/track",t.sessionRenewalMs=30*60*1e3,t.sessionExpirationMs=24*60*60*1e3,t.maxBatchSizeInBytes=t.maxBatchSizeInBytes>0?t.maxBatchSizeInBytes:102400,t.maxBatchInterval=isNaN(t.maxBatchInterval)?15e3:t.maxBatchInterval,t.enableDebug=Dt(t.enableDebug),t.disableExceptionTracking=Dt(t.disableExceptionTracking),t.disableTelemetry=Dt(t.disableTelemetry),t.verboseLogging=Dt(t.verboseLogging),t.emitLineDelimitedJson=Dt(t.emitLineDelimitedJson),t.diagnosticLogInterval=t.diagnosticLogInterval||1e4,t.autoTrackPageVisitTime=Dt(t.autoTrackPageVisitTime),(isNaN(t.samplingPercentage)||t.samplingPercentage<=0||t.samplingPercentage>=100)&&(t.samplingPercentage=100),t.disableAjaxTracking=Dt(t.disableAjaxTracking),t.maxAjaxCallsPerView=isNaN(t.maxAjaxCallsPerView)?500:t.maxAjaxCallsPerView,t.isBeaconApiDisabled=Dt(t.isBeaconApiDisabled,!0),t.disableCorrelationHeaders=Dt(t.disableCorrelationHeaders),t.correlationHeaderExcludedDomains=t.correlationHeaderExcludedDomains||["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],t.disableFlushOnBeforeUnload=Dt(t.disableFlushOnBeforeUnload),t.disableFlushOnUnload=Dt(t.disableFlushOnUnload,t.disableFlushOnBeforeUnload),t.enableSessionStorageBuffer=Dt(t.enableSessionStorageBuffer,!0),t.isRetryDisabled=Dt(t.isRetryDisabled),t.isCookieUseDisabled=Dt(t.isCookieUseDisabled),t.isStorageUseDisabled=Dt(t.isStorageUseDisabled),t.isBrowserLinkTrackingEnabled=Dt(t.isBrowserLinkTrackingEnabled),t.enableCorsCorrelation=Dt(t.enableCorsCorrelation),t},e.prototype.addTelemetryInitializers=function(t){var n=this;this._hasLegacyInitializers||(this.appInsightsNew.addTelemetryInitializer(function(r){n._processLegacyInitializers(r)}),this._hasLegacyInitializers=!0),this._queue.push(t)},e.prototype.getCookieMgr=function(){return this.appInsightsNew.getCookieMgr()},e.prototype.startTrackPage=function(t){this.appInsightsNew.startTrackPage(t)},e.prototype.stopTrackPage=function(t,n,r,i){this.appInsightsNew.stopTrackPage(t,n,r)},e.prototype.trackPageView=function(t,n,r,i,a){var o={name:t,uri:n,properties:r,measurements:i};this.appInsightsNew.trackPageView(o)},e.prototype.trackEvent=function(t,n,r){this.appInsightsNew.trackEvent({name:t})},e.prototype.trackDependency=function(t,n,r,i,a,o,s){this.appInsightsNew.trackDependencyData({id:t,target:r,type:i,duration:a,properties:{HttpMethod:n},success:o,responseCode:s})},e.prototype.trackException=function(t,n,r,i,a){this.appInsightsNew.trackException({exception:t})},e.prototype.trackMetric=function(t,n,r,i,a,o){this.appInsightsNew.trackMetric({name:t,average:n,sampleCount:r,min:i,max:a})},e.prototype.trackTrace=function(t,n,r){this.appInsightsNew.trackTrace({message:t,severityLevel:r})},e.prototype.flush=function(t){this.appInsightsNew.flush(t)},e.prototype.setAuthenticatedUserContext=function(t,n,r){this.appInsightsNew.context.user.setAuthenticatedUserContext(t,n,r)},e.prototype.clearAuthenticatedUserContext=function(){this.appInsightsNew.context.user.clearAuthenticatedUserContext()},e.prototype._onerror=function(t,n,r,i,a){this.appInsightsNew._onerror({message:t,url:n,lineNumber:r,columnNumber:i,error:a})},e.prototype.startTrackEvent=function(t){this.appInsightsNew.startTrackEvent(t)},e.prototype.stopTrackEvent=function(t,n,r){this.appInsightsNew.stopTrackEvent(t,n,r)},e.prototype.downloadAndSetup=function(t){cr("downloadAndSetup not implemented in web SKU")},e.prototype.updateSnippetDefinitions=function(t){wd(t,this,function(n){return n&&zp.indexOf(n)===-1})},e.prototype.loadAppInsights=function(){var t=this;if(this.config.iKey){var n=this.trackPageView;this.trackPageView=function(a,o,s){n.apply(t,[null,a,o,s])}}var r="logPageView";typeof this.snippet[r]=="function"&&(this[r]=function(a,o,s){t.trackPageView(null,a,o,s)});var i="logEvent";return typeof this.snippet[i]=="function"&&(this[i]=function(a,o,s){t.trackEvent(a,o,s)}),this},e.prototype._processLegacyInitializers=function(t){return t.tags[ca]=this._queue,t},e}()}),Wp,rw=be(()=>{nw(),Hp(),pt(),Wp=function(){function e(){}return l(e,"t"),e.getAppInsights=function(t,n){var r=new Gu(t),i=n!==2;if(oa(),n===2)return r.updateSnippetDefinitions(t),r.loadAppInsights(i),r;var a=new qp(t,r);return a.updateSnippetDefinitions(t),r.loadAppInsights(i),a},e}()}),jp={};rm(jp,{AppInsightsCore:()=>Xc,ApplicationAnalytics:()=>Du,ApplicationInsights:()=>Gu,ApplicationInsightsContainer:()=>Wp,BaseCore:()=>Zc,BaseTelemetryPlugin:()=>Ei,CoreUtils:()=>qs,DependenciesPlugin:()=>Wu,DistributedTracingModes:()=>Jn,Event:()=>er,Exception:()=>An,LoggingSeverity:()=>Be,Metric:()=>hr,NotificationManager:()=>Qc,PageView:()=>tr,PageViewPerformance:()=>Fr,PerfEvent:()=>na,PerfManager:()=>Fc,PropertiesPlugin:()=>Pu,RemoteDependencyData:()=>pr,Sender:()=>$u,SeverityLevel:()=>co,Telemetry:()=>Up,Trace:()=>Dr,Util:()=>vu,_InternalMessageId:()=>Ae,doPerf:()=>ta});var iw=be(()=>{Hp(),rw(),pt(),nn(),bp(),lp(),Bp(),Pp()}),ln;(function(e){e.ON="on",e.ERROR="error",e.OFF="off"})(ln||(ln={}));function ya(){let e="telemetry",t="enableTelemetry";try{let n=d.env.telemetryConfiguration;return n.isUsageEnabled&&n.isErrorsEnabled&&n.isCrashEnabled?ln.ON:n.isErrorsEnabled&&n.isCrashEnabled?ln.ERROR:ln.OFF}catch(n){return d.env.isTelemetryEnabled!==void 0?d.env.isTelemetryEnabled?ln.ON:ln.OFF:d.workspace.getConfiguration(e).get(t)?ln.ON:ln.OFF}}l(ya,"At");var aw=l(class{constructor(e,t){this._isInstantiated=!1,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=t,this._key=e,ya()!==ln.OFF&&this.instantiateAppender()}logEvent(e,t){if(!this._telemetryClient){!this._isInstantiated&&ya()===ln.ON&&this._eventQueue.push({eventName:e,data:t});return}this._telemetryClient.logEvent(e,t)}logException(e,t){if(!this._telemetryClient){!this._isInstantiated&&ya()!==ln.OFF&&this._exceptionQueue.push({exception:e,data:t});return}this._telemetryClient.logException(e,t)}flush(){return rc(this,null,function*(){this._telemetryClient&&(yield this._telemetryClient.flush(),this._telemetryClient=void 0)})}_flushQueues(){this._eventQueue.forEach(({eventName:e,data:t})=>this.logEvent(e,t)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:e,data:t})=>this.logException(e,t)),this._exceptionQueue=[]}instantiateAppender(){this._isInstantiated||this._clientFactory(this._key).then(e=>{this._telemetryClient=e,this._isInstantiated=!0,this._flushQueues()}).catch(e=>{console.error(e)})}},"Fi"),ow=l(class{constructor(e,t,n,r,i){this.extensionId=e,this.extensionVersion=t,this.telemetryAppender=n,this.osShim=r,this.firstParty=!1,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this.firstParty=!!i,this.updateUserOptStatus(),d.env.onDidChangeTelemetryEnabled!==void 0?(this.disposables.push(d.env.onDidChangeTelemetryEnabled(()=>this.updateUserOptStatus())),this.disposables.push(d.workspace.onDidChangeConfiguration(()=>this.updateUserOptStatus()))):this.disposables.push(d.workspace.onDidChangeConfiguration(()=>this.updateUserOptStatus()))}updateUserOptStatus(){let e=ya();this.userOptIn=e===ln.ON,this.errorOptIn=e===ln.ERROR||this.userOptIn,(this.userOptIn||this.errorOptIn)&&this.telemetryAppender.instantiateAppender()}cleanRemoteName(e){if(!e)return"none";let t="other";return["ssh-remote","dev-container","attached-container","wsl","codespaces"].forEach(n=>{e.indexOf(`${n}`)===0&&(t=n)}),t}get extension(){return this._extension===void 0&&(this._extension=d.extensions.getExtension(this.extensionId)),this._extension}cloneAndChange(e,t){if(e===null||typeof e!="object"||typeof t!="function")return e;let n={};for(let r in e)n[r]=t(r,e[r]);return n}shouldSendErrorTelemetry(){return this.errorOptIn===!1?!1:this.firstParty?!(d.env.remoteName&&this.cleanRemoteName(d.env.remoteName)==="other"):!0}getCommonProperties(){let e=Object.create(null);if(e["common.os"]=this.osShim.platform,e["common.nodeArch"]=this.osShim.architecture,e["common.platformversion"]=(this.osShim.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),e["common.extname"]=this.extensionId,e["common.extversion"]=this.extensionVersion,d&&d.env){switch(e["common.vscodemachineid"]=d.env.machineId,e["common.vscodesessionid"]=d.env.sessionId,e["common.vscodeversion"]=d.version,e["common.isnewappinstall"]=d.env.isNewAppInstall?d.env.isNewAppInstall.toString():"false",e["common.product"]=d.env.appHost,d.env.uiKind){case d.UIKind.Web:e["common.uikind"]="web";break;case d.UIKind.Desktop:e["common.uikind"]="desktop";break;default:e["common.uikind"]="unknown"}e["common.remotename"]=this.cleanRemoteName(d.env.remoteName)}return e}anonymizeFilePaths(e,t){let n;if(e==null)return"";let r=[];d.env.appRoot!==""&&r.push(new RegExp(d.env.appRoot.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")),this.extension&&r.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"));let i=e;if(t){let a=[];for(let c of r)for(;(n=c.exec(e))&&n;)a.push([n.index,c.lastIndex]);let o=/^[\\/]?(node_modules|node_modules\.asar)[\\/]/,s=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-._]+(\\\\|\\|\/))+[\w-._]*/g,u=0;for(i="";(n=s.exec(e))&&n;)n[0]&&!o.test(n[0])&&a.every(([c,f])=>n.index<c||n.index>=f)&&(i+=e.substring(u,n.index)+"<REDACTED: user-file-path>",u=s.lastIndex);u<e.length&&(i+=e.substr(u))}for(let a of r)i=i.replace(a,"");return i}removePropertiesWithPossibleUserInfo(e){if(typeof e!="object")return;let t=Object.create(null);for(let n of Object.keys(e)){let r=e[n];if(!r)continue;let i=/@[a-zA-Z0-9-.]+/,a=/(key|token|sig|signature|password|passwd|pwd|android:value)[^a-zA-Z0-9]/,o=/xox[pbaors]-[a-zA-Z0-9]+-[a-zA-Z0-9-]+?/;a.test(r.toLowerCase())?t[n]="<REDACTED: secret>":i.test(r)?t[n]="<REDACTED: email>":o.test(r)?t[n]="<REDACTED: token>":t[n]=r}return t}get telemetryLevel(){switch(ya()){case ln.ON:return"all";case ln.ERROR:return"error";case ln.OFF:return"off"}}sendTelemetryEvent(e,t,n){if(this.userOptIn&&e!==""){t=On(On({},t),this.getCommonProperties());let r=this.cloneAndChange(t,(i,a)=>this.anonymizeFilePaths(a,this.firstParty));this.telemetryAppender.logEvent(`${this.extensionId}/${e}`,{properties:this.removePropertiesWithPossibleUserInfo(r),measurements:n})}}sendRawTelemetryEvent(e,t,n){this.userOptIn&&e!==""&&(t=On(On({},t),this.getCommonProperties()),this.telemetryAppender.logEvent(`${this.extensionId}/${e}`,{properties:t,measurements:n}))}sendTelemetryErrorEvent(e,t,n,r){if(this.errorOptIn&&e!==""){t=On(On({},t),this.getCommonProperties());let i=this.cloneAndChange(t,(a,o)=>this.shouldSendErrorTelemetry()?this.anonymizeFilePaths(o,this.firstParty):r===void 0||r.indexOf(a)!==-1?"REDACTED":this.anonymizeFilePaths(o,this.firstParty));this.telemetryAppender.logEvent(`${this.extensionId}/${e}`,{properties:this.removePropertiesWithPossibleUserInfo(i),measurements:n})}}sendTelemetryException(e,t,n){if(this.shouldSendErrorTelemetry()&&this.errorOptIn&&e){t=On(On({},t),this.getCommonProperties());let r=this.cloneAndChange(t,(i,a)=>this.anonymizeFilePaths(a,this.firstParty));e.stack&&(e.stack=this.anonymizeFilePaths(e.stack,this.firstParty)),this.telemetryAppender.logException(e,{properties:this.removePropertiesWithPossibleUserInfo(r),measurements:n})}}dispose(){return this.telemetryAppender.flush(),Promise.all(this.disposables.map(e=>e.dispose()))}},"ki"),sw=l(e=>rc(void 0,null,function*(){let t;try{let n=yield Promise.resolve().then(()=>(iw(),jp)),r;e&&e.indexOf("AIF-")===0&&(r="https://vortex.data.microsoft.com/collect/v1"),t=new n.ApplicationInsights({config:{instrumentationKey:e,endpointUrl:r,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!0,disableInstrumentationKeyValidation:!0}}),t.loadAppInsights();let i=ya();r&&i!==ln.OFF&&fetch(r).catch(()=>t=void 0)}catch(n){return Promise.reject(n)}return{logEvent:(n,r)=>{t==null||t.trackEvent({name:n},On(On({},r==null?void 0:r.properties),r==null?void 0:r.measurements))},logException:(n,r)=>{t==null||t.trackException({exception:n,properties:On(On({},r==null?void 0:r.properties),r==null?void 0:r.measurements)})},flush:()=>rc(void 0,null,function*(){t==null||t.flush()})}}),"Dl"),lw=l(class extends ow{constructor(e,t,n,r){let i=new aw(n,sw);n&&n.indexOf("AIF-")===0&&(r=!0);super(e,t,i,{release:navigator.appVersion,platform:"web",architecture:"web"},r)}},"xu");/*!
 * Microsoft Dynamic Proto Utility, 1.1.4
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */const cw="Type of classified event does not match event properties",Ku=l(class{constructor(e){this.context=e,this.sharedProperties={},Ku._instance=this,this.reporter=new lw(e.extension.id,e.extension.packageJSON.version,Ku.aiKey,!0)}static get instance(){return this._instance}dispose(){this.reporter.dispose()}publicLog2(e,t){t!==cw&&this.reporter.sendTelemetryEvent(e,{...this.sharedProperties,...t})}sendEvent(e,t,n){this.reporter.sendTelemetryEvent(e,{...this.sharedProperties,...t},n)}sendErrorEvent(e,t,n,r){this.reporter.sendTelemetryErrorEvent(e,{...this.sharedProperties,...t},n,r)}sendException(e,t,n){this.reporter.sendTelemetryException(e,{...this.sharedProperties,...t},n)}setSharedProperty(e,t){this.sharedProperties[e]=t}reportWorkbenchLoadResult(e){const t="_codespaces.webeditor.connectWorkspace";d.env.appHost==="github.dev"&&(le.debug(`Executing ${t}`),e={...e,errorDetail:e.errorDetail instanceof Error?e.errorDetail.name:void 0},d.commands.executeCommand(t,e).then(n=>{},n=>{le.debug(`Failed to execute ${t}`,n)}))}},"_TelemetryService");let Vp=Ku;Vp.aiKey="AIF-d9b70cd4-b9f9-4d70-929b-a071c400b217";let vo;var Zu;(function(e){function t(n){const r=fw(n);return vo=d.env.uiKind===d.UIKind.Web,le.warn(`Running on the ${vo?"web":"desktop"}${n.extensionRuntime!==d.ExtensionRuntime.Node?" in a webworker":""}; workspaceId=${r}; storageUri=${n.globalStorageUri.toString(!0)}`),r}l(t,"configure"),e.configure=t})(Zu||(Zu={}));const uw=/\/workspaceStorage\/(?<id>[^/]+)/i;function fw(e){var t;if(e.storageUri===void 0)return"";const n=uw.exec(e.storageUri.path);let r;if((t=n==null?void 0:n.groups)==null?void 0:t.id)r=n.groups.id;else{r=e.storageUri.path;const i=ji(e.globalStorageUri.path,r),a=`/${e.extension.id}`;r.endsWith(a)?r=r.slice(i,-a.length):r=r.substr(i)}return/-[0-9]$/.test(r)?r.slice(0,-2):r}l(fw,"getWorkspaceId");function Ib(e,t){return e.reduce((r,i)=>{const a=t(i),o=r.get(a);return o===void 0?r.set(a,[i]):o.push(i),r},new Map)}l(Ib,"groupBy");function dw(e){let t=0;for(const n of e){if(n===0)return!0;if(t++,t>8e3)break}return!1}l(dw,"isBinary");function Qu(e,t,n=r=>r){return[...e.reduce((i,a)=>{const o=t(a),s=i.get(o);if(s===void 0)i.set(o,a);else{const u=n(s,a);u!==void 0&&i.set(o,u)}return i},new Map).values()]}l(Qu,"uniqueBy");const $n=(0,Xe.loadMessageBundle)(),wo=l(class{constructor(e,t,n,r){this.providerService=e,this.storageService=t,this.changeStore=n,this.workspaceId=r,this._onDidChange=new d.EventEmitter,this.cache=new Map,this.lock=new Nt("WorkspaceRepositories"),this.disposable=d.Disposable.from(this.providerService.onDidChangeRepositories(this.onRepositoriesChanged,this),this.providerService.onDidChangeRepository(this.onRepositoryChanged,this),this.changeStore.onDidChange(this.onChangeStoreChanged,this))}get onDidChange(){return this._onDidChange.event}dispose(){this.disposable.dispose()}async exportDebugInfo(){const e=await d.workspace.openTextDocument({language:"json",content:`Remote Repositories

${this.toStorage(await this.getCore())}`});return void d.window.showTextDocument(e)}onChangeStoreChanged(e){const t=Qu(e.map(n=>n.rootUri),n=>x(n)).map(n=>this.providerService.getRepository(n)).filter(n=>Boolean(n));this.addOrUpdate(t)}onRepositoriesChanged(e){this.addOrUpdate(e.added)}onRepositoryChanged(e){this.addOrUpdate([e.repository])}async get(e){let t=await this.lock.synchronizeRead(async()=>{let n=this.cache.get("workspaceRepositories");return n===void 0&&(n=[...(await this.getCore()).values()].sort((r,i)=>i.timestamp-r.timestamp),this.cache.set("workspaceRepositories",n)),n},"WorkspaceRepositories.get");if(e){const n=x(e);t=t.filter(r=>x(r.canonicalUri)===n)}return t}async getCore(){return this.fromStorage(await this.storageService.get(wo.storageKey))}async getRecents(e=10){return(await this.get()).slice(0,e)}async getRemoteWorkspaceSourceProvider(e){const t=await this.getRecents();if(t.length!==0)return t.filter(n=>n.provider.id===e)}refresh(){this.cache.clear()}async remove(e){await this.lock.synchronizeWrite(async()=>{const t=await this.getCore(),n=`${e.workspaceId}/${x(e.uri)}`,r=t.get(n);if(r===void 0)return;const i=this.changeStore.getScopedChangeStore(r),a=await i.getChanges(r.uri);if(a.length!==0){const o={title:$n("remove remote repo prompt confirm","Yes")},s={title:$n("remove remote repo prompt cancel","No"),isCloseAffordance:!0};if(await d.window.showWarningMessage(a.length===1?$n("remove remote repo prompt file changed",`This repository contains 1 file with uncommitted changes.

Removing it will cause those changes to be FOREVER LOST.
This is IRREVERSIBLE!

Are you sure you still want to remove it?`):$n("remove remote repo prompt files changes",`This repository contains {0} files with uncommitted changes.

Removing it will cause those changes to be FOREVER LOST.
This is IRREVERSIBLE!

Are you sure you still want to remove it?`,a.length),{modal:!0},o,s)!==o)return;await i.discardAll(r.uri)}this.cache.clear(),t.delete(n);try{await this.storageService.store(wo.storageKey,this.toStorage(t))}catch(o){throw le.error(o,"Failed to save workspace repositories"),o}},"WorkspaceRepositories.remove"),this._onDidChange.fire()}async addOrUpdate(e){await this.lock.synchronizeWrite(async()=>{this.cache.clear();const t=await this.getCore();for(const n of e){const[{HEAD:r,pullRequest:i},a]=await Promise.all([n.getMetadata(),n.getIndexMetadata()]),o=await this.changeStore.getChanges(n.uri);t.set(`${this.workspaceId}/${x(n.uri)}`,{workspaceId:this.workspaceId,uri:n.uri,canonicalUri:n.canonicalUri,name:n.name,provider:n.provider,ref:{type:r.type,name:r.name},idx:(a==null?void 0:a.type)&&Ee.hasIndex(a.type)?{type:a.type}:void 0,pullRequest:i?{id:i.id}:void 0,changes:hw(o),timestamp:Date.now()})}try{await this.storageService.store(wo.storageKey,this.toStorage(t))}catch(n){throw le.error(n,"Failed to save workspace repositories"),n}},"WorkspaceRepositories.addOrUpdate"),this._onDidChange.fire()}fromStorage(e){if(!e)return new Map;try{const t=JSON.parse(e,(n,r)=>(n==="uri"||n.endsWith("Uri"))&&M(r)?d.Uri.from(r):r);return new Map(t.workspaceRepositories)}catch(t){return le.error(t,"Failed to deserialize workspace repositories"),new Map}}toStorage(e){const t={schemaVersion:wo.storageSchemaVersion,workspaceRepositories:[...e]};return JSON.stringify(t)}},"_WorkspaceRepositories");let Xu=wo;Xu.storageKey="workspaceRepositories",Xu.storageSchemaVersion=1;function Gp(e){return e!==void 0&&(e.added!==0||e.changed!==0||e.deleted!==0)}l(Gp,"hasChanges");function Tb(e){return Gp(e.changes)}l(Tb,"hasUncommittedChanges");function hw(e){let t=0,n=0,r=0;for(const i of e)switch(i.type){case Y.Created:t++;break;case Y.Changed:n++;break;case Y.Deleted:r++;break}return t||n||r?{added:t,changed:n,deleted:r,timestamp:Date.now()}:void 0}l(hw,"toChangesSummary");function Rb(e,{compact:t=!0,preamble:n,separator:r=", ",short:i=!1,single:a=!1}={}){if(!Gp(e))return $n("no changes","Everything up to date");const{added:o,changed:s,deleted:u}=e;if(a){const f=o+s+u;return f===1?$n("summary change","{0} change",f):$n("changes changes","{0} changes",f)}let c=`${n!=null?n:""}`;return(o||!t)&&(c+=i?`+${o}`:o===1?$n("file added","{0} file added",o):$n("files added","{0} files added",o),(s||u||!t)&&(c+=r)),(s||!t)&&(c+=i?`~${s}`:s===1?$n("file changed","{0} file changed",s):$n("files changed","{0} files changed",s),(u||!t)&&(c+=r)),(u||!t)&&(c+=i?`-${u}`:u===1?$n("file deleted","{0} file deleted",u):$n("files deleted","{0} files deleted",u)),c}l(Rb,"formatChangesSummary");var Yu=__webpack_require__(7360),pw=__webpack_require__(919),Ju=__webpack_require__.n(pw);function Kp(e,t,n){if(!(t==null?void 0:t.length)&&!(n==null?void 0:n.length))return new Set(e);let r;if(t==null?void 0:t.length){const i=new Set([...t,...t.map(o=>`${o}/**`)]),a=Ju()(e,[...i],{dot:!0,nocase:!0});r=new Set(a)}if(n==null?void 0:n.length){const i=new Set([...n,...n.map(a=>`${a}/**`)]);if(r===void 0){const a=Ju().not(e,[...i],{dot:!0,nocase:!0});r=new Set(a)}else Ju()(e,[...i],{dot:!0,nocase:!0}).forEach(r.delete,r)}return r}l(Kp,"globFilter");const gw="";function mw(...e){if(e.length===1){const t=e[0];return t===void 0?gw:typeof t=="string"?t:typeof t=="number"||typeof t=="boolean"||t instanceof Error?String(t):t instanceof d.Uri?t.toString():JSON.stringify(t)}return JSON.stringify(e)}l(mw,"serialize_defaultResolver");function ef(e){return(t,n,r)=>{let i;if(typeof r.value=="function"?i=r.value:typeof r.get=="function"&&(i=r.get),i===void 0)throw new Error("Not supported");const a=`$serialize$${n}`;r.value=function(...o){const s=o.length===0?a:`${a}$${(e!=null?e:mw)(...o)}`;Object.prototype.hasOwnProperty.call(this,s)||Object.defineProperty(this,s,{configurable:!1,enumerable:!1,writable:!0,value:void 0});let u=this[s];const c=l(()=>i.apply(this,o),"run");return u===void 0?u=c():u=u.then(c,c),this[s]=u,u}}}l(ef,"serialize");function*vw(e,t){for(const n of e)yield*t(n)}l(vw,"flatMap");function*kb(e,t){for(const n of e)t(n)&&(yield n)}l(kb,"filter");function*ul(e,t){for(const n of e){const r=t(n);r!=null&&(yield r)}}l(ul,"filterMap");function ww(e,t){for(const n of e)if(t(n))return n}l(ww,"find");function Db(e,t){let n="";const r=e[Symbol.iterator]();let i=r.next();if(i.done)return n;for(;;){const a=i.value.toString();if(i=r.next(),i.done){n+=a;break}n+=a,n+=t}return n}l(Db,"join");function*Zp(e,t){for(const n of e)yield t(n)}l(Zp,"map");function Fb(e,t){for(const n of e)if(t(n))return!0;return!1}l(Fb,"some");function*yw(...e){for(const t of e)for(const n of t)yield n}l(yw,"union");function*Nb(e){const t=new Set;for(const n of e)t.has(n)||(t.add(n),yield n)}l(Nb,"unique");function _w(e){return e.replace(/[\\{}*+?|^$.[\]()]/g,"\\$&")}l(_w,"escapeRegExpCharacters");function xw(e,t,n={}){if(!e)throw new Error("Cannot create regex from empty string");t||(e=_w(e)),n.wholeWord&&(/\B/.test(e.charAt(0))||(e=`\\b${e}`),/\B/.test(e.charAt(e.length-1))||(e=`${e}\\b`));let r="gmu";return n.matchCase||(r+="i"),new RegExp(e,r)}l(xw,"createRegExp");let Qp,Xp,tf;const bw=l((e,t,n,r)=>{const i=`${t.join("--")};;;;${n.join("--")}`,a=e.map(s=>s.path).join("::");if(Qp===a&&i==Xp&&tf)return tf;const o=Kp((r?e.filter(s=>s.size<r):e).map(s=>s.path),t,n);return Qp=a,Xp=i,tf=o,o},"generateIncludeSet"),Ew=l((e,t,n,r)=>{var i;const a=[];let o;if(typeof e=="string")o=e;else{const f=e;if(f[0]==255&&f[1]==254)o=new TextDecoder("utf-16le").decode(f);else if(f[0]==254&&f[1]==255)o=new TextDecoder("utf-16be").decode(f);else if(o=new TextDecoder("utf8").decode(f),o.slice(0,1e3).includes("\uFFFD")&&f.includes(0))return[]}const s=[];let u=null,c=r.remainingResultQuota;for(;(c===void 0||c>=0)&&(u=n.exec(o));)s.push({matchStartIndex:u.index,matchedText:u[0]}),c!==void 0&&c--;if(s.length){const f=new Set,v=new Set,g=[],w=l($=>o.slice(g[$].start,g[$].end),"readLine");let A=0,T=null;const C=/\r?\n/g;for(;T=C.exec(o);)g.push({start:A,end:T.index}),A=T.index+T[0].length;A<o.length&&g.push({start:A,end:o.length});let D=0;for(const{matchStartIndex:$,matchedText:V}of s){if(c!==void 0&&c<0)break;for(;Boolean(g[D+1])&&$>g[D].end;)D++;let q=D;for(;Boolean(g[q+1])&&$+V.length>g[q].end;)q++;if(r.beforeContext)for(let fe=Math.max(0,D-r.beforeContext);fe<D;fe++)f.add(fe);let ee="",_e=0;for(let fe=D;fe<=q;fe++){let De=w(fe);((i=r.previewOptions)==null?void 0:i.charsPerLine)&&De.length>r.previewOptions.charsPerLine&&(_e=Math.max($-g[D].start-20,0),De=De.substr(_e,r.previewOptions.charsPerLine)),ee+=`${De}
`,v.add(fe)}const ge=new d.Range(D,$-g[D].start,q,$+V.length-g[q].start),de=new d.Range(0,$-g[D].start-_e,q-D,$+V.length-g[q].start-(q===D?_e:0)),Ie={uri:d.Uri.file(t),ranges:ge,preview:{text:ee,matches:de}};if(a.push(Ie),r.afterContext)for(let fe=q+1;fe<=Math.min(q+r.afterContext,g.length-1);fe++)f.add(fe)}for(const $ of f)v.has($)||a.push({uri:d.Uri.file(t),text:w($),lineNumber:$+1})}return a},"getFileResults");/*! pako 2.0.4 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Sw=4,Yp=0,Jp=1,Cw=2;function _a(e){let t=e.length;for(;--t>=0;)e[t]=0}l(_a,"zero$1");const Aw=0,eg=1,Iw=2,Tw=3,Rw=258,nf=29,yo=256,_o=yo+1+nf,xa=30,rf=19,tg=2*_o+1,Di=15,af=16,kw=7,of=256,ng=16,rg=17,ig=18,sf=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),fl=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Dw=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),ag=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Fw=512,Br=new Array((_o+2)*2);_a(Br);const xo=new Array(xa*2);_a(xo);const bo=new Array(Fw);_a(bo);const Eo=new Array(Rw-Tw+1);_a(Eo);const lf=new Array(nf);_a(lf);const dl=new Array(xa);_a(dl);function cf(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}l(cf,"StaticTreeDesc");let og,sg,lg;function uf(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}l(uf,"TreeDesc");const cg=l(e=>e<256?bo[e]:bo[256+(e>>>7)],"d_code"),So=l((e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},"put_short"),Dn=l((e,t,n)=>{e.bi_valid>af-n?(e.bi_buf|=t<<e.bi_valid&65535,So(e,e.bi_buf),e.bi_buf=t>>af-e.bi_valid,e.bi_valid+=n-af):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},"send_bits"),mr=l((e,t,n)=>{Dn(e,n[t*2],n[t*2+1])},"send_code"),ug=l((e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},"bi_reverse"),Nw=l(e=>{e.bi_valid===16?(So(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},"bi_flush"),Lw=l((e,t)=>{const n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,a=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,u=t.stat_desc.max_length;let c,f,v,g,w,A,T=0;for(g=0;g<=Di;g++)e.bl_count[g]=0;for(n[e.heap[e.heap_max]*2+1]=0,c=e.heap_max+1;c<tg;c++)f=e.heap[c],g=n[n[f*2+1]*2+1]+1,g>u&&(g=u,T++),n[f*2+1]=g,!(f>r)&&(e.bl_count[g]++,w=0,f>=s&&(w=o[f-s]),A=n[f*2],e.opt_len+=A*(g+w),a&&(e.static_len+=A*(i[f*2+1]+w)));if(T!==0){do{for(g=u-1;e.bl_count[g]===0;)g--;e.bl_count[g]--,e.bl_count[g+1]+=2,e.bl_count[u]--,T-=2}while(T>0);for(g=u;g!==0;g--)for(f=e.bl_count[g];f!==0;)v=e.heap[--c],!(v>r)&&(n[v*2+1]!==g&&(e.opt_len+=(g-n[v*2+1])*n[v*2],n[v*2+1]=g),f--)}},"gen_bitlen"),fg=l((e,t,n)=>{const r=new Array(Di+1);let i=0,a,o;for(a=1;a<=Di;a++)r[a]=i=i+n[a-1]<<1;for(o=0;o<=t;o++){let s=e[o*2+1];s!==0&&(e[o*2]=ug(r[s]++,s))}},"gen_codes"),Bw=l(()=>{let e,t,n,r,i;const a=new Array(Di+1);for(n=0,r=0;r<nf-1;r++)for(lf[r]=n,e=0;e<1<<sf[r];e++)Eo[n++]=r;for(Eo[n-1]=r,i=0,r=0;r<16;r++)for(dl[r]=i,e=0;e<1<<fl[r];e++)bo[i++]=r;for(i>>=7;r<xa;r++)for(dl[r]=i<<7,e=0;e<1<<fl[r]-7;e++)bo[256+i++]=r;for(t=0;t<=Di;t++)a[t]=0;for(e=0;e<=143;)Br[e*2+1]=8,e++,a[8]++;for(;e<=255;)Br[e*2+1]=9,e++,a[9]++;for(;e<=279;)Br[e*2+1]=7,e++,a[7]++;for(;e<=287;)Br[e*2+1]=8,e++,a[8]++;for(fg(Br,_o+1,a),e=0;e<xa;e++)xo[e*2+1]=5,xo[e*2]=ug(e,5);og=new cf(Br,sf,yo+1,_o,Di),sg=new cf(xo,fl,0,xa,Di),lg=new cf(new Array(0),Dw,0,rf,kw)},"tr_static_init"),dg=l(e=>{let t;for(t=0;t<_o;t++)e.dyn_ltree[t*2]=0;for(t=0;t<xa;t++)e.dyn_dtree[t*2]=0;for(t=0;t<rf;t++)e.bl_tree[t*2]=0;e.dyn_ltree[of*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},"init_block"),hg=l(e=>{e.bi_valid>8?So(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},"bi_windup"),$w=l((e,t,n,r)=>{hg(e),r&&(So(e,n),So(e,~n)),e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},"copy_block"),pg=l((e,t,n,r)=>{const i=t*2,a=n*2;return e[i]<e[a]||e[i]===e[a]&&r[t]<=r[n]},"smaller"),ff=l((e,t,n)=>{const r=e.heap[n];let i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&pg(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!pg(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},"pqdownheap"),gg=l((e,t,n)=>{let r,i,a=0,o,s;if(e.last_lit!==0)do r=e.pending_buf[e.d_buf+a*2]<<8|e.pending_buf[e.d_buf+a*2+1],i=e.pending_buf[e.l_buf+a],a++,r===0?mr(e,i,t):(o=Eo[i],mr(e,o+yo+1,t),s=sf[o],s!==0&&(i-=lf[o],Dn(e,i,s)),r--,o=cg(r),mr(e,o,n),s=fl[o],s!==0&&(r-=dl[o],Dn(e,r,s)));while(a<e.last_lit);mr(e,of,t)},"compress_block"),df=l((e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,a=t.stat_desc.elems;let o,s,u=-1,c;for(e.heap_len=0,e.heap_max=tg,o=0;o<a;o++)n[o*2]!==0?(e.heap[++e.heap_len]=u=o,e.depth[o]=0):n[o*2+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=u<2?++u:0,n[c*2]=1,e.depth[c]=0,e.opt_len--,i&&(e.static_len-=r[c*2+1]);for(t.max_code=u,o=e.heap_len>>1;o>=1;o--)ff(e,n,o);c=a;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],ff(e,n,1),s=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=s,n[c*2]=n[o*2]+n[s*2],e.depth[c]=(e.depth[o]>=e.depth[s]?e.depth[o]:e.depth[s])+1,n[o*2+1]=n[s*2+1]=c,e.heap[1]=c++,ff(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],Lw(e,t),fg(n,u,e.bl_count)},"build_tree"),mg=l((e,t,n)=>{let r,i=-1,a,o=t[0*2+1],s=0,u=7,c=4;for(o===0&&(u=138,c=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)a=o,o=t[(r+1)*2+1],!(++s<u&&a===o)&&(s<c?e.bl_tree[a*2]+=s:a!==0?(a!==i&&e.bl_tree[a*2]++,e.bl_tree[ng*2]++):s<=10?e.bl_tree[rg*2]++:e.bl_tree[ig*2]++,s=0,i=a,o===0?(u=138,c=3):a===o?(u=6,c=3):(u=7,c=4))},"scan_tree"),vg=l((e,t,n)=>{let r,i=-1,a,o=t[0*2+1],s=0,u=7,c=4;for(o===0&&(u=138,c=3),r=0;r<=n;r++)if(a=o,o=t[(r+1)*2+1],!(++s<u&&a===o)){if(s<c)do mr(e,a,e.bl_tree);while(--s!=0);else a!==0?(a!==i&&(mr(e,a,e.bl_tree),s--),mr(e,ng,e.bl_tree),Dn(e,s-3,2)):s<=10?(mr(e,rg,e.bl_tree),Dn(e,s-3,3)):(mr(e,ig,e.bl_tree),Dn(e,s-11,7));s=0,i=a,o===0?(u=138,c=3):a===o?(u=6,c=3):(u=7,c=4)}},"send_tree"),Mw=l(e=>{let t;for(mg(e,e.dyn_ltree,e.l_desc.max_code),mg(e,e.dyn_dtree,e.d_desc.max_code),df(e,e.bl_desc),t=rf-1;t>=3&&e.bl_tree[ag[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},"build_bl_tree"),Pw=l((e,t,n,r)=>{let i;for(Dn(e,t-257,5),Dn(e,n-1,5),Dn(e,r-4,4),i=0;i<r;i++)Dn(e,e.bl_tree[ag[i]*2+1],3);vg(e,e.dyn_ltree,t-1),vg(e,e.dyn_dtree,n-1)},"send_all_trees"),Ow=l(e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return Yp;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return Jp;for(n=32;n<yo;n++)if(e.dyn_ltree[n*2]!==0)return Jp;return Yp},"detect_data_type");let wg=!1;const Uw=l(e=>{wg||(Bw(),wg=!0),e.l_desc=new uf(e.dyn_ltree,og),e.d_desc=new uf(e.dyn_dtree,sg),e.bl_desc=new uf(e.bl_tree,lg),e.bi_buf=0,e.bi_valid=0,dg(e)},"_tr_init$1"),yg=l((e,t,n,r)=>{Dn(e,(Aw<<1)+(r?1:0),3),$w(e,t,n,!0)},"_tr_stored_block$1"),Hw=l(e=>{Dn(e,eg<<1,3),mr(e,of,Br),Nw(e)},"_tr_align$1"),zw=l((e,t,n,r)=>{let i,a,o=0;e.level>0?(e.strm.data_type===Cw&&(e.strm.data_type=Ow(e)),df(e,e.l_desc),df(e,e.d_desc),o=Mw(e),i=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=i&&(i=a)):i=a=n+5,n+4<=i&&t!==-1?yg(e,t,n,r):e.strategy===Sw||a===i?(Dn(e,(eg<<1)+(r?1:0),3),gg(e,Br,xo)):(Dn(e,(Iw<<1)+(r?1:0),3),Pw(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),gg(e,e.dyn_ltree,e.dyn_dtree)),dg(e),r&&hg(e)},"_tr_flush_block$1"),qw=l((e,t,n)=>(e.pending_buf[e.d_buf+e.last_lit*2]=t>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=t&255,e.pending_buf[e.l_buf+e.last_lit]=n&255,e.last_lit++,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(Eo[n]+yo+1)*2]++,e.dyn_dtree[cg(t)*2]++),e.last_lit===e.lit_bufsize-1),"_tr_tally$1");var Ww=Uw,jw=yg,Vw=zw,Gw=qw,Kw=Hw,Zw={_tr_init:Ww,_tr_stored_block:jw,_tr_flush_block:Vw,_tr_tally:Gw,_tr_align:Kw},Co=l((e,t,n,r)=>{let i=e&65535|0,a=e>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do i=i+t[r++]|0,a=a+i|0;while(--o);i%=65521,a%=65521}return i|a<<16|0},"adler32");const Qw=l(()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},"makeTable"),Xw=new Uint32Array(Qw());var cn=l((e,t,n,r)=>{const i=Xw,a=r+n;e^=-1;for(let o=r;o<a;o++)e=e>>>8^i[(e^t[o])&255];return e^-1},"crc32"),Fi={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ni={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Yw,_tr_stored_block:Jw,_tr_flush_block:ey,_tr_tally:ni,_tr_align:ty}=Zw,{Z_NO_FLUSH:Li,Z_PARTIAL_FLUSH:ny,Z_FULL_FLUSH:ry,Z_FINISH:ri,Z_BLOCK:_g,Z_OK:vr,Z_STREAM_END:xg,Z_STREAM_ERROR:qn,Z_DATA_ERROR:iy,Z_BUF_ERROR:hf,Z_DEFAULT_COMPRESSION:ay,Z_FILTERED:oy,Z_HUFFMAN_ONLY:hl,Z_RLE:sy,Z_FIXED:ly,Z_DEFAULT_STRATEGY:cy,Z_UNKNOWN:uy,Z_DEFLATED:pl}=Ni,fy=9,dy=15,hy=8,py=29,pf=256+1+py,gy=30,my=19,vy=2*pf+1,wy=15,mt=3,ii=258,nr=ii+mt+1,yy=32,gl=42,gf=69,ml=73,vl=91,wl=103,Bi=113,Ao=666,an=1,Io=2,$i=3,ba=4,_y=3,ai=l((e,t)=>(e.msg=Fi[t],t),"err"),bg=l(e=>(e<<1)-(e>4?9:0),"rank"),oi=l(e=>{let t=e.length;for(;--t>=0;)e[t]=0},"zero");let si=l((e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask,"HASH_ZLIB");const li=l(e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},"flush_pending"),dn=l((e,t)=>{ey(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,li(e.strm)},"flush_block_only"),St=l((e,t)=>{e.pending_buf[e.pending++]=t},"put_byte"),To=l((e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},"putShortMSB"),xy=l((e,t,n,r)=>{let i=e.avail_in;return i>r&&(i=r),i===0?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),e.state.wrap===1?e.adler=Co(e.adler,t,i,n):e.state.wrap===2&&(e.adler=cn(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},"read_buf"),Eg=l((e,t)=>{let n=e.max_chain_length,r=e.strstart,i,a,o=e.prev_length,s=e.nice_match;const u=e.strstart>e.w_size-nr?e.strstart-(e.w_size-nr):0,c=e.window,f=e.w_mask,v=e.prev,g=e.strstart+ii;let w=c[r+o-1],A=c[r+o];e.prev_length>=e.good_match&&(n>>=2),s>e.lookahead&&(s=e.lookahead);do if(i=t,!(c[i+o]!==A||c[i+o-1]!==w||c[i]!==c[r]||c[++i]!==c[r+1])){r+=2,i++;do;while(c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&r<g);if(a=ii-(g-r),r=g-ii,a>o){if(e.match_start=t,o=a,a>=s)break;w=c[r+o-1],A=c[r+o]}}while((t=v[t&f])>u&&--n!=0);return o<=e.lookahead?o:e.lookahead},"longest_match"),Mi=l(e=>{const t=e.w_size;let n,r,i,a,o;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-nr)){e.window.set(e.window.subarray(t,t+t),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,r=e.hash_size,n=r;do i=e.head[--n],e.head[n]=i>=t?i-t:0;while(--r);r=t,n=r;do i=e.prev[--n],e.prev[n]=i>=t?i-t:0;while(--r);a+=t}if(e.strm.avail_in===0)break;if(r=xy(e.strm,e.window,e.strstart+e.lookahead,a),e.lookahead+=r,e.lookahead+e.insert>=mt)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=si(e,e.ins_h,e.window[o+1]);e.insert&&(e.ins_h=si(e,e.ins_h,e.window[o+mt-1]),e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<mt)););}while(e.lookahead<nr&&e.strm.avail_in!==0)},"fill_window"),by=l((e,t)=>{let n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Mi(e),e.lookahead===0&&t===Li)return an;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;const r=e.block_start+n;if((e.strstart===0||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,dn(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-nr&&(dn(e,!1),e.strm.avail_out===0))return an}return e.insert=0,t===ri?(dn(e,!0),e.strm.avail_out===0?$i:ba):(e.strstart>e.block_start&&(dn(e,!1),e.strm.avail_out===0),an)},"deflate_stored"),mf=l((e,t)=>{let n,r;for(;;){if(e.lookahead<nr){if(Mi(e),e.lookahead<nr&&t===Li)return an;if(e.lookahead===0)break}if(n=0,e.lookahead>=mt&&(e.ins_h=si(e,e.ins_h,e.window[e.strstart+mt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-nr&&(e.match_length=Eg(e,n)),e.match_length>=mt)if(r=ni(e,e.strstart-e.match_start,e.match_length-mt),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=mt){e.match_length--;do e.strstart++,e.ins_h=si(e,e.ins_h,e.window[e.strstart+mt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!=0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=si(e,e.ins_h,e.window[e.strstart+1]);else r=ni(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(dn(e,!1),e.strm.avail_out===0))return an}return e.insert=e.strstart<mt-1?e.strstart:mt-1,t===ri?(dn(e,!0),e.strm.avail_out===0?$i:ba):e.last_lit&&(dn(e,!1),e.strm.avail_out===0)?an:Io},"deflate_fast"),Ea=l((e,t)=>{let n,r,i;for(;;){if(e.lookahead<nr){if(Mi(e),e.lookahead<nr&&t===Li)return an;if(e.lookahead===0)break}if(n=0,e.lookahead>=mt&&(e.ins_h=si(e,e.ins_h,e.window[e.strstart+mt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=mt-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-nr&&(e.match_length=Eg(e,n),e.match_length<=5&&(e.strategy===oy||e.match_length===mt&&e.strstart-e.match_start>4096)&&(e.match_length=mt-1)),e.prev_length>=mt&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-mt,r=ni(e,e.strstart-1-e.prev_match,e.prev_length-mt),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=si(e,e.ins_h,e.window[e.strstart+mt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!=0);if(e.match_available=0,e.match_length=mt-1,e.strstart++,r&&(dn(e,!1),e.strm.avail_out===0))return an}else if(e.match_available){if(r=ni(e,0,e.window[e.strstart-1]),r&&dn(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return an}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=ni(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<mt-1?e.strstart:mt-1,t===ri?(dn(e,!0),e.strm.avail_out===0?$i:ba):e.last_lit&&(dn(e,!1),e.strm.avail_out===0)?an:Io},"deflate_slow"),Ey=l((e,t)=>{let n,r,i,a;const o=e.window;for(;;){if(e.lookahead<=ii){if(Mi(e),e.lookahead<=ii&&t===Li)return an;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=mt&&e.strstart>0&&(i=e.strstart-1,r=o[i],r===o[++i]&&r===o[++i]&&r===o[++i])){a=e.strstart+ii;do;while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<a);e.match_length=ii-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=mt?(n=ni(e,1,e.match_length-mt),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=ni(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(dn(e,!1),e.strm.avail_out===0))return an}return e.insert=0,t===ri?(dn(e,!0),e.strm.avail_out===0?$i:ba):e.last_lit&&(dn(e,!1),e.strm.avail_out===0)?an:Io},"deflate_rle"),Sy=l((e,t)=>{let n;for(;;){if(e.lookahead===0&&(Mi(e),e.lookahead===0)){if(t===Li)return an;break}if(e.match_length=0,n=ni(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(dn(e,!1),e.strm.avail_out===0))return an}return e.insert=0,t===ri?(dn(e,!0),e.strm.avail_out===0?$i:ba):e.last_lit&&(dn(e,!1),e.strm.avail_out===0)?an:Io},"deflate_huff");function wr(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}l(wr,"Config");const Ro=[new wr(0,0,0,0,by),new wr(4,4,8,4,mf),new wr(4,5,16,8,mf),new wr(4,6,32,32,mf),new wr(4,4,16,16,Ea),new wr(8,16,32,32,Ea),new wr(8,16,128,128,Ea),new wr(8,32,128,256,Ea),new wr(32,128,258,1024,Ea),new wr(32,258,258,4096,Ea)],Cy=l(e=>{e.window_size=2*e.w_size,oi(e.head),e.max_lazy_match=Ro[e.level].max_lazy,e.good_match=Ro[e.level].good_length,e.nice_match=Ro[e.level].nice_length,e.max_chain_length=Ro[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=mt-1,e.match_available=0,e.ins_h=0},"lm_init");function Ay(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=pl,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(vy*2),this.dyn_dtree=new Uint16Array((2*gy+1)*2),this.bl_tree=new Uint16Array((2*my+1)*2),oi(this.dyn_ltree),oi(this.dyn_dtree),oi(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(wy+1),this.heap=new Uint16Array(2*pf+1),oi(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*pf+1),oi(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}l(Ay,"DeflateState");const Sg=l(e=>{if(!e||!e.state)return ai(e,qn);e.total_in=e.total_out=0,e.data_type=uy;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?gl:Bi,e.adler=t.wrap===2?0:1,t.last_flush=Li,Yw(t),vr},"deflateResetKeep"),Cg=l(e=>{const t=Sg(e);return t===vr&&Cy(e.state),t},"deflateReset"),Iy=l((e,t)=>!e||!e.state||e.state.wrap!==2?qn:(e.state.gzhead=t,vr),"deflateSetHeader"),Ag=l((e,t,n,r,i,a)=>{if(!e)return qn;let o=1;if(t===ay&&(t=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),i<1||i>fy||n!==pl||r<8||r>15||t<0||t>9||a<0||a>ly)return ai(e,qn);r===8&&(r=9);const s=new Ay;return e.state=s,s.strm=e,s.wrap=o,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+mt-1)/mt),s.window=new Uint8Array(s.w_size*2),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=new Uint8Array(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=(1+2)*s.lit_bufsize,s.level=t,s.strategy=a,s.method=n,Cg(e)},"deflateInit2"),Ty=l((e,t)=>Ag(e,t,pl,dy,hy,cy),"deflateInit"),Ry=l((e,t)=>{let n,r;if(!e||!e.state||t>_g||t<0)return e?ai(e,qn):qn;const i=e.state;if(!e.output||!e.input&&e.avail_in!==0||i.status===Ao&&t!==ri)return ai(e,e.avail_out===0?hf:qn);i.strm=e;const a=i.last_flush;if(i.last_flush=t,i.status===gl)if(i.wrap===2)e.adler=0,St(i,31),St(i,139),St(i,8),i.gzhead?(St(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),St(i,i.gzhead.time&255),St(i,i.gzhead.time>>8&255),St(i,i.gzhead.time>>16&255),St(i,i.gzhead.time>>24&255),St(i,i.level===9?2:i.strategy>=hl||i.level<2?4:0),St(i,i.gzhead.os&255),i.gzhead.extra&&i.gzhead.extra.length&&(St(i,i.gzhead.extra.length&255),St(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=cn(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=gf):(St(i,0),St(i,0),St(i,0),St(i,0),St(i,0),St(i,i.level===9?2:i.strategy>=hl||i.level<2?4:0),St(i,_y),i.status=Bi);else{let o=pl+(i.w_bits-8<<4)<<8,s=-1;i.strategy>=hl||i.level<2?s=0:i.level<6?s=1:i.level===6?s=2:s=3,o|=s<<6,i.strstart!==0&&(o|=yy),o+=31-o%31,i.status=Bi,To(i,o),i.strstart!==0&&(To(i,e.adler>>>16),To(i,e.adler&65535)),e.adler=1}if(i.status===gf)if(i.gzhead.extra){for(n=i.pending;i.gzindex<(i.gzhead.extra.length&65535)&&!(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=cn(e.adler,i.pending_buf,i.pending-n,n)),li(e),n=i.pending,i.pending===i.pending_buf_size));)St(i,i.gzhead.extra[i.gzindex]&255),i.gzindex++;i.gzhead.hcrc&&i.pending>n&&(e.adler=cn(e.adler,i.pending_buf,i.pending-n,n)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=ml)}else i.status=ml;if(i.status===ml)if(i.gzhead.name){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=cn(e.adler,i.pending_buf,i.pending-n,n)),li(e),n=i.pending,i.pending===i.pending_buf_size)){r=1;break}i.gzindex<i.gzhead.name.length?r=i.gzhead.name.charCodeAt(i.gzindex++)&255:r=0,St(i,r)}while(r!==0);i.gzhead.hcrc&&i.pending>n&&(e.adler=cn(e.adler,i.pending_buf,i.pending-n,n)),r===0&&(i.gzindex=0,i.status=vl)}else i.status=vl;if(i.status===vl)if(i.gzhead.comment){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=cn(e.adler,i.pending_buf,i.pending-n,n)),li(e),n=i.pending,i.pending===i.pending_buf_size)){r=1;break}i.gzindex<i.gzhead.comment.length?r=i.gzhead.comment.charCodeAt(i.gzindex++)&255:r=0,St(i,r)}while(r!==0);i.gzhead.hcrc&&i.pending>n&&(e.adler=cn(e.adler,i.pending_buf,i.pending-n,n)),r===0&&(i.status=wl)}else i.status=wl;if(i.status===wl&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&li(e),i.pending+2<=i.pending_buf_size&&(St(i,e.adler&255),St(i,e.adler>>8&255),e.adler=0,i.status=Bi)):i.status=Bi),i.pending!==0){if(li(e),e.avail_out===0)return i.last_flush=-1,vr}else if(e.avail_in===0&&bg(t)<=bg(a)&&t!==ri)return ai(e,hf);if(i.status===Ao&&e.avail_in!==0)return ai(e,hf);if(e.avail_in!==0||i.lookahead!==0||t!==Li&&i.status!==Ao){let o=i.strategy===hl?Sy(i,t):i.strategy===sy?Ey(i,t):Ro[i.level].func(i,t);if((o===$i||o===ba)&&(i.status=Ao),o===an||o===$i)return e.avail_out===0&&(i.last_flush=-1),vr;if(o===Io&&(t===ny?ty(i):t!==_g&&(Jw(i,0,0,!1),t===ry&&(oi(i.head),i.lookahead===0&&(i.strstart=0,i.block_start=0,i.insert=0))),li(e),e.avail_out===0))return i.last_flush=-1,vr}return t!==ri?vr:i.wrap<=0?xg:(i.wrap===2?(St(i,e.adler&255),St(i,e.adler>>8&255),St(i,e.adler>>16&255),St(i,e.adler>>24&255),St(i,e.total_in&255),St(i,e.total_in>>8&255),St(i,e.total_in>>16&255),St(i,e.total_in>>24&255)):(To(i,e.adler>>>16),To(i,e.adler&65535)),li(e),i.wrap>0&&(i.wrap=-i.wrap),i.pending!==0?vr:xg)},"deflate$2"),ky=l(e=>{if(!e||!e.state)return qn;const t=e.state.status;return t!==gl&&t!==gf&&t!==ml&&t!==vl&&t!==wl&&t!==Bi&&t!==Ao?ai(e,qn):(e.state=null,t===Bi?ai(e,iy):vr)},"deflateEnd"),Dy=l((e,t)=>{let n=t.length;if(!e||!e.state)return qn;const r=e.state,i=r.wrap;if(i===2||i===1&&r.status!==gl||r.lookahead)return qn;if(i===1&&(e.adler=Co(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){i===0&&(oi(r.head),r.strstart=0,r.block_start=0,r.insert=0);let u=new Uint8Array(r.w_size);u.set(t.subarray(n-r.w_size,n),0),t=u,n=r.w_size}const a=e.avail_in,o=e.next_in,s=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Mi(r);r.lookahead>=mt;){let u=r.strstart,c=r.lookahead-(mt-1);do r.ins_h=si(r,r.ins_h,r.window[u+mt-1]),r.prev[u&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=u,u++;while(--c);r.strstart=u,r.lookahead=mt-1,Mi(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=mt-1,r.match_available=0,e.next_in=o,e.input=s,e.avail_in=a,r.wrap=i,vr},"deflateSetDictionary");var Fy=Ty,Ny=Ag,Ly=Cg,By=Sg,$y=Iy,My=Ry,Py=ky,Oy=Dy,Uy="pako deflate (from Nodeca project)",ko={deflateInit:Fy,deflateInit2:Ny,deflateReset:Ly,deflateResetKeep:By,deflateSetHeader:$y,deflate:My,deflateEnd:Py,deflateSetDictionary:Oy,deflateInfo:Uy};const Hy=l((e,t)=>Object.prototype.hasOwnProperty.call(e,t),"_has");var zy=l(function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(!!n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)Hy(n,r)&&(e[r]=n[r])}}return e},"pako_esm_assign"),qy=l(e=>{let t=0;for(let r=0,i=e.length;r<i;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,i=0,a=e.length;r<a;r++){let o=e[r];n.set(o,i),i+=o.length}return n},"flattenChunks"),yl={assign:zy,flattenChunks:qy};let Ig=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){Ig=!1}const Do=new Uint8Array(256);for(let e=0;e<256;e++)Do[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Do[254]=Do[254]=1;var Wy=l(e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,i,a,o=e.length,s=0;for(i=0;i<o;i++)n=e.charCodeAt(i),(n&64512)==55296&&i+1<o&&(r=e.charCodeAt(i+1),(r&64512)==56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),a=0,i=0;a<s;i++)n=e.charCodeAt(i),(n&64512)==55296&&i+1<o&&(r=e.charCodeAt(i+1),(r&64512)==56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|n&63):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|n&63):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|n&63);return t},"string2buf");const jy=l((e,t)=>{if(t<65534&&e.subarray&&Ig)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n},"buf2binstring");var Vy=l((e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,i;const a=new Array(n*2);for(i=0,r=0;r<n;){let o=e[r++];if(o<128){a[i++]=o;continue}let s=Do[o];if(s>4){a[i++]=65533,r+=s-1;continue}for(o&=s===2?31:s===3?15:7;s>1&&r<n;)o=o<<6|e[r++]&63,s--;if(s>1){a[i++]=65533;continue}o<65536?a[i++]=o:(o-=65536,a[i++]=55296|o>>10&1023,a[i++]=56320|o&1023)}return jy(a,i)},"buf2string"),Gy=l((e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)==128;)n--;return n<0||n===0?t:n+Do[e[n]]>t?n:t},"utf8border"),Fo={string2buf:Wy,buf2string:Vy,utf8border:Gy};function Ky(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}l(Ky,"ZStream");var Tg=Ky;const Rg=Object.prototype.toString,{Z_NO_FLUSH:Zy,Z_SYNC_FLUSH:Qy,Z_FULL_FLUSH:Xy,Z_FINISH:Yy,Z_OK:_l,Z_STREAM_END:Jy,Z_DEFAULT_COMPRESSION:e_,Z_DEFAULT_STRATEGY:t_,Z_DEFLATED:n_}=Ni;function No(e){this.options=yl.assign({level:e_,method:n_,chunkSize:16384,windowBits:15,memLevel:8,strategy:t_},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Tg,this.strm.avail_out=0;let n=ko.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==_l)throw new Error(Fi[n]);if(t.header&&ko.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(typeof t.dictionary=="string"?r=Fo.string2buf(t.dictionary):Rg.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=ko.deflateSetDictionary(this.strm,r),n!==_l)throw new Error(Fi[n]);this._dict_set=!0}}l(No,"Deflate$1"),No.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let i,a;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?Yy:Zy,typeof e=="string"?n.input=Fo.string2buf(e):Rg.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(a===Qy||a===Xy)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=ko.deflate(n,a),i===Jy)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=ko.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===_l;if(n.avail_out===0){this.onData(n.output);continue}if(a>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0},No.prototype.onData=function(e){this.chunks.push(e)},No.prototype.onEnd=function(e){e===_l&&(this.result=yl.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function vf(e,t){const n=new No(t);if(n.push(e,!0),n.err)throw n.msg||Fi[n.err];return n.result}l(vf,"deflate$1");function r_(e,t){return t=t||{},t.raw=!0,vf(e,t)}l(r_,"deflateRaw$1");function i_(e,t){return t=t||{},t.gzip=!0,vf(e,t)}l(i_,"gzip$1");var a_=No,o_=vf,s_=r_,l_=i_,c_=Ni,u_={Deflate:a_,deflate:o_,deflateRaw:s_,gzip:l_,constants:c_};const xl=30,f_=12;var d_=l(function(t,n){let r,i,a,o,s,u,c,f,v,g,w,A,T,C,D,$,V,q,ee,_e,ge,de,Ie,fe;const De=t.state;r=t.next_in,Ie=t.input,i=r+(t.avail_in-5),a=t.next_out,fe=t.output,o=a-(n-t.avail_out),s=a+(t.avail_out-257),u=De.dmax,c=De.wsize,f=De.whave,v=De.wnext,g=De.window,w=De.hold,A=De.bits,T=De.lencode,C=De.distcode,D=(1<<De.lenbits)-1,$=(1<<De.distbits)-1;e:do{A<15&&(w+=Ie[r++]<<A,A+=8,w+=Ie[r++]<<A,A+=8),V=T[w&D];t:for(;;){if(q=V>>>24,w>>>=q,A-=q,q=V>>>16&255,q===0)fe[a++]=V&65535;else if(q&16){ee=V&65535,q&=15,q&&(A<q&&(w+=Ie[r++]<<A,A+=8),ee+=w&(1<<q)-1,w>>>=q,A-=q),A<15&&(w+=Ie[r++]<<A,A+=8,w+=Ie[r++]<<A,A+=8),V=C[w&$];n:for(;;){if(q=V>>>24,w>>>=q,A-=q,q=V>>>16&255,q&16){if(_e=V&65535,q&=15,A<q&&(w+=Ie[r++]<<A,A+=8,A<q&&(w+=Ie[r++]<<A,A+=8)),_e+=w&(1<<q)-1,_e>u){t.msg="invalid distance too far back",De.mode=xl;break e}if(w>>>=q,A-=q,q=a-o,_e>q){if(q=_e-q,q>f&&De.sane){t.msg="invalid distance too far back",De.mode=xl;break e}if(ge=0,de=g,v===0){if(ge+=c-q,q<ee){ee-=q;do fe[a++]=g[ge++];while(--q);ge=a-_e,de=fe}}else if(v<q){if(ge+=c+v-q,q-=v,q<ee){ee-=q;do fe[a++]=g[ge++];while(--q);if(ge=0,v<ee){q=v,ee-=q;do fe[a++]=g[ge++];while(--q);ge=a-_e,de=fe}}}else if(ge+=v-q,q<ee){ee-=q;do fe[a++]=g[ge++];while(--q);ge=a-_e,de=fe}for(;ee>2;)fe[a++]=de[ge++],fe[a++]=de[ge++],fe[a++]=de[ge++],ee-=3;ee&&(fe[a++]=de[ge++],ee>1&&(fe[a++]=de[ge++]))}else{ge=a-_e;do fe[a++]=fe[ge++],fe[a++]=fe[ge++],fe[a++]=fe[ge++],ee-=3;while(ee>2);ee&&(fe[a++]=fe[ge++],ee>1&&(fe[a++]=fe[ge++]))}}else if((q&64)==0){V=C[(V&65535)+(w&(1<<q)-1)];continue n}else{t.msg="invalid distance code",De.mode=xl;break e}break}}else if((q&64)==0){V=T[(V&65535)+(w&(1<<q)-1)];continue t}else if(q&32){De.mode=f_;break e}else{t.msg="invalid literal/length code",De.mode=xl;break e}break}}while(r<i&&a<s);ee=A>>3,r-=ee,A-=ee<<3,w&=(1<<A)-1,t.next_in=r,t.next_out=a,t.avail_in=r<i?5+(i-r):5-(r-i),t.avail_out=a<s?257+(s-a):257-(a-s),De.hold=w,De.bits=A},"inflate_fast");const Sa=15,kg=852,Dg=592,Fg=0,wf=1,Ng=2,h_=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),p_=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),g_=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),m_=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Lo=l((e,t,n,r,i,a,o,s)=>{const u=s.bits;let c=0,f=0,v=0,g=0,w=0,A=0,T=0,C=0,D=0,$=0,V,q,ee,_e,ge,de=null,Ie=0,fe;const De=new Uint16Array(Sa+1),Ze=new Uint16Array(Sa+1);let vt=null,ie=0,xe,Re,Te;for(c=0;c<=Sa;c++)De[c]=0;for(f=0;f<r;f++)De[t[n+f]]++;for(w=u,g=Sa;g>=1&&De[g]===0;g--);if(w>g&&(w=g),g===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,s.bits=1,0;for(v=1;v<g&&De[v]===0;v++);for(w<v&&(w=v),C=1,c=1;c<=Sa;c++)if(C<<=1,C-=De[c],C<0)return-1;if(C>0&&(e===Fg||g!==1))return-1;for(Ze[1]=0,c=1;c<Sa;c++)Ze[c+1]=Ze[c]+De[c];for(f=0;f<r;f++)t[n+f]!==0&&(o[Ze[t[n+f]]++]=f);if(e===Fg?(de=vt=o,fe=19):e===wf?(de=h_,Ie-=257,vt=p_,ie-=257,fe=256):(de=g_,vt=m_,fe=-1),$=0,f=0,c=v,ge=a,A=w,T=0,ee=-1,D=1<<w,_e=D-1,e===wf&&D>kg||e===Ng&&D>Dg)return 1;for(;;){xe=c-T,o[f]<fe?(Re=0,Te=o[f]):o[f]>fe?(Re=vt[ie+o[f]],Te=de[Ie+o[f]]):(Re=32+64,Te=0),V=1<<c-T,q=1<<A,v=q;do q-=V,i[ge+($>>T)+q]=xe<<24|Re<<16|Te|0;while(q!==0);for(V=1<<c-1;$&V;)V>>=1;if(V!==0?($&=V-1,$+=V):$=0,f++,--De[c]==0){if(c===g)break;c=t[n+o[f]]}if(c>w&&($&_e)!==ee){for(T===0&&(T=w),ge+=v,A=c-T,C=1<<A;A+T<g&&(C-=De[A+T],!(C<=0));)A++,C<<=1;if(D+=1<<A,e===wf&&D>kg||e===Ng&&D>Dg)return 1;ee=$&_e,i[ee]=w<<24|A<<16|ge-a|0}}return $!==0&&(i[ge+$]=c-T<<24|64<<16|0),s.bits=w,0},"inflate_table");const v_=0,Lg=1,Bg=2,{Z_FINISH:$g,Z_BLOCK:w_,Z_TREES:bl,Z_OK:Pi,Z_STREAM_END:y_,Z_NEED_DICT:__,Z_STREAM_ERROR:Wn,Z_DATA_ERROR:Mg,Z_MEM_ERROR:Pg,Z_BUF_ERROR:x_,Z_DEFLATED:Og}=Ni,Ug=1,Hg=2,zg=3,qg=4,Wg=5,jg=6,Vg=7,Gg=8,Kg=9,Zg=10,El=11,$r=12,yf=13,Qg=14,_f=15,Xg=16,Yg=17,Jg=18,e0=19,Sl=20,Cl=21,t0=22,n0=23,r0=24,i0=25,a0=26,xf=27,o0=28,s0=29,zt=30,l0=31,b_=32,E_=852,S_=592,C_=15,c0=l(e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24),"zswap32");function A_(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}l(A_,"InflateState");const u0=l(e=>{if(!e||!e.state)return Wn;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Ug,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(E_),t.distcode=t.distdyn=new Int32Array(S_),t.sane=1,t.back=-1,Pi},"inflateResetKeep"),f0=l(e=>{if(!e||!e.state)return Wn;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,u0(e)},"inflateReset"),d0=l((e,t)=>{let n;if(!e||!e.state)return Wn;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15)?Wn:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,f0(e))},"inflateReset2"),h0=l((e,t)=>{if(!e)return Wn;const n=new A_;e.state=n,n.window=null;const r=d0(e,t);return r!==Pi&&(e.state=null),r},"inflateInit2"),I_=l(e=>h0(e,C_),"inflateInit");let p0=!0,bf,Ef;const T_=l(e=>{if(p0){bf=new Int32Array(512),Ef=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Lo(Lg,e.lens,0,288,bf,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Lo(Bg,e.lens,0,32,Ef,0,e.work,{bits:5}),p0=!1}e.lencode=bf,e.lenbits=9,e.distcode=Ef,e.distbits=5},"fixedtables"),g0=l((e,t,n,r)=>{let i;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(t.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(t.subarray(n-r,n-r+i),a.wnext),r-=i,r?(a.window.set(t.subarray(n-r,n),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},"updatewindow"),R_=l((e,t)=>{let n,r,i,a,o,s,u,c,f,v,g,w,A,T,C=0,D,$,V,q,ee,_e,ge,de;const Ie=new Uint8Array(4);let fe,De;const Ze=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return Wn;n=e.state,n.mode===$r&&(n.mode=yf),o=e.next_out,i=e.output,u=e.avail_out,a=e.next_in,r=e.input,s=e.avail_in,c=n.hold,f=n.bits,v=s,g=u,de=Pi;e:for(;;)switch(n.mode){case Ug:if(n.wrap===0){n.mode=yf;break}for(;f<16;){if(s===0)break e;s--,c+=r[a++]<<f,f+=8}if(n.wrap&2&&c===35615){n.check=0,Ie[0]=c&255,Ie[1]=c>>>8&255,n.check=cn(n.check,Ie,2,0),c=0,f=0,n.mode=Hg;break}if(n.flags=0,n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=zt;break}if((c&15)!==Og){e.msg="unknown compression method",n.mode=zt;break}if(c>>>=4,f-=4,ge=(c&15)+8,n.wbits===0)n.wbits=ge;else if(ge>n.wbits){e.msg="invalid window size",n.mode=zt;break}n.dmax=1<<n.wbits,e.adler=n.check=1,n.mode=c&512?Zg:$r,c=0,f=0;break;case Hg:for(;f<16;){if(s===0)break e;s--,c+=r[a++]<<f,f+=8}if(n.flags=c,(n.flags&255)!==Og){e.msg="unknown compression method",n.mode=zt;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=zt;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&(Ie[0]=c&255,Ie[1]=c>>>8&255,n.check=cn(n.check,Ie,2,0)),c=0,f=0,n.mode=zg;case zg:for(;f<32;){if(s===0)break e;s--,c+=r[a++]<<f,f+=8}n.head&&(n.head.time=c),n.flags&512&&(Ie[0]=c&255,Ie[1]=c>>>8&255,Ie[2]=c>>>16&255,Ie[3]=c>>>24&255,n.check=cn(n.check,Ie,4,0)),c=0,f=0,n.mode=qg;case qg:for(;f<16;){if(s===0)break e;s--,c+=r[a++]<<f,f+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&(Ie[0]=c&255,Ie[1]=c>>>8&255,n.check=cn(n.check,Ie,2,0)),c=0,f=0,n.mode=Wg;case Wg:if(n.flags&1024){for(;f<16;){if(s===0)break e;s--,c+=r[a++]<<f,f+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&(Ie[0]=c&255,Ie[1]=c>>>8&255,n.check=cn(n.check,Ie,2,0)),c=0,f=0}else n.head&&(n.head.extra=null);n.mode=jg;case jg:if(n.flags&1024&&(w=n.length,w>s&&(w=s),w&&(n.head&&(ge=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(a,a+w),ge)),n.flags&512&&(n.check=cn(n.check,r,w,a)),s-=w,a+=w,n.length-=w),n.length))break e;n.length=0,n.mode=Vg;case Vg:if(n.flags&2048){if(s===0)break e;w=0;do ge=r[a+w++],n.head&&ge&&n.length<65536&&(n.head.name+=String.fromCharCode(ge));while(ge&&w<s);if(n.flags&512&&(n.check=cn(n.check,r,w,a)),s-=w,a+=w,ge)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Gg;case Gg:if(n.flags&4096){if(s===0)break e;w=0;do ge=r[a+w++],n.head&&ge&&n.length<65536&&(n.head.comment+=String.fromCharCode(ge));while(ge&&w<s);if(n.flags&512&&(n.check=cn(n.check,r,w,a)),s-=w,a+=w,ge)break e}else n.head&&(n.head.comment=null);n.mode=Kg;case Kg:if(n.flags&512){for(;f<16;){if(s===0)break e;s--,c+=r[a++]<<f,f+=8}if(c!==(n.check&65535)){e.msg="header crc mismatch",n.mode=zt;break}c=0,f=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=$r;break;case Zg:for(;f<32;){if(s===0)break e;s--,c+=r[a++]<<f,f+=8}e.adler=n.check=c0(c),c=0,f=0,n.mode=El;case El:if(n.havedict===0)return e.next_out=o,e.avail_out=u,e.next_in=a,e.avail_in=s,n.hold=c,n.bits=f,__;e.adler=n.check=1,n.mode=$r;case $r:if(t===w_||t===bl)break e;case yf:if(n.last){c>>>=f&7,f-=f&7,n.mode=xf;break}for(;f<3;){if(s===0)break e;s--,c+=r[a++]<<f,f+=8}switch(n.last=c&1,c>>>=1,f-=1,c&3){case 0:n.mode=Qg;break;case 1:if(T_(n),n.mode=Sl,t===bl){c>>>=2,f-=2;break e}break;case 2:n.mode=Yg;break;case 3:e.msg="invalid block type",n.mode=zt}c>>>=2,f-=2;break;case Qg:for(c>>>=f&7,f-=f&7;f<32;){if(s===0)break e;s--,c+=r[a++]<<f,f+=8}if((c&65535)!=(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=zt;break}if(n.length=c&65535,c=0,f=0,n.mode=_f,t===bl)break e;case _f:n.mode=Xg;case Xg:if(w=n.length,w){if(w>s&&(w=s),w>u&&(w=u),w===0)break e;i.set(r.subarray(a,a+w),o),s-=w,a+=w,u-=w,o+=w,n.length-=w;break}n.mode=$r;break;case Yg:for(;f<14;){if(s===0)break e;s--,c+=r[a++]<<f,f+=8}if(n.nlen=(c&31)+257,c>>>=5,f-=5,n.ndist=(c&31)+1,c>>>=5,f-=5,n.ncode=(c&15)+4,c>>>=4,f-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=zt;break}n.have=0,n.mode=Jg;case Jg:for(;n.have<n.ncode;){for(;f<3;){if(s===0)break e;s--,c+=r[a++]<<f,f+=8}n.lens[Ze[n.have++]]=c&7,c>>>=3,f-=3}for(;n.have<19;)n.lens[Ze[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,fe={bits:n.lenbits},de=Lo(v_,n.lens,0,19,n.lencode,0,n.work,fe),n.lenbits=fe.bits,de){e.msg="invalid code lengths set",n.mode=zt;break}n.have=0,n.mode=e0;case e0:for(;n.have<n.nlen+n.ndist;){for(;C=n.lencode[c&(1<<n.lenbits)-1],D=C>>>24,$=C>>>16&255,V=C&65535,!(D<=f);){if(s===0)break e;s--,c+=r[a++]<<f,f+=8}if(V<16)c>>>=D,f-=D,n.lens[n.have++]=V;else{if(V===16){for(De=D+2;f<De;){if(s===0)break e;s--,c+=r[a++]<<f,f+=8}if(c>>>=D,f-=D,n.have===0){e.msg="invalid bit length repeat",n.mode=zt;break}ge=n.lens[n.have-1],w=3+(c&3),c>>>=2,f-=2}else if(V===17){for(De=D+3;f<De;){if(s===0)break e;s--,c+=r[a++]<<f,f+=8}c>>>=D,f-=D,ge=0,w=3+(c&7),c>>>=3,f-=3}else{for(De=D+7;f<De;){if(s===0)break e;s--,c+=r[a++]<<f,f+=8}c>>>=D,f-=D,ge=0,w=11+(c&127),c>>>=7,f-=7}if(n.have+w>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=zt;break}for(;w--;)n.lens[n.have++]=ge}}if(n.mode===zt)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=zt;break}if(n.lenbits=9,fe={bits:n.lenbits},de=Lo(Lg,n.lens,0,n.nlen,n.lencode,0,n.work,fe),n.lenbits=fe.bits,de){e.msg="invalid literal/lengths set",n.mode=zt;break}if(n.distbits=6,n.distcode=n.distdyn,fe={bits:n.distbits},de=Lo(Bg,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,fe),n.distbits=fe.bits,de){e.msg="invalid distances set",n.mode=zt;break}if(n.mode=Sl,t===bl)break e;case Sl:n.mode=Cl;case Cl:if(s>=6&&u>=258){e.next_out=o,e.avail_out=u,e.next_in=a,e.avail_in=s,n.hold=c,n.bits=f,d_(e,g),o=e.next_out,i=e.output,u=e.avail_out,a=e.next_in,r=e.input,s=e.avail_in,c=n.hold,f=n.bits,n.mode===$r&&(n.back=-1);break}for(n.back=0;C=n.lencode[c&(1<<n.lenbits)-1],D=C>>>24,$=C>>>16&255,V=C&65535,!(D<=f);){if(s===0)break e;s--,c+=r[a++]<<f,f+=8}if($&&($&240)==0){for(q=D,ee=$,_e=V;C=n.lencode[_e+((c&(1<<q+ee)-1)>>q)],D=C>>>24,$=C>>>16&255,V=C&65535,!(q+D<=f);){if(s===0)break e;s--,c+=r[a++]<<f,f+=8}c>>>=q,f-=q,n.back+=q}if(c>>>=D,f-=D,n.back+=D,n.length=V,$===0){n.mode=a0;break}if($&32){n.back=-1,n.mode=$r;break}if($&64){e.msg="invalid literal/length code",n.mode=zt;break}n.extra=$&15,n.mode=t0;case t0:if(n.extra){for(De=n.extra;f<De;){if(s===0)break e;s--,c+=r[a++]<<f,f+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,f-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=n0;case n0:for(;C=n.distcode[c&(1<<n.distbits)-1],D=C>>>24,$=C>>>16&255,V=C&65535,!(D<=f);){if(s===0)break e;s--,c+=r[a++]<<f,f+=8}if(($&240)==0){for(q=D,ee=$,_e=V;C=n.distcode[_e+((c&(1<<q+ee)-1)>>q)],D=C>>>24,$=C>>>16&255,V=C&65535,!(q+D<=f);){if(s===0)break e;s--,c+=r[a++]<<f,f+=8}c>>>=q,f-=q,n.back+=q}if(c>>>=D,f-=D,n.back+=D,$&64){e.msg="invalid distance code",n.mode=zt;break}n.offset=V,n.extra=$&15,n.mode=r0;case r0:if(n.extra){for(De=n.extra;f<De;){if(s===0)break e;s--,c+=r[a++]<<f,f+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,f-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=zt;break}n.mode=i0;case i0:if(u===0)break e;if(w=g-u,n.offset>w){if(w=n.offset-w,w>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=zt;break}w>n.wnext?(w-=n.wnext,A=n.wsize-w):A=n.wnext-w,w>n.length&&(w=n.length),T=n.window}else T=i,A=o-n.offset,w=n.length;w>u&&(w=u),u-=w,n.length-=w;do i[o++]=T[A++];while(--w);n.length===0&&(n.mode=Cl);break;case a0:if(u===0)break e;i[o++]=n.length,u--,n.mode=Cl;break;case xf:if(n.wrap){for(;f<32;){if(s===0)break e;s--,c|=r[a++]<<f,f+=8}if(g-=u,e.total_out+=g,n.total+=g,g&&(e.adler=n.check=n.flags?cn(n.check,i,g,o-g):Co(n.check,i,g,o-g)),g=u,(n.flags?c:c0(c))!==n.check){e.msg="incorrect data check",n.mode=zt;break}c=0,f=0}n.mode=o0;case o0:if(n.wrap&&n.flags){for(;f<32;){if(s===0)break e;s--,c+=r[a++]<<f,f+=8}if(c!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=zt;break}c=0,f=0}n.mode=s0;case s0:de=y_;break e;case zt:de=Mg;break e;case l0:return Pg;case b_:default:return Wn}return e.next_out=o,e.avail_out=u,e.next_in=a,e.avail_in=s,n.hold=c,n.bits=f,(n.wsize||g!==e.avail_out&&n.mode<zt&&(n.mode<xf||t!==$g))&&g0(e,e.output,e.next_out,g-e.avail_out),v-=e.avail_in,g-=e.avail_out,e.total_in+=v,e.total_out+=g,n.total+=g,n.wrap&&g&&(e.adler=n.check=n.flags?cn(n.check,i,g,e.next_out-g):Co(n.check,i,g,e.next_out-g)),e.data_type=n.bits+(n.last?64:0)+(n.mode===$r?128:0)+(n.mode===Sl||n.mode===_f?256:0),(v===0&&g===0||t===$g)&&de===Pi&&(de=x_),de},"inflate$2"),k_=l(e=>{if(!e||!e.state)return Wn;let t=e.state;return t.window&&(t.window=null),e.state=null,Pi},"inflateEnd"),D_=l((e,t)=>{if(!e||!e.state)return Wn;const n=e.state;return(n.wrap&2)==0?Wn:(n.head=t,t.done=!1,Pi)},"inflateGetHeader"),F_=l((e,t)=>{const n=t.length;let r,i,a;return!e||!e.state||(r=e.state,r.wrap!==0&&r.mode!==El)?Wn:r.mode===El&&(i=1,i=Co(i,t,n,0),i!==r.check)?Mg:(a=g0(e,t,n,n),a?(r.mode=l0,Pg):(r.havedict=1,Pi))},"inflateSetDictionary");var N_=f0,L_=d0,B_=u0,$_=I_,M_=h0,P_=R_,O_=k_,U_=D_,H_=F_,z_="pako inflate (from Nodeca project)",Mr={inflateReset:N_,inflateReset2:L_,inflateResetKeep:B_,inflateInit:$_,inflateInit2:M_,inflate:P_,inflateEnd:O_,inflateGetHeader:U_,inflateSetDictionary:H_,inflateInfo:z_};function q_(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}l(q_,"GZheader");var W_=q_;const m0=Object.prototype.toString,{Z_NO_FLUSH:j_,Z_FINISH:V_,Z_OK:Bo,Z_STREAM_END:Sf,Z_NEED_DICT:Cf,Z_STREAM_ERROR:G_,Z_DATA_ERROR:v0,Z_MEM_ERROR:K_}=Ni;function $o(e){this.options=yl.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)==0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Tg,this.strm.avail_out=0;let n=Mr.inflateInit2(this.strm,t.windowBits);if(n!==Bo)throw new Error(Fi[n]);if(this.header=new W_,Mr.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Fo.string2buf(t.dictionary):m0.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Mr.inflateSetDictionary(this.strm,t.dictionary),n!==Bo)))throw new Error(Fi[n])}l($o,"Inflate$1"),$o.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let a,o,s;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?V_:j_,m0.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),a=Mr.inflate(n,o),a===Cf&&i&&(a=Mr.inflateSetDictionary(n,i),a===Bo?a=Mr.inflate(n,o):a===v0&&(a=Cf));n.avail_in>0&&a===Sf&&n.state.wrap>0&&e[n.next_in]!==0;)Mr.inflateReset(n),a=Mr.inflate(n,o);switch(a){case G_:case v0:case Cf:case K_:return this.onEnd(a),this.ended=!0,!1}if(s=n.avail_out,n.next_out&&(n.avail_out===0||a===Sf))if(this.options.to==="string"){let u=Fo.utf8border(n.output,n.next_out),c=n.next_out-u,f=Fo.buf2string(n.output,u);n.next_out=c,n.avail_out=r-c,c&&n.output.set(n.output.subarray(u,u+c),0),this.onData(f)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(a===Bo&&s===0)){if(a===Sf)return a=Mr.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(n.avail_in===0)break}}return!0},$o.prototype.onData=function(e){this.chunks.push(e)},$o.prototype.onEnd=function(e){e===Bo&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=yl.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Af(e,t){const n=new $o(t);if(n.push(e),n.err)throw n.msg||Fi[n.err];return n.result}l(Af,"inflate$1");function Z_(e,t){return t=t||{},t.raw=!0,Af(e,t)}l(Z_,"inflateRaw$1");var Q_=$o,X_=Af,Y_=Z_,J_=Af,ex=Ni,tx={Inflate:Q_,inflate:X_,inflateRaw:Y_,ungzip:J_,constants:ex};const{Deflate:nx,deflate:rx,deflateRaw:ix,gzip:ax}=u_,{Inflate:ox,inflate:sx,inflateRaw:lx,ungzip:cx}=tx;var ux=nx,fx=rx,dx=ix,hx=ax,px=ox,gx=sx,mx=lx,w0=cx,vx=Ni,Ub={Deflate:ux,deflate:fx,deflateRaw:dx,gzip:hx,Inflate:px,inflate:gx,inflateRaw:mx,ungzip:w0,constants:vx},Mo;(function(e){e.HasVirtualFolders="remoteHub:hasVirtualFolders",e.VirtualFolderProviders="remoteHub:virtualFolderProviders",e.HasRecentRepositories="remoteHub:hasRecentRepositories",e.HasSearchIndexes="gitHub:hasSearchIndexes",e.EnabledSomeSearchIndexes="gitHub:enabledSomeSearchIndexes",e.EnabledAllSearchIndexes="gitHub:enabledAllSearchIndexes",e.HasPullRequestExtension="gitHub:hasPullRequestExtension"})(Mo||(Mo={}));const y0=new Map;function Hb(e){return e==="isWeb"?isWeb:e==="remoteName"?env.remoteName:e==="virtualWorkspace"?VirtualProviderUtils.isVirtualWorkspace():e.startsWith("config.")?configuration.getAny(e.substring(7)):y0.get(e)}l(Hb,"getContext");function zb(e){return e==="isWeb"||e==="remoteName"||e==="virtualWorkspace"||e.startsWith("config.")||e.startsWith("remoteHub:")||e.startsWith("continueOn:")}l(zb,"isSupportedContextKey");async function If(e,t){y0.set(e,t),!e.startsWith("continueOn:")&&await d.commands.executeCommand("setContext",e,t)}l(If,"setContext");class Tf{constructor(t){this.bytes=t,this.byteIndexCurrent=0}hasMoreBytes(){return this.byteIndexCurrent<this.bytes.length}readBytes(t){const n=this.byteIndexCurrent;return this.byteIndexCurrent+=t,this.bytes.slice(n,this.byteIndexCurrent)}readByte(){const t=this.bytes[this.byteIndexCurrent];return this.byteIndexCurrent++,t}readString(t){const n=[],r=this.byteIndexCurrent+t;let i=this.byteIndexCurrent;for(;i<r;){const a=this.bytes[i++];if(a===0)break;let o=0,s=0;if((a&128)==0)o=a,s=0;else if((a&224)==192)o=a&31,s=1;else if((a&240)==224)o=a&15,s=2;else if((a&248)==240)o=a&7,s=3;else throw Error(`Invalid unicode, unknown multibyte encoding header ${a.toString(2)} at offset ${i}`);for(;s>0;){const u=this.bytes[i++];if((u&192)!=128)throw Error(`Invalid unicode, unexpected multibyte encoding trailer ${u.toString(2)} at offset ${i}`);o=o<<6|u&63,s--}n.push(String.fromCodePoint(o))}return this.byteIndexCurrent=r,n.join("")}}l(Tf,"ByteStream");class wn{constructor(t,n){this.value=t,this.id=`_${this.value}`,this.name=n}static Instances(){return wn._instances==null&&(wn._instances=new _0),wn._instances}}l(wn,"TarFileTypeFlag");class _0{constructor(){this.Normal=new wn("0","Normal"),this.HardLink=new wn("1","Hard Link"),this.SymbolicLink=new wn("2","Symbolic Link"),this.CharacterSpecial=new wn("3","Character Special"),this.BlockSpecial=new wn("4","Block Special"),this.Directory=new wn("5","Directory"),this.FIFO=new wn("6","FIFO"),this.ContiguousFile=new wn("7","Contiguous File"),this.LongFilePath=new wn("L","././@LongLink"),this._All=[this.Normal,this.HardLink,this.SymbolicLink,this.CharacterSpecial,this.BlockSpecial,this.Directory,this.FIFO,this.ContiguousFile,this.LongFilePath];for(let t=0;t<this._All.length;t++){const n=this._All[t];this._All[n.id]=n}}}l(_0,"TarFileTypeFlag_Instances");class Al{constructor(t,n,r,i,a,o,s,u,c,f,v,g,w,A,T,C){this.fileName=t,this.fileMode=n,this.userIDOfOwner=r,this.userIDOfGroup=i,this.fileSizeInBytes=a,this.timeModifiedInUnixFormat=o,this.checksum=s,this.typeFlag=u,this.nameOfLinkedFile=c,this.uStarIndicator=f,this.uStarVersion=v,this.userNameOfOwner=g,this.groupNameOfOwner=w,this.deviceNumberMajor=A,this.deviceNumberMinor=T,this.filenamePrefix=C,this.fullFileName=C.length?C.endsWith("/")?C+t:`${C}/${t}`:t}static fromBytes(t){const n=new Tf(t),r=n.readString(100).trim(),i=n.readString(8),a=n.readString(8),o=n.readString(8),s=n.readString(12),u=n.readBytes(12),c=n.readString(8),f=n.readString(1),v=n.readString(100),g=n.readString(6),w=n.readString(2),A=n.readString(32),T=n.readString(32),C=n.readString(8),D=n.readString(8),$=n.readString(155),V=n.readBytes(12),q=parseInt(s.trim(),8),ee=parseInt(c,8),_e=wn.Instances()._All,ge=`_${f}`,de=_e[ge];return new Al(r,i,a,o,q,u,ee,de,v,g,w,A,T,C,D,$)}}l(Al,"TarFileEntryHeader");const x0=512;class Il{constructor(t,n){this.header=t,this.dataAsBytes=n}static fromBytes(t,n){const r=x0,i=Al.fromBytes(t),a=i.fileSizeInBytes,s=Math.ceil(a/r)*r,u=n.readBytes(s).slice(0,a);return new Il(i,u)}}l(Il,"TarFileEntry");class Tl{constructor(t){var n;this.entries=t,this.consolidateLongPathEntries();for(const r of this.entries)((n=r.header.typeFlag)==null?void 0:n.name)==="Normal"&&(r.header.fullFileName=r.header.fullFileName.replace(/^[^/]+\/?/,""));this.entryMap=new Map;for(const r of this.entries)this.entryMap.set(r.header.fullFileName,r)}static async fromBytes(t){const n=new Tf(t),r=[],i=x0;let a=0,o=0;for(;n.hasMoreBytes()==!0;){++a%1e3==0&&await new Promise(c=>setTimeout(c,10));const s=n.readBytes(i);let u=!0;for(let c=0;c<s.length;c++)if(s[c]!=0){u=!1;break}if(u==!0){if(o++,o==2)break}else{o=0;const c=Il.fromBytes(s,n);r.push(c)}}return new Tl(r)}consolidateLongPathEntries(){var t;const n=wn.Instances().LongFilePath.name,r=this.entries;for(let i=0;i<r.length;i++){const a=r[i];if(((t=a.header.typeFlag)==null?void 0:t.name)==n){const o=r[i+1];o.header.fileName=a.dataAsBytes.reduce((s,u)=>s+=String.fromCharCode(u),""),o.header.fileName=o.header.fileName.replace(/\0/g,""),r.splice(i,1),i--}}}}l(Tl,"TarFile");const wx=l(e=>Tl.fromBytes(e),"readTar"),jn=(0,Xe.loadMessageBundle)(),Rl=new TextDecoder,Rf=new TextEncoder;class b0{constructor(t,n=0){this.retainFor=n;try{this.weakRef=new WeakRef(t)}catch{}this.retain(t)}retain(t){this.retainTimeout&&clearTimeout(this.retainTimeout),this.strongRef=t,this.retainTimeout=setTimeout(()=>{this.strongRef=void 0,this.retainTimeout=void 0},this.retainFor)}deref(){var t,n;const r=(n=this.strongRef)!=null?n:(t=this.weakRef)==null?void 0:t.deref();return r&&this.retain(r),r}}l(b0,"TimedRetainingRef");class E0{constructor(t,n){this.root=t,this.providerService=n,this._onDidChangeIndexingEnablement=new d.EventEmitter,this._onDidDownloadTar=new d.EventEmitter,this.ongoingDiskRequests=new Map,this.ongoingNetworkRequests=new Map,this.indexingDisabled=!1,this.usageFile=d.Uri.joinPath(this.root,"usageHistory.json"),this.indexingAllowanceFile=d.Uri.joinPath(this.root,"indexAllowances.json"),this._disposable=d.Disposable.from(...this.registerCommands()),this.updateContext()}get onDidChangeIndexingEnablement(){return this._onDidChangeIndexingEnablement.event}get onDidDownloadTar(){return this._onDidDownloadTar.event}async updateContext(){await If(Mo.HasSearchIndexes,(await this.listTars()).length>0);const t=this.providerService.repositories.map(i=>i.name),n=await this.getIndexingEnabledRepos(),r=n.has("*")||t.every(i=>n.has(i));await If(Mo.EnabledSomeSearchIndexes,n.size>0),await If(Mo.EnabledAllSearchIndexes,r)}dispose(){this._disposable.dispose()}registerCommands(){return[d.commands.registerCommand("remoteHub.configureIndexingAllowedRepos",async()=>{await this.configureIndexingAllowedRepos()}),d.commands.registerCommand("remoteHub.disableIndexingForSession",()=>(this.temporarilyDisableIndexing(),{triggerSearch:!0})),d.commands.registerCommand("remoteHub.enableIndexing",async()=>(await this.markIndexingEnablementForRepos(!0),{triggerSearch:!0})),d.commands.registerCommand("remoteHub.deleteLocalRepositoryData",async()=>{const t=l(i=>{const a=[{power:9,name:"GB"},{power:6,name:"MB"},{power:3,name:"kB"},{power:0,name:"B"}];for(const o of a)if(i>10**o.power)return`${Math.round(i/10**o.power)} ${o.name}`;return"Unknown size"},"humanReadableSize"),n=await this.listTars();if(n.length===0){await d.window.showInformationMessage("No Repository Indexes Found");return}const r=d.window.createQuickPick();r.canSelectMany=!0,r.items=n.map(({name:i,size:a,path:o})=>({label:i,path:o,description:a?t(a):void 0})),r.show(),r.onDidAccept(async()=>{r.hide();for(const{label:i,path:a}of r.selectedItems){const o=d.workspace.fs.delete(a),s=d.window.setStatusBarMessage(`$(loading) Deleting ${i}`,o);await o,s.dispose()}this.updateContext()}),r.onDidHide(()=>r.dispose())}),d.commands.registerCommand("remoteHub.deleteAllLocalRepositoryData",()=>d.window.withProgress({location:d.ProgressLocation.Notification,title:"Deleting Repository Indexes..."},async()=>{this.lastReadKey=void 0,this.lastReadValue=void 0;try{await Promise.all([d.workspace.fs.delete(this.root,{recursive:!0})])}catch(t){le.error(t)}finally{this.updateContext()}}))]}getTarFromMemory(t){var n;if(le.debug(`TarPit.getTarFromMemory(key=${t})`),t===this.lastReadKey){const r=(n=this.lastReadValue)==null?void 0:n.deref();if(r)return r;le.log("Weakref deallocated.")}}async getTarFromDisk(t){try{const n=await d.workspace.fs.readFile(t);return!n||!n.length?void 0:n}catch(n){(!(n instanceof d.FileSystemError)||n.code!==d.FileSystemError.FileNotFound.name)&&(d.window.showWarningMessage(jn("diskReadUnexpectedError","Unexpected error reading index from disk, attempting to reload from network")),le.error(n,"Unexpected error reading tarball from disk"));return}}async getTarFromNetwork(t,n){try{const r=await this.isIndexingEnabledForRepo(t);try{if(r){const i=await this.providerService.getTarGz(t);if(i)return i}else if(r===void 0){const i=rt.get("indexing.maxIndexSize");if(i===null)throw new d.CancellationError;if(i){const a=await this.providerService.getTarGz(t,i*1024*1024);if(a)return a}}}catch(i){if(i instanceof d.CancellationError)throw await this.markIndexingEnablementForRepos(!1),i;if(i instanceof Error&&i.message==="LIMIT_HIT")await this.markIndexingEnablementForRepos(!1);else throw i}if(!n){const i={id:"configure",title:jn("configure","Configure Limit")},a={id:"continue",title:jn("continue","Continue"),isCloseAffordance:!0};d.window.showInformationMessage(jn("bigRepo","Repository exceeds download size limit! Continuing with partial text services."),i,a).then(async o=>{o===i&&await d.commands.executeCommand("workbench.action.openSettings","remoteHub.indexing")})}if(n){const i={id:"no",title:jn("cancel","Use Partial Services"),isCloseAffordance:!0},a={id:"configure",title:jn("configure","Configure")},o={id:"repo",title:jn("continue","Download Full Contents")},s=rt.get("indexing.maxIndexSize"),u=s!==null?`${s.toString()}\xA0MB`:"null";switch(await d.window.showWarningMessage(jn("bigRepo","This repository exceeds the download size limit ({0}).",u),{modal:!0,detail:jn("downloadUse","Continue using a partial version of text services like workspace search and global references, or ignore the limit and download this repository's full contents.",u)},i,o,a)){case o:{await this.markIndexingEnablementForRepos(!0);try{const f=await this.providerService.getTarGz(t);if(f)return f}catch(f){f instanceof d.CancellationError&&await this.markIndexingEnablementForRepos(!1)}break}case a:await d.commands.executeCommand("workbench.action.openSettings","remoteHub.indexing");break;case i:await this.markIndexingEnablementForRepos(!1)}}throw new d.CancellationError}finally{this.updateContext()}}async getTar(t,n,r){r===void 0&&({HEAD:{sha:r}}=await this.providerService.getMetadata(t));const i=this.getTarStorageUri(t,r),a=await this.getTarCacheKey(t,r);try{let o=this.ongoingNetworkRequests.get(a);return o===void 0&&(o=this.getTarCore(t,r,i,{blocking:n}),this.ongoingNetworkRequests.set(a,o),this.ongoingDiskRequests.set(a,o)),await o}finally{this.ongoingNetworkRequests.delete(a),this.ongoingDiskRequests.delete(a)}}async getInMemoryTar(t,n){return le.debug(`TarPit.getInMemoryTar(rootUri=${t.toString()}, ref=${n==null?void 0:n.toString()})`),this.getTarFromMemory(await this.getTarCacheKey(t,n))}async getCachedTar(t,n){var r;const i=await this.getTarCacheKey(t,n),a=this.getTarStorageUri(t,n);try{let o=(r=this.ongoingDiskRequests.get(i))!=null?r:this.ongoingNetworkRequests.get(i);return o===void 0&&(o=this.getTarCore(t,n,a,{skipDownload:!0,blocking:!1}),this.ongoingDiskRequests.set(i,o)),await o}finally{this.ongoingDiskRequests.delete(i)}}async getTarCore(t,n,r,i){const a=this.providerService.getCanonicalUri(t),o=`${I(a,{excludeScheme:!0})}/${n}`,s=new P(`TarPit.getTar(${o})`),u=await this.getTarCacheKey(t,n),c=Date.now();let f,v;try{if(s.logStep("Getting .tar from memory",{suffix:" \u2022 Getting .tar from memory..."}),v=this.getTarFromMemory(u),v)return f=" \u2022 Got .tar from memory",v;s.logStep("Getting .tar from disk",{message:": Not found \u2022",suffix:" \u2022 Getting .tar from disk..."});let g=!1,w=await this.getTarFromDisk(r);if(w==null?void 0:w.length)f=" \u2022 Got .tar from disk";else{if(i==null?void 0:i.skipDownload){f=" \u2022 Skipped download";return}if(await this.isIndexingEnabledForRepo(t)===!1)throw f=" \u2022 Downloading disabled",new d.CancellationError;s.logStep("Getting .tar from network",{message:": Not found \u2022",suffix:" \u2022 Getting .tar from network..."}),w=await this.getTarFromNetwork(t,i.blocking),g=!0,f=" \u2022 Got .tar from network",d.workspace.fs.writeFile(r,w).then(()=>le.debug(`Sucessfully wrote tarball to disk in ${Date.now()-c}ms`),T=>le.error(T,`Error writing tarball to disk in ${Date.now()-c}ms`))}if(!(w==null?void 0:w.length))throw new Error("Internal Error: Invalid repository index. Try deleting repository data and running operation again: `GitHub Repositories: Delete Local Repository Data...`");s.logStep("Unzipping .tar",{suffix:" \u2022 Unzipping .tar..."});const A=w0(w);return v=await wx(A),s.stop({message:"Finished getting tar"}),this.lastReadValue=new b0(v,10*(Date.now()-c)),this.lastReadKey=u,g&&setTimeout(()=>this._onDidDownloadTar.fire({rootUri:t,sha:n}),0),v}catch(g){throw f=` \u2022 Failed; ${String(g)}`,g}finally{v&&(this.markCacheEntryUsed(`${o}`).catch(g=>le.log(`Error marking entry used: ${g}`)),this.cleanUpCache().catch(g=>le.log(`Error cleaning cache: ${g}`))),s.stop(f?{suffix:f}:void 0)}}async getTarCacheKey(t,n){return n===void 0&&({HEAD:{sha:n}}=await this.providerService.getMetadata(t)),this.getTarStorageUri(t,n).toString()}getTarStorageUri(t,n){return d.Uri.joinPath(this.root,"tars",I(this.providerService.getCanonicalUri(t),{excludeScheme:!0}),n)}async readDir(t){try{return(await d.workspace.fs.readDirectory(t)).map(n=>d.Uri.joinPath(t,n[0]))}catch{return[]}}temporarilyDisableIndexing(){this.indexingDisabled=!0}async isIndexingEnabledForRepo(t){if(this.indexingDisabled)return!1;const n=await this.getIndexingEnabledRepos();if(n.has("*"))return!0;const{name:r}=this.providerService.getVirtualUriMetadata(t);if(!!r){if(n.has(r))return!0;if(n.has(`-${r}`))return!1}}async configureIndexingAllowedRepos(){const t=[...(await this.getIndexingEnabledRepos()).values()],n=await d.window.showQuickPick(t.map(r=>({picked:!0,label:r.startsWith("-")?`${jn("disallowed","Disallowed:")} ${r.slice(1)}`:`${jn("disallowed","Allowed:")} ${r}`})),{canPickMany:!0,title:jn("select repos where indexing is allowed","Repository index allowance overrides")});n&&await this.writeIndexEnablementData(n.map(r=>r.label))}async getIndexingEnabledRepos(){let t;try{t=JSON.parse(Rl.decode(await d.workspace.fs.readFile(this.indexingAllowanceFile)))}catch(n){n instanceof d.FileSystemError&&n.code!==d.FileSystemError.FileNotFound().code&&le.error(n,"Error reading index allowance data."),t=[]}return new Set(t)}async listTars(){const t=await this.readDir(d.Uri.joinPath(this.root,"tars")).catch(()=>[]),n=(await Promise.all(t.map(a=>this.readDir(a)))).flat(),r=(await Promise.all(n.map(a=>this.readDir(a)))).flat(),i=(await Promise.all(r.map(a=>this.readDir(a)))).flat();return Promise.all(i.map(async a=>({name:a.path.replace(/^.*\/tars\//,""),path:a,size:(await d.workspace.fs.stat(a)).size})))}async markIndexingEnablementForRepos(t){let n;try{n=JSON.parse(Rl.decode(await d.workspace.fs.readFile(this.indexingAllowanceFile)))}catch(a){a instanceof d.FileSystemError&&a.code!==d.FileSystemError.FileNotFound().code&&le.error(a,"Error reading index allowance data."),n=[]}const r=t?this.providerService.repositories.map(a=>a.name):[],i=t?[]:this.providerService.repositories.map(a=>a.name);n=[...n,...r].filter(a=>a.startsWith("-")?!r.includes(a.slice(1)):!i.includes(a));for(const a of i)n.push(`-${a}`);this.indexingDisabled=!1,await this.writeIndexEnablementData(n)}async writeIndexEnablementData(t){await d.workspace.fs.writeFile(this.indexingAllowanceFile,Rf.encode(JSON.stringify(t))),await this.updateContext(),setTimeout(()=>this._onDidChangeIndexingEnablement.fire(),0)}async markCacheEntryUsed(t){let n;try{n=JSON.parse(Rl.decode(await d.workspace.fs.readFile(this.usageFile)))}catch(r){r instanceof d.FileSystemError&&r.code!==d.FileSystemError.FileNotFound().code&&le.error(r,"Error reading usage data."),n={}}n[t]=Number(Date.now()),await d.workspace.fs.writeFile(this.usageFile,Rf.encode(JSON.stringify(n)))}async cleanUpCache(){var t,n;le.log("Cleaning up search cache...");const r=await this.listTars();let i;try{i=JSON.parse(Rl.decode(await d.workspace.fs.readFile(this.usageFile)))}catch(w){w instanceof d.FileSystemError&&w.code!==d.FileSystemError.FileNotFound().code&&le.error(w,"Error reading usage data. All existing indexes will be discarded."),i={}}const a=[];r.forEach(w=>{var A;const T=/^([^/]*\/[^/]*)\//.exec(w.name);if(!T)throw Error("Unexpected repo entry");const C=T[1],D=(A=i[w.name])!=null?A:0;a.push({...w,lastUsed:D,repo:C})}),a.sort((w,A)=>A.lastUsed-w.lastUsed);let o=0;const s=[],u=new Map,c=(t=rt.get("indexing.cacheSizeLimit"))!=null?t:rt.get("search.download.sizeLimit"),f=(n=rt.get("indexing.cacheRepoLimit"))!=null?n:rt.get("search.download.repoLimit"),v=(c!=null?c:100)*1024*1024,g=f!=null?f:4;a.forEach(w=>{var A,T;(w.lastUsed===0||o>v||((A=u.get(w.repo))!=null?A:0)>g)&&s.push(w),o+=w.size,u.set(w.repo,((T=u.get(w.repo))!=null?T:0)+1)}),await Promise.all(s.map(async w=>{try{await d.workspace.fs.delete(w.path,{recursive:!0}),delete i[w.name],le.log(`Deleted cache entry for ${w.name}`)}catch(A){le.log(`Deleting cache entry for ${w.name} failed; ${String(A)}`)}})),await d.workspace.fs.writeFile(this.usageFile,Rf.encode(JSON.stringify(i))),await this.updateContext()}}l(E0,"TarPit");const yx=(0,Xe.loadMessageBundle)();async function _x(e,t,n,r,i,a,o){return kf("provideTextSearchResults",async()=>{const s=xw(r.pattern,Boolean(r.isRegExp),{matchCase:r.isCaseSensitive,wholeWord:r.isWordMatch,multiline:r.isMultiline,global:!0});let u;try{u=await kf("fetch tarball",()=>n.getTar(i.folder,!0))}catch(C){if(C instanceof d.CancellationError)throw C;return{limitHit:!1,message:{type:d.TextSearchCompleteMessageType.Warning,trusted:!0,text:yx("indexNotAvailable","Repository index not available. [Retry with indexing disabled]({0}).","command:remoteHub.disableIndexingForSession")}}}if(o.isCancellationRequested)return{limitHit:!1};const{maxResults:c,maxFileSize:f,includes:v,excludes:g}=i,w=await xx(i.folder,e,u,t);if(o.isCancellationRequested)return{limitHit:!0};let A=c;const T=bw(w,v,g,f);return kf("searchFiles",async()=>{var C,D;let $=0;for(const V of w){if(!T.has(V.path))continue;const q=Ew(V.contents,V.path,s,{beforeContext:(C=i.beforeContext)!=null?C:0,afterContext:(D=i.afterContext)!=null?D:0,previewOptions:i.previewOptions,remainingResultQuota:A});for(const ee of q)a.report({...ee,uri:d.Uri.joinPath(i.folder,ee.uri.path)});if(A!==void 0&&(A-=q.length,A<=0))return{limitHit:!0};if($++,$%1e4==0&&(await new Promise(ee=>setTimeout(ee,0)),o.isCancellationRequested))return{limitHit:!1}}return{limitHit:!1}})})}l(_x,"provideTextSearchResults");async function xx(e,t,n,r){const i=n.entries,a=t.getVirtualRootUri(e),o=await r.getChanges(a,{predicate:v=>v.fileType===d.FileType.File});if(o.length===0)return i.map(v=>({contents:v.dataAsBytes,path:v.header.fullFileName,size:v.dataAsBytes.byteLength}));const s=await Promise.all(ul(o,v=>{if(v.type===Y.Created)return r.getContent(v.uri).then(g=>({path:t.getRelativeFilePath(a,v.uri),size:g.length,contents:g}))})),u=await Promise.all(ul(o,v=>{if(v.type===Y.Changed)return r.getContent(v.uri).then(g=>({path:t.getRelativeFilePath(a,v.uri),size:g.length,contents:g}))})),c=new Set(yw(Zp(u,v=>v.path),ul(o,v=>{if(v.type===Y.Deleted)return t.getRelativeFilePath(a,v.uri)})));return[...ul(i,v=>{if(!c.has(v.header.fullFileName))return{contents:v.dataAsBytes,path:v.header.fullFileName,size:v.dataAsBytes.byteLength}}),...s,...u]}l(xx,"listAllFiles");function qb(e,t){const n=Date.now(),r=t();return Logger.log(`${e} time: ${Date.now()-n}`),r}l(qb,"timeSync");async function kf(e,t){const n=Date.now(),r=await t();return le.log(`${e} time: ${Date.now()-n}`),r}l(kf,"time");var bx=Object.defineProperty,Ex=Object.getOwnPropertyDescriptor,Df=l((e,t,n,r)=>{for(var i=r>1?void 0:r?Ex(t,n):t,a=e.length-1,o;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&bx(t,n,i),i},"fs_decorateClass");const Ff=(0,Xe.loadMessageBundle)(),Sx=d.FileSystemError.FileNotFound().code,Cx=/(\/|\\)/g,S0=".vscode/.github-pull-request.rec";class Po{constructor(t,n,r,i,a){this.providerService=t,this.github=n,this.changeStore=r,this.tarPit=i,this.telemetryService=a,this._onDidChangeFile=new d.EventEmitter,this.fileSearchCache=new Map,this.pendingUriRequests=new Map,this.pendingUriRequestsEventDelay=10,this.implicitlyWatchedUris=new Map,this.watchedUris=new Map,this.disposable=d.Disposable.from(d.workspace.registerFileSystemProvider(this.scheme,this,{isCaseSensitive:!0,isReadonly:!0}),d.workspace.registerFileSearchProvider(this.scheme,this),d.workspace.registerTextSearchProvider(this.scheme,this),t.onDidChangeRepository(o=>{o.reason==="HEAD"&&this.onRefreshOrRepositoryChanged([o.repository.uri])}),t.onDidRefresh(o=>this.onRefreshOrRepositoryChanged(o)))}get onDidChangeFile(){return this._onDidChangeFile.event}get scheme(){return this.github.scheme}dispose(){var t;(t=this.disposable)==null||t.dispose()}onRefreshOrRepositoryChanged(t){if(t=t.filter(n=>H.getProviderId(n)===this.scheme).map(n=>H.getProviderUri(n)),t.length!==0){le.log(`GitHubFS.onRefreshOrRepositoryChanged(${t.map(n=>n.toString()).join(", ")})`),this.fileSearchCache.clear();for(const[n,r]of[...this.pendingUriRequests])t.some(i=>Z(r.uri,i))&&(this.pendingUriRequests.delete(n),r.outdated=!0);this.updateOpenOrWatchedUris(t)}}updateOpenOrWatchedUris(t){const n=H.getOpenUris(this.scheme,t);for(const[i,a]of[...this.watchedUris,...this.implicitlyWatchedUris])t.some(o=>Z(a,o))&&(this.implicitlyWatchedUris.delete(i),n.set(i,a));le.debug(`GitHubFS.updateOpenOrWatchedUris(${t.map(i=>i.toString()).join(", ")}): uris=${n.size}`);for(const i of t)n.set(x(i),i);const r=[...n.values()].map(i=>({type:d.FileChangeType.Changed,uri:i}));setTimeout(()=>{le.debug(`GitHubFS.updateOpenOrWatchedUris: Firing events=${r.map(i=>i.uri.toString()).join(", ")}`),this._onDidChangeFile.fire(r)},0)}watch(t,n){const r=x(t);return this.watchedUris.set(r,t),{dispose:()=>{this.watchedUris.delete(r)}}}async stat(t){var n,r;const i=x(t);this.implicitlyWatchedUris.set(i,t);const a=this.providerService.getRelativeFilePath(t),o={uri:t,outdated:!1};try{this.pendingUriRequests.set(`stat:${i}`,o);const s=await this.github.getFileTree(t),u=await s.get(a);if(u==null?void 0:u.stat)return u==null?void 0:u.stat;if(this.implicitlyWatchedUris.delete(i),t.query==="~")return{type:d.FileType.File,size:0,ctime:0,mtime:(n=s.timestamp)!=null?n:Date.now(),permissions:d.FilePermission.Readonly};if(a===S0){const{ref:c}=this.providerService.getVirtualUriMetadata(t);if((c==null?void 0:c.type)===Me.PullRequest)return{type:d.FileType.File,size:0,ctime:0,mtime:(r=s.timestamp)!=null?r:Date.now(),permissions:d.FilePermission.Readonly}}throw d.FileSystemError.FileNotFound(t)}finally{this.pendingUriRequests.delete(`stat:${i}`),(o==null?void 0:o.outdated)&&setTimeout(()=>{le.log(`GitHubFS.stat(${t.toString()}): Repository changed; firing change event...`),this._onDidChangeFile.fire([{type:d.FileChangeType.Changed,uri:t}])},this.pendingUriRequestsEventDelay)}}async readDirectory(t,n){var r;this.implicitlyWatchedUris.set(x(t),t);let i;const a=this.providerService.getRelativeFilePath(t);let o;try{return i=await this.github.getFileTree(t),(await i.getChildren(a,n)).map(([u,{stat:{type:c}}])=>[u,c])}catch(s){throw o=s,a===""&&s instanceof Error&&this.telemetryService.sendErrorEvent("fs.readRootDirectory.error",{errorName:s.name,errorMessage:s.message,errorStack:(r=s.stack)!=null?r:""},void 0,[]),s}finally{a===""&&(P.stop("Time to root directory"),this.telemetryService.reportWorkbenchLoadResult({result:o===void 0?"Success":"Failure",errorMessage:(i==null?void 0:i.hasEntireTree)?"":"Unable to load entire tree",errorDetail:o}))}}createDirectory(t){throw d.FileSystemError.NoPermissions()}async readFile(t){const n=x(t);this.implicitlyWatchedUris.set(n,t);const r={uri:t,outdated:!1};try{return this.pendingUriRequests.set(n,r),await this.github.getFileContent(t)}catch(i){if(this.implicitlyWatchedUris.delete(n),i instanceof d.FileSystemError&&i.code===Sx){if(t.query==="~")return new Uint8Array(0);if(this.providerService.getRelativeFilePath(t)===S0){const{ref:o}=this.providerService.getVirtualUriMetadata(t);if((o==null?void 0:o.type)===Me.PullRequest)return new Uint8Array(0)}}throw i}finally{this.pendingUriRequests.delete(n),(r==null?void 0:r.outdated)&&setTimeout(()=>{le.log(`GitHubFS.readFile(${t.toString()}): Repository changed; firing change event...`),this._onDidChangeFile.fire([{type:d.FileChangeType.Changed,uri:t}])},this.pendingUriRequestsEventDelay)}}writeFile(t,n,r){throw d.FileSystemError.NoPermissions()}delete(t,n){throw d.FileSystemError.NoPermissions()}rename(t,n,r){throw d.FileSystemError.NoPermissions()}copy(t,n,r){throw d.FileSystemError.NoPermissions()}async provideFileSearchResults(t,{folder:n,maxResults:r,includes:i,excludes:a},o){const s=`${x(n)}|${JSON.stringify({includes:i,excludes:a})}`;let u=this.fileSearchCache.get(s);if(u===void 0){const f=this.providerService.getRelativeFilePath(n);let v;await this.github.hasFileTree(n)&&(v=await this.github.getFileTree(n));let g;if(v===void 0||v.loading||!v.hasEntireTree?g=await this.github.getFileList(n,f):g=(await v.getChildren(f,{filter:d.FileType.File,recursive:!0})).map(([w])=>w),g.length===0||o.isCancellationRequested)return[];((i==null?void 0:i.length)||(a==null?void 0:a.length))&&(g=[...Kp(g,i,a)]),u=g.map(w=>Yu.prepareSlow(w)),this.fileSearchCache.set(s,u)}let c;return t.pattern===""?c=u.map(f=>d.Uri.joinPath(n,f.target)):(c=Yu.go(t.pattern.replace(Cx,"/"),u,{allowTypo:!0,limit:r}).map(f=>d.Uri.joinPath(n,f.target)),Yu.cleanup()),r!==void 0&&r!==0&&r<c.length&&(c=c.slice(0,r)),c}async provideTextSearchResults(t,n,r,i){const a=[];if(await this.tarPit.isIndexingEnabledForRepo(n.folder)!==!1)try{return await _x(this.providerService,this.changeStore,this.tarPit,t,n,r,i)}catch(u){u instanceof d.CancellationError||a.push({text:Ff("index error","Error searching index, falling back to GitHub search. Try [deleting this repo's data]({0}) or [deleting all local data]({1}) to rebuild the index.","command:remoteHub.deleteLocalRepositoryData","command:remoteHub.deleteAllLocalRepositoryData"),type:d.TextSearchCompleteMessageType.Warning})}t.isCaseSensitive||t.isRegExp||t.isWordMatch?a.push({text:Ff("flags not supported","Search flags are not supported by GitHub search. [Download full index]({0}) for full search features and exact text searches.","command:remoteHub.enableIndexing"),type:d.TextSearchCompleteMessageType.Warning,trusted:!0}):a.push({text:Ff("enable index","Partial results shown. [Download full index]({0}) for exact text searches.","command:remoteHub.enableIndexing"),type:d.TextSearchCompleteMessageType.Information,trusted:!0});const o=await this.github.searchCodeQuery(t.pattern,n.folder,{maxResults:n.maxResults,context:{before:n.beforeContext,after:n.afterContext}});if(o.warnings&&o.warnings.forEach(u=>{a.push({text:u,trusted:!0,type:d.TextSearchCompleteMessageType.Warning})}),o===void 0)return{limitHit:!0,message:a};let s;for(const u of o.matches)s=d.Uri.joinPath(n.folder,u.path),r.report({uri:s,ranges:u.ranges,preview:{text:u.preview,matches:u.matches}});return{limitHit:!1,message:a}}}l(Po,"GitHubFS"),Df([ef()],Po.prototype,"stat",1),Df([ef()],Po.prototype,"readDirectory",1),Df([ef()],Po.prototype,"readFile",1);var Ax=__webpack_require__(6470);const Ix=globalThis.fetch;async function C0(e,t,n){const r=new AbortController;n.onCancellationRequested(()=>r.abort());try{return await globalThis.fetch(e,{...t,signal:r.signal})}catch(i){throw n.isCancellationRequested?new d.CancellationError:i}}l(C0,"fetchWithCancellation");async function A0(e,t,n,r,i){if(n===0)throw new d.CancellationError;const a=new d.CancellationTokenSource;r.onCancellationRequested(()=>a.cancel());try{const o=await C0(e,t,a.token);if(o.body){const s=[];let u=0;const c=o.body.getReader();let f=3;for(;;){let{done:v,value:g}=await c.read();if(v){const A=s.reduce((D,$)=>D+$.length,0),T=new Uint8Array(A);let C=0;for(const D of s)T.set(D,C),C+=D.length;return T}g&&(s.push(g),u+=g.length);const w=Math.floor(u/(1024*1024));if(f<w){f=w;const A={message:w+" MB"};i.report(A)}if(n!==void 0&&u>n)throw c.cancel(),a.cancel(),new Error("LIMIT_HIT")}}}catch(o){throw r.isCancellationRequested?new d.CancellationError:o}throw new d.CancellationError}l(A0,"fetchUInt8ArrayWithMaxSizeAndCancellation");var Oo=__webpack_require__(4155);function kl(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof Oo=="object"&&"version"in Oo?`Node.js/${Oo.version.substr(1)} (${Oo.platform}; ${Oo.arch})`:"<environment undetectable>"}l(kl,"getUserAgent");var Tx=__webpack_require__(5186);/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function I0(e){return Object.prototype.toString.call(e)==="[object Object]"}l(I0,"isObject");function T0(e){var t,n;return I0(e)===!1?!1:(t=e.constructor,t===void 0?!0:(n=t.prototype,!(I0(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}l(T0,"isPlainObject");function Rx(e){return e?Object.keys(e).reduce((t,n)=>(t[n.toLowerCase()]=e[n],t),{}):{}}l(Rx,"lowercaseKeys");function R0(e,t){const n=Object.assign({},e);return Object.keys(t).forEach(r=>{T0(t[r])?r in e?n[r]=R0(e[r],t[r]):Object.assign(n,{[r]:t[r]}):Object.assign(n,{[r]:t[r]})}),n}l(R0,"mergeDeep");function k0(e){for(const t in e)e[t]===void 0&&delete e[t];return e}l(k0,"removeUndefinedProperties");function Nf(e,t,n){if(typeof t=="string"){let[i,a]=t.split(" ");n=Object.assign(a?{method:i,url:a}:{url:i},n)}else n=Object.assign({},t);n.headers=Rx(n.headers),k0(n),k0(n.headers);const r=R0(e||{},n);return e&&e.mediaType.previews.length&&(r.mediaType.previews=e.mediaType.previews.filter(i=>!r.mediaType.previews.includes(i)).concat(r.mediaType.previews)),r.mediaType.previews=r.mediaType.previews.map(i=>i.replace(/-preview/,"")),r}l(Nf,"dist_web_merge");function kx(e,t){const n=/\?/.test(e)?"&":"?",r=Object.keys(t);return r.length===0?e:e+n+r.map(i=>i==="q"?"q="+t.q.split("+").map(encodeURIComponent).join("+"):`${i}=${encodeURIComponent(t[i])}`).join("&")}l(kx,"addQueryParameters");const Dx=/\{[^}]+\}/g;function Fx(e){return e.replace(/^\W+|\W+$/g,"").split(/,/)}l(Fx,"removeNonChars");function Nx(e){const t=e.match(Dx);return t?t.map(Fx).reduce((n,r)=>n.concat(r),[]):[]}l(Nx,"extractUrlVariableNames");function D0(e,t){return Object.keys(e).filter(n=>!t.includes(n)).reduce((n,r)=>(n[r]=e[r],n),{})}l(D0,"omit");function F0(e){return e.split(/(%[0-9A-Fa-f]{2})/g).map(function(t){return/%[0-9A-Fa-f]/.test(t)||(t=encodeURI(t).replace(/%5B/g,"[").replace(/%5D/g,"]")),t}).join("")}l(F0,"encodeReserved");function Ca(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}l(Ca,"encodeUnreserved");function Uo(e,t,n){return t=e==="+"||e==="#"?F0(t):Ca(t),n?Ca(n)+"="+t:t}l(Uo,"encodeValue");function Aa(e){return e!=null}l(Aa,"isDefined");function Lf(e){return e===";"||e==="&"||e==="?"}l(Lf,"isKeyOperator");function Lx(e,t,n,r){var i=e[n],a=[];if(Aa(i)&&i!=="")if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")i=i.toString(),r&&r!=="*"&&(i=i.substring(0,parseInt(r,10))),a.push(Uo(t,i,Lf(t)?n:""));else if(r==="*")Array.isArray(i)?i.filter(Aa).forEach(function(o){a.push(Uo(t,o,Lf(t)?n:""))}):Object.keys(i).forEach(function(o){Aa(i[o])&&a.push(Uo(t,i[o],o))});else{const o=[];Array.isArray(i)?i.filter(Aa).forEach(function(s){o.push(Uo(t,s))}):Object.keys(i).forEach(function(s){Aa(i[s])&&(o.push(Ca(s)),o.push(Uo(t,i[s].toString())))}),Lf(t)?a.push(Ca(n)+"="+o.join(",")):o.length!==0&&a.push(o.join(","))}else t===";"?Aa(i)&&a.push(Ca(n)):i===""&&(t==="&"||t==="?")?a.push(Ca(n)+"="):i===""&&a.push("");return a}l(Lx,"getValues");function Bx(e){return{expand:$x.bind(null,e)}}l(Bx,"parseUrl");function $x(e,t){var n=["+","#",".","/",";","?","&"];return e.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(r,i,a){if(i){let s="";const u=[];if(n.indexOf(i.charAt(0))!==-1&&(s=i.charAt(0),i=i.substr(1)),i.split(/,/g).forEach(function(c){var f=/([^:\*]*)(?::(\d+)|(\*))?/.exec(c);u.push(Lx(t,s,f[1],f[2]||f[3]))}),s&&s!=="+"){var o=",";return s==="?"?o="&":s!=="#"&&(o=s),(u.length!==0?s:"")+u.join(o)}else return u.join(",")}else return F0(a)})}l($x,"expand");function N0(e){let t=e.method.toUpperCase(),n=(e.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),r=Object.assign({},e.headers),i,a=D0(e,["method","baseUrl","url","headers","request","mediaType"]);const o=Nx(n);n=Bx(n).expand(a),/^http/.test(n)||(n=e.baseUrl+n);const s=Object.keys(e).filter(f=>o.includes(f)).concat("baseUrl"),u=D0(a,s);if(!/application\/octet-stream/i.test(r.accept)&&(e.mediaType.format&&(r.accept=r.accept.split(/,/).map(f=>f.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${e.mediaType.format}`)).join(",")),e.mediaType.previews.length)){const f=r.accept.match(/[\w-]+(?=-preview)/g)||[];r.accept=f.concat(e.mediaType.previews).map(v=>{const g=e.mediaType.format?`.${e.mediaType.format}`:"+json";return`application/vnd.github.${v}-preview${g}`}).join(",")}return["GET","HEAD"].includes(t)?n=kx(n,u):"data"in u?i=u.data:Object.keys(u).length?i=u:r["content-length"]=0,!r["content-type"]&&typeof i!="undefined"&&(r["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(t)&&typeof i=="undefined"&&(i=""),Object.assign({method:t,url:n,headers:r},typeof i!="undefined"?{body:i}:null,e.request?{request:e.request}:null)}l(N0,"parse");function Mx(e,t,n){return N0(Nf(e,t,n))}l(Mx,"endpointWithDefaults");function L0(e,t){const n=Nf(e,t),r=Mx.bind(null,n);return Object.assign(r,{DEFAULTS:n,defaults:L0.bind(null,n),merge:Nf.bind(null,n),parse:N0})}l(L0,"withDefaults");const Px=`octokit-endpoint.js/6.0.12 ${kl()}`,Ox=L0(null,{method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":Px},mediaType:{format:"",previews:[]}});var Ux=__webpack_require__(3300),Hx=__webpack_require__.n(Ux);class Bf extends Error{constructor(t){super(t);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="Deprecation"}}l(Bf,"Deprecation");var zx=__webpack_require__(447),B0=__webpack_require__.n(zx);const qx=B0()(e=>console.warn(e)),Wx=B0()(e=>console.warn(e));class Pr extends Error{constructor(t,n,r){super(t);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=n;let i;"headers"in r&&typeof r.headers!="undefined"&&(i=r.headers),"response"in r&&(this.response=r.response,i=r.response.headers);const a=Object.assign({},r.request);r.request.headers.authorization&&(a.headers=Object.assign({},r.request.headers,{authorization:r.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),a.url=a.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=a,Object.defineProperty(this,"code",{get(){return qx(new Bf("[@octokit/request-error] `error.code` is deprecated, use `error.status`.")),n}}),Object.defineProperty(this,"headers",{get(){return Wx(new Bf("[@octokit/request-error] `error.headers` is deprecated, use `error.response.headers`.")),i||{}}})}}l(Pr,"RequestError");const jx="5.6.3";function Vx(e){return e.arrayBuffer()}l(Vx,"getBufferResponse");function $0(e){const t=e.request&&e.request.log?e.request.log:console;(T0(e.body)||Array.isArray(e.body))&&(e.body=JSON.stringify(e.body));let n={},r,i;return(e.request&&e.request.fetch||Hx())(e.url,Object.assign({method:e.method,body:e.body,headers:e.headers,redirect:e.redirect},e.request)).then(async o=>{i=o.url,r=o.status;for(const s of o.headers)n[s[0]]=s[1];if("deprecation"in n){const s=n.link&&n.link.match(/<([^>]+)>; rel="deprecation"/),u=s&&s.pop();t.warn(`[@octokit/request] "${e.method} ${e.url}" is deprecated. It is scheduled to be removed on ${n.sunset}${u?`. See ${u}`:""}`)}if(!(r===204||r===205)){if(e.method==="HEAD"){if(r<400)return;throw new Pr(o.statusText,r,{response:{url:i,status:r,headers:n,data:void 0},request:e})}if(r===304)throw new Pr("Not modified",r,{response:{url:i,status:r,headers:n,data:await $f(o)},request:e});if(r>=400){const s=await $f(o);throw new Pr(Gx(s),r,{response:{url:i,status:r,headers:n,data:s},request:e})}return $f(o)}}).then(o=>({status:r,url:i,headers:n,data:o})).catch(o=>{throw o instanceof Pr?o:new Pr(o.message,500,{request:e})})}l($0,"fetchWrapper");async function $f(e){const t=e.headers.get("content-type");return/application\/json/.test(t)?e.json():!t||/^text\/|charset=utf-8$/.test(t)?e.text():Vx(e)}l($f,"getResponseData");function Gx(e){return typeof e=="string"?e:"message"in e?Array.isArray(e.errors)?`${e.message}: ${e.errors.map(JSON.stringify).join(", ")}`:e.message:`Unknown error: ${JSON.stringify(e)}`}l(Gx,"toErrorMessage");function Mf(e,t){const n=e.defaults(t);return Object.assign(l(function(i,a){const o=n.merge(i,a);if(!o.request||!o.request.hook)return $0(n.parse(o));const s=l((u,c)=>$0(n.parse(n.merge(u,c))),"request");return Object.assign(s,{endpoint:n,defaults:Mf.bind(null,n)}),o.request.hook(s,o)},"newApi"),{endpoint:n,defaults:Mf.bind(null,n)})}l(Mf,"dist_web_withDefaults");const Dl=Mf(Ox,{headers:{"user-agent":`octokit-request.js/${jx} ${kl()}`}}),Kx="4.8.0";function Zx(e){return`Request failed due to following response errors:
`+e.errors.map(t=>` - ${t.message}`).join(`
`)}l(Zx,"_buildMessageForResponseErrors");class ci extends Error{constructor(t,n,r){super(Zx(r));this.request=t,this.headers=n,this.response=r,this.name="GraphqlResponseError",this.errors=r.errors,this.data=r.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}l(ci,"GraphqlResponseError");const Qx=["method","baseUrl","url","headers","request","query","mediaType"],Xx=["query","method","url"],M0=/\/api\/v3\/?$/;function Yx(e,t,n){if(n){if(typeof t=="string"&&"query"in n)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const o in n)if(!!Xx.includes(o))return Promise.reject(new Error(`[@octokit/graphql] "${o}" cannot be used as variable name`))}const r=typeof t=="string"?Object.assign({query:t},n):t,i=Object.keys(r).reduce((o,s)=>Qx.includes(s)?(o[s]=r[s],o):(o.variables||(o.variables={}),o.variables[s]=r[s],o),{}),a=r.baseUrl||e.endpoint.DEFAULTS.baseUrl;return M0.test(a)&&(i.url=a.replace(M0,"/api/graphql")),e(i).then(o=>{if(o.data.errors){const s={};for(const u of Object.keys(o.headers))s[u]=o.headers[u];throw new ci(i,s,o.data)}return o.data.data})}l(Yx,"graphql");function Pf(e,t){const n=e.defaults(t);return Object.assign(l((i,a)=>Yx(n,i,a),"newApi"),{defaults:Pf.bind(null,n),endpoint:Dl.endpoint})}l(Pf,"graphql_dist_web_withDefaults");const Vb=Pf(Dl,{headers:{"user-agent":`octokit-graphql.js/${Kx} ${kl()}`},method:"POST",url:"/graphql"});function Jx(e){return Pf(e,{method:"POST",url:"/graphql"})}l(Jx,"withCustomRequest");const eb=/^v1\./,tb=/^ghs_/,nb=/^ghu_/;async function rb(e){const t=e.split(/\./).length===3,n=eb.test(e)||tb.test(e),r=nb.test(e);return{type:"token",token:e,tokenType:t?"app":n?"installation":r?"user-to-server":"oauth"}}l(rb,"auth");function ib(e){return e.split(/\./).length===3?`bearer ${e}`:`token ${e}`}l(ib,"withAuthorizationPrefix");async function ab(e,t,n,r){const i=t.endpoint.merge(n,r);return i.headers.authorization=ib(e),t(i)}l(ab,"hook");const ob=l(function(t){if(!t)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof t!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return t=t.replace(/^(token|bearer) +/i,""),Object.assign(rb.bind(null,t),{hook:ab.bind(null,t)})},"createTokenAuth"),P0="3.5.1";class Ho{constructor(t={}){const n=new Tx.Collection,r={baseUrl:Dl.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},t.request,{hook:n.bind(null,"request")}),mediaType:{previews:[],format:""}};if(r.headers["user-agent"]=[t.userAgent,`octokit-core.js/${P0} ${kl()}`].filter(Boolean).join(" "),t.baseUrl&&(r.baseUrl=t.baseUrl),t.previews&&(r.mediaType.previews=t.previews),t.timeZone&&(r.headers["time-zone"]=t.timeZone),this.request=Dl.defaults(r),this.graphql=Jx(this.request).defaults(r),this.log=Object.assign({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},t.log),this.hook=n,t.authStrategy){const{authStrategy:a,...o}=t,s=a(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:o},t.auth));n.wrap("request",s.hook),this.auth=s}else if(!t.auth)this.auth=async()=>({type:"unauthenticated"});else{const a=ob(t.auth);n.wrap("request",a.hook),this.auth=a}this.constructor.plugins.forEach(a=>{Object.assign(this,a(this,t))})}static defaults(t){return l(class extends this{constructor(...r){const i=r[0]||{};if(typeof t=="function"){super(t(i));return}super(Object.assign({},t,i,i.userAgent&&t.userAgent?{userAgent:`${i.userAgent} ${t.userAgent}`}:null))}},"OctokitWithDefaults")}static plugin(...t){var n;const r=this.plugins;return n=l(class extends this{},"_a"),n.plugins=r.concat(t.filter(a=>!r.includes(a))),n}}l(Ho,"Octokit"),Ho.VERSION=P0,Ho.plugins=[];var O0;(function(e){e[e.Force=0]="Force",e[e.ForceWithLease=1]="ForceWithLease"})(O0||(O0={}));var ui;(function(e){e[e.Head=0]="Head",e[e.RemoteHead=1]="RemoteHead",e[e.Tag=2]="Tag"})(ui||(ui={}));var zo;(function(e){e[e.INDEX_MODIFIED=0]="INDEX_MODIFIED",e[e.INDEX_ADDED=1]="INDEX_ADDED",e[e.INDEX_DELETED=2]="INDEX_DELETED",e[e.INDEX_RENAMED=3]="INDEX_RENAMED",e[e.INDEX_COPIED=4]="INDEX_COPIED",e[e.MODIFIED=5]="MODIFIED",e[e.DELETED=6]="DELETED",e[e.UNTRACKED=7]="UNTRACKED",e[e.IGNORED=8]="IGNORED",e[e.INTENT_TO_ADD=9]="INTENT_TO_ADD",e[e.ADDED_BY_US=10]="ADDED_BY_US",e[e.ADDED_BY_THEM=11]="ADDED_BY_THEM",e[e.DELETED_BY_US=12]="DELETED_BY_US",e[e.DELETED_BY_THEM=13]="DELETED_BY_THEM",e[e.BOTH_ADDED=14]="BOTH_ADDED",e[e.BOTH_DELETED=15]="BOTH_DELETED",e[e.BOTH_MODIFIED=16]="BOTH_MODIFIED"})(zo||(zo={}));var U0;(function(e){e.BadConfigFile="BadConfigFile",e.AuthenticationFailed="AuthenticationFailed",e.NoUserNameConfigured="NoUserNameConfigured",e.NoUserEmailConfigured="NoUserEmailConfigured",e.NoRemoteRepositorySpecified="NoRemoteRepositorySpecified",e.NotAGitRepository="NotAGitRepository",e.NotAtRepositoryRoot="NotAtRepositoryRoot",e.Conflict="Conflict",e.StashConflict="StashConflict",e.UnmergedChanges="UnmergedChanges",e.PushRejected="PushRejected",e.RemoteConnectionError="RemoteConnectionError",e.DirtyWorkTree="DirtyWorkTree",e.CantOpenResource="CantOpenResource",e.GitNotFound="GitNotFound",e.CantCreatePipe="CantCreatePipe",e.PermissionDenied="PermissionDenied",e.CantAccessRemote="CantAccessRemote",e.RepositoryNotFound="RepositoryNotFound",e.RepositoryIsLocked="RepositoryIsLocked",e.BranchNotFullyMerged="BranchNotFullyMerged",e.NoRemoteReference="NoRemoteReference",e.InvalidBranchName="InvalidBranchName",e.BranchAlreadyExists="BranchAlreadyExists",e.NoLocalChanges="NoLocalChanges",e.NoStashFound="NoStashFound",e.LocalChangesOverwritten="LocalChangesOverwritten",e.NoUpstreamBranch="NoUpstreamBranch",e.IsInSubmodule="IsInSubmodule",e.WrongCase="WrongCase",e.CantLockRef="CantLockRef",e.CantRebaseMultipleBranches="CantRebaseMultipleBranches",e.PatchDoesNotApply="PatchDoesNotApply",e.NoPathFound="NoPathFound",e.UnknownPath="UnknownPath"})(U0||(U0={}));class Of{constructor(t,n){this.path=t,this.relativePath=n}}l(Of,"TrieNode");class H0{constructor(){this.root=new Of("","")}get(t){var n;t.startsWith("/")?t=t.slice(1,t.endsWith("/")?-1:void 0):t.endsWith("/")&&(t=t.slice(0,-1));let r=this.root;for(const i of t.split("/")){const a=(n=r.children)==null?void 0:n.get(i);if(a===void 0)return;r=a}return r.path===t?r.data:void 0}getChildren(t){var n;t.startsWith("/")?t=t.slice(1,t.endsWith("/")?-1:void 0):t.endsWith("/")&&(t=t.slice(0,-1));let r=this.root;if(t)for(const i of t.split("/")){const a=(n=r.children)==null?void 0:n.get(i);if(a===void 0)return[];r=a}return r.children===void 0?[]:[...r.children.values()].map(i=>[i.relativePath,i.data])}getDescendants(t){var n;t.startsWith("/")?t=t.slice(1,t.endsWith("/")?-1:void 0):t.endsWith("/")&&(t=t.slice(0,-1));let r=this.root;const i=[];if(t)for(const a of t.split("/")){const o=(n=r.children)==null?void 0:n.get(a);if(o===void 0)return i;r=o}if(r.children!==void 0){let a=l(function(o,s,u){for(const c of o.values()){const f=`${s?`${s}/`:""}${c.relativePath}`;c.data&&u.push([f,c.data]),c.children!==void 0&&a(c.children,f,u)}},"getDescendantsCore");a(r.children,"",i)}return i}has(t){var n;t.startsWith("/")?t=t.slice(1,t.endsWith("/")?-1:void 0):t.endsWith("/")&&(t=t.slice(0,-1));let r=this.root;for(const i of t.split("/")){const a=(n=r.children)==null?void 0:n.get(i);if(a===void 0)return!1;r=a}return r.path===t}set(t,n){var r;t.startsWith("/")?t=t.slice(1,t.endsWith("/")?-1:void 0):t.endsWith("/")&&(t=t.slice(0,-1));let i=this.root,a="";for(const o of t.split("/")){let s=(r=i.children)==null?void 0:r.get(o);a=`${a?`${a}/`:""}${o}`,s===void 0&&(i.children===void 0&&(i.children=new Map),s=new Of(a,o),i.children.set(o,s)),i=s}i.data=n}}l(H0,"Trie");var sb=__webpack_require__(5431),Uf=__webpack_require__.n(sb);class Hf{constructor(t,n,r,i,a){if(this.rootUri=t,this.sha=n,this.timestamp=r,this.provider=i,this.trie=new H0,this._hasEntireTree=!1,this._isContentCached=!1,i===void 0)return;const o=[i];i.onDidTriggerContentCaching!==void 0&&i.tryCachingContent!==void 0&&o.push(i.onDidTriggerContentCaching(s=>{(!s||x(s.rootUri)===x(this.rootUri)&&s.sha===this.sha)&&!this.loading&&this.hasEntireTree&&!this.isContentCached&&i.tryCachingContent(this.trie.get.bind(this.trie)).then(u=>this._isContentCached=u,()=>this._isContentCached=!0)})),this._loading=this.load(a==null?void 0:a.path,a==null?void 0:a.recursive).then(s=>(this._hasEntireTree=(s==null?void 0:s.success)?s.recursive:!1,this._hasEntireTree&&setTimeout(()=>{var u;return void((u=i.tryCachingContent)==null?void 0:u.call(i,this.trie.get.bind(this.trie)).then(c=>this._isContentCached=c,()=>this._isContentCached=!0))},0),this._loading=void 0,this.preloading=void 0,this.treeSha=(s==null?void 0:s.success)?s.sha:void 0,this.treeSha)),(a==null?void 0:a.preload)&&(this.preloading=new Map([["",this.load("")],[".vscode",this.load(".vscode")]])),this.disposable=d.Disposable.from(...o)}get hasEntireTree(){return this._hasEntireTree}get isContentCached(){return this._isContentCached}get loading(){return this._loading!==void 0}get permissions(){var t;return(t=this.provider)==null?void 0:t.permissions}dispose(){var t;(t=this.disposable)==null||t.dispose()}async get(t){var n;if(t==="")return{mode:"040000",sha:this.treeSha,stat:{type:d.FileType.Directory,size:0,ctime:0,mtime:(n=this.timestamp)!=null?n:Date.now(),permissions:await this.permissions},getContent:void 0};let r=this.trie.get(t);return r!==void 0||(await this.ensureLoaded(t),r=this.trie.get(t)),r}async getChildren(t,n){await this.ensureLoaded(t,!0);const r=(n==null?void 0:n.recursive)?this.trie.getDescendants(t):this.trie.getChildren(t);return(n==null?void 0:n.filter)===void 0?r:r.filter(([,i])=>i.stat.type===n.filter)}async getTreeSha(){return await this.waitUntilLoaded(),this.treeSha}async waitUntilLoaded(){this._loading!==void 0&&await this._loading}async ensureLoaded(t,n=!1){if(this._loading!==void 0){let i;if(this.preloading!==void 0)if(n)i=this.preloading.get(t);else{const a=ww(this.preloading,([o])=>t.startsWith(o)&&t.lastIndexOf("/")===(o?o.length:-1));i=a==null?void 0:a[1]}await(i!=null?i:this._loading)}if(this.hasEntireTree||t==="")return;let r=this.trie.get(t);if(r)return n&&(r==null?void 0:r.loadChildren)?r.loadChildren():void 0;if(await this.ensureLoaded(t.substr(0,t.lastIndexOf("/")),!0),r=this.trie.get(t),n&&(r==null?void 0:r.loadChildren))return r.loadChildren()}async load(t,n=!1){var r;if(((r=this.provider)==null?void 0:r.getTree)===void 0)return;const i=new P(`FileTree.load(${this.sha}:${t})`);let a;try{i.logStep("Tree query");const o=await this.provider.getTree(t,n);if(o.truncated){le.warn(`Loading file tree for path=${t} was truncated`),i.logStep("Fixing directories",{message:`: Tree=${o.sha};`,suffix:" \u2022 Fixing directories..."});for(const[u,c]of this.trie.getDescendants(""))c.stat.type===d.FileType.Directory&&(c.loadChildren=Uf()(()=>this.load(u).then(()=>c.loadChildren=void 0)));return a=` \u2022 Tree=${o.sha} \u2022 Truncated`,{sha:o.sha,recursive:!1,success:!0}}let s;this.permissions!==void 0&&(i.logStep("Permissions query",{message:`: Tree=${o.sha};`,suffix:" \u2022 Waiting for permissions..."}),s=await this.permissions),i.logStep("Filling trie",{suffix:" \u2022 Filling trie..."});for(let{path:u,item:c}of o.tree)if(u!==void 0){switch(u=t?`${t}/${u}`:u,c.stat.permissions=s,c.stat.type){case d.FileType.File:c.getContent=Uf()(()=>this.provider.getContent(c,u));break;case d.FileType.Directory:n||(c.loadChildren=Uf()(()=>this.load(u).then(()=>c.loadChildren=void 0)));break}this.trie.set(u,c)}return a=` \u2022 Tree=${o.sha}`,{sha:o.sha,recursive:n,success:!0}}catch(o){return a=`\u2022 Loading for path=${t} failed; ${String(o)}`,{error:o,success:!1}}finally{i.stop(a?{suffix:a}:void 0)}}}l(Hf,"FileTree");var lb=__webpack_require__(7769);const cb="github-pr-owner-number";function ub(e){return`branch.${e}.${cb}`}l(ub,"getMetadataKeyForBranch");const fb=(0,Xe.loadMessageBundle)(),z0=new TextDecoder;class q0{constructor(t,n,r,i,a,o){this.providerService=t,this.rootUri=n,this.sourceControl=r,this.metadata=i,this.changeStore=a,this.github=o,this._onDidChangeSelection=new d.EventEmitter,this._onDidChangeState=new d.EventEmitter,this._objects=new Map,this.disposable=d.Disposable.from(this.sourceControl.onDidChangeSelection(()=>this._onDidChangeSelection.fire()),this.providerService.onDidRefresh(c=>{const f=x(this.rootUri);!c.some(v=>x(v)===f)||this.updateState(this.metadata)}),this.providerService.onDidChangeRepository(async({repository:c})=>{x(this.rootUri)===x(c.uri)&&this.updateState(await c.getMetadata())}),this.changeStore.onDidChange(()=>this.updateState(this.metadata)),this._onDidChangeSelection,this._onDidChangeState),this._inputBox={get value(){return r.inputBox.value},set value(c){r.inputBox.value=c}},this._ui={get selected(){return r.selected},onDidChange:this._onDidChangeSelection.event};const{repo:{owner:s,name:u}}=i;this.remote={name:"origin",fetchUrl:`https://github.com/${s}/${u}.git`,isReadOnly:i.accessLevel<J.Write},this.remotes=[this.remote],this._state={HEAD:this.getHEADFromMetadata(i),mergeChanges:[],indexChanges:[],workingTreeChanges:[],onDidChange:this._onDidChangeState.event,rebaseCommit:void 0,refs:[],remotes:this.remotes,submodules:[]},this.updateState(i)}dispose(){this.disposable.dispose()}get inputBox(){return this._inputBox}get state(){return this._state}get ui(){return this._ui}getHEADFromMetadata(t){switch(t.HEAD.type){case ne.Branch:return{type:ui.Head,commit:t.HEAD.sha,name:t.HEAD.branch.name,upstream:{name:t.HEAD.branch.name,remote:this.remote.name}};case ne.RemoteBranch:{const n=t.HEAD.branch.remote.repo.owner,r=t.HEAD.branch.remote.accessLevel<J.Write,i=this.remotes.findIndex(a=>a.name===n);return this.remotes.splice(i===-1?this.remotes.length:i,i===-1?0:1,{name:n,fetchUrl:`https://github.com/${t.HEAD.branch.remote.repo.owner}/${t.HEAD.branch.remote.repo.name}.git`,pushUrl:r?void 0:`https://github.com/${t.HEAD.branch.remote.repo.owner}/${t.HEAD.branch.remote.repo.name}.git`,isReadOnly:r}),{type:ui.RemoteHead,commit:t.HEAD.sha,name:t.HEAD.branch.name,upstream:{name:t.HEAD.branch.name,remote:t.HEAD.branch.remote.repo.owner}}}case ne.Tag:return{type:ui.Tag,name:t.HEAD.detached.name,commit:t.HEAD.sha};case ne.Commit:return{type:ui.Head,commit:t.HEAD.sha}}}async updateState(t){this.metadata=t;const n=await this.changeStore.getGroupedChanges(this.rootUri,{predicate:s=>s.fileType===d.FileType.File}),r=n.conflicts.map(s=>({uri:s.uri,status:zf(s.type),originalUri:s.uri,renameUri:s.uri})),i=n.staged.map(s=>({uri:s.uri,status:zf(s.type),originalUri:s.uri,renameUri:s.uri})),a=n.working.map(s=>({uri:s.uri,status:zf(s.type),originalUri:s.uri,renameUri:s.uri})),o=rt.get("staging.enabled");this._state={...this._state,HEAD:this.getHEADFromMetadata(t),mergeChanges:r,indexChanges:o?i:[],workingTreeChanges:o?a:[...i,...a]},this._onDidChangeState.fire()}getConfigs(){return Promise.resolve([])}getConfig(t){return this.metadata.HEAD.branch&&this.metadata.pullRequest&&t===ub(this.metadata.HEAD.branch.name)?Promise.resolve(`${this.metadata.repo.owner}#${this.metadata.repo.name}#${this.metadata.pullRequest.id}`):Promise.resolve("")}setConfig(t,n){return Promise.resolve("")}getGlobalConfig(t){throw new Error("Method not implemented.")}async getObjectDetails(t,n){const r=new P(`IGit.getObjectDetails(${t}, ${n})`);try{return await this.github.getObjectDetails(this.rootUri,t,this.pathToRelativePath(n))}finally{r.stop()}}async detectObjectType(t){var n;const r=new P(`IGit.detectObjectType(${t})`);try{const i=await this.github.getBlobContent(this.metadata.repo,t);if(!dw(i))return{mimetype:"text/plain"};const o=await(0,lb.fromBuffer)(i);return{mimetype:(n=o==null?void 0:o.mime)!=null?n:"application/octet-stream"}}finally{r.stop()}}async buffer(t,n){const r=new P(`IGit.buffer(${t}, ${n})`);try{return await this.github.getFileContent(this.rootUri,t,this.pathToRelativePath(n))}finally{r.stop()}}async show(t,n){const r=new P(`IGit.show(${t}, ${n})`);try{const i=await this.github.getFileContent(this.rootUri,t,this.pathToRelativePath(n));return z0.decode(i)}finally{r.stop()}}async getCommit(t){const n=new P(`IGit.getCommit(${t})`);try{const r=await this.github.getCommit(this.rootUri,t);if(r===void 0)throw new Error(`Unable to find commit for ref "${t}"`);return r}finally{n.stop()}}clean(t){return this._objects.clear(),Promise.resolve()}async apply(t,n){const r=new P(`IGit.apply(reverse=${n})`);try{return await this.changeStore.applyPatch(this.rootUri,t,n?{reverse:!0}:void 0)}finally{r.stop()}}async diff(t){const n=new P(`IGit.diff(${t})`);try{return await this.changeStore.createPatch(this.rootUri,void 0,t?{staged:!0}:void 0)}finally{n.stop()}}diffWithHEAD(t){return t?this.diffBetween("","HEAD",t):this.diffBetween("","HEAD")}diffWith(t,n){return n?this.diffBetween("",t,n):this.diffBetween("",t)}diffIndexWithHEAD(t){return t?this.diffBetween("~","HEAD",t):this.diffBetween("~","HEAD")}diffIndexWith(t,n){return n?this.diffBetween("~",t,n):this.diffBetween("~",t)}async diffBetween(t,n,r){if(!r)throw new Error("Method not implemented.");const i=new P(`IGit.diffBetween(${t}, ${n}, ${r})`);try{const[a,o]=await Promise.all([this.getContent(t,r),this.getContent(n,r)]);return Oa(r,a,o)}finally{i.stop()}}async diffBlobs(t,n){const r=new P(`IGit.diffBlobs(${t}, ${n})`);try{const i=await this.getBlobContent(t),a=await this.getBlobContent(n),o=Oa("untitled",i,a);return Promise.resolve(o)}finally{r.stop()}}async getBlobContent(t){const n=new P(`IGit.getBlobContent(${t})`);try{const r=this._objects.get(t);if(r)return this._objects.delete(t),r;const{repo:i}=this.providerService.getVirtualUriMetadata(this.rootUri),a=await this.github.getBlobContent(i,t);return z0.decode(a)}finally{n.stop()}}async getContent(t,n){const r=new P(`IGit.getContent(${t}, ${n})`);try{const i=this.pathToRelativeUri(n);if(t===""||t==="~"){const a=await this.changeStore.getChange(i);if(a!==void 0&&(t===""||a.staged))return this.changeStore.getContent(i);t="HEAD"}return await this.show(t==="HEAD"?this.metadata.HEAD.sha:t,n)}finally{r.stop()}}async hashObject(t){const n=new P("IGit.hashObject");try{const r=L(await en(t));return this._objects.set(r,t),r}finally{n.stop()}}async createBranch(t,n,r){const i=new P(`IGit.createBranch(${t}, ${n}, ${r})`);try{r||(r=this.metadata.HEAD.sha);const a=await this.github.createBranch(this.rootUri,t,r);n&&await this.checkout(a)}finally{i.stop()}}deleteBranch(t,n){throw new Error("Method not implemented.")}async getBranch(t){const n=new P(`IGit.getBranch(${t})`);try{const{branches:r}=await this.github.getBranches(this.rootUri,{query:t,limit:1}),[i]=r;if(i===void 0)throw new Error(`Unable to find branch named "${t}"`);return{type:i.type,name:i.name,commit:i.commit,remote:this.remote.name,upstream:{name:i.name,remote:this.remote.name}}}finally{n.stop()}}async getBranches(t){var n,r;const i=(r=(n=t.contains)!=null?n:t.pattern)!=null?r:"",a=new P(`IGit.getBranches(${i})`);try{const{branches:o}=await this.github.getBranches(this.rootUri,{query:i,limit:t.count});if(o.length===0)throw new Error(`Unable to find branches for "${i}"`);return o.map(s=>({type:s.type,name:s.name,commit:s.commit}))}finally{a.stop()}}setBranchUpstream(t,n){throw new Error("Method not implemented.")}getMergeBase(t,n){throw new Error("Method not implemented.")}async status(){}async checkout(t){const n=new P(`IGit.checkout(${t})`);try{if(await this.github.repositoryObjectExists(this.rootUri,t)){const i=await this.github.switchTo(this.rootUri,t,{openInNewWindow:!1});throw i!==void 0&&await this.providerService.openWorkspace(i),new Error("User aborted")}const r=/pr\/(?<remote>.+)\/(?<num>\d+)/.exec(t);if(r==null?void 0:r.groups){const{num:i}=r.groups,{provider:a,repo:o}=this.providerService.getVirtualUriMetadata(this.rootUri),s=this.providerService.getRemoteUri(a.id,{repo:o,pullRequest:{id:i}});if(s!==void 0){const u=await this.providerService.createWorkspaceForRemoteUrl(s.toString());u!==void 0&&await this.providerService.openWorkspace(u)}}throw new Error("User aborted")}finally{n.stop()}}addRemote(t,n){var r;let i;const a=this.remotes.findIndex(o=>o.name===t);return a!==-1&&([i]=this.remotes.splice(a,1)),this.remotes.push({name:t,fetchUrl:n,isReadOnly:(r=i==null?void 0:i.isReadOnly)!=null?r:!1}),Promise.resolve()}removeRemote(t){const n=this.remotes.findIndex(r=>r.name===t);return n!==-1&&this.remotes.splice(n,1),Promise.resolve()}renameRemote(t,n){const r=this.remotes.findIndex(a=>a.name===t);if(r===-1)return Promise.resolve();const[i]=this.remotes.splice(r,1);return this.remotes.push({...i,name:n}),Promise.resolve()}async fetch(t,n,r){const i=new P("IGit.fetch");try{return this.github.fetch(this.rootUri)}finally{i.stop()}}async pull(t){const n=new P("IGit.pull");try{return this.github.sync(this.rootUri,this.changeStore,{conflictResolution:Je.Merge})}finally{n.stop()}}push(t,n,r){return Promise.resolve()}blame(t){throw new Error("Method not implemented.")}async log(t){if((t==null?void 0:t.maxEntries)!==1||(t==null?void 0:t.path)!==void 0)throw new Error("The specified log options are not yet supported.");return[await this.getCommit(this.metadata.HEAD.sha)]}async commit(t,n){const r=new P("IGit.commit");try{if((n==null?void 0:n.amend)!==void 0||(n==null?void 0:n.empty)!==void 0||(n==null?void 0:n.signCommit)!==void 0||(n==null?void 0:n.signoff)!==void 0)throw new Error("The specified commit options are not yet supported.");const i=(await this.providerService.getCommitOperations(this.rootUri,{staged:(n==null?void 0:n.all)===!1})).filter(a=>a.fileType===d.FileType.File);if(!i.length){d.window.showInformationMessage(fb("no changes to commit","There are no changes to commit."));return}await this.github.createAndPushCommit(this.rootUri,t,i,void 0,n)}finally{r.stop()}}pathToRelativePath(t){return this.providerService.getRelativeFilePath(this.rootUri,this.pathToRelativeUri(t))}pathToRelativeUri(t){return O(this.rootUri,pb(t))}}l(q0,"GitHubRepository");const db=/^\/?([a-zA-Z])(?::\/)(.*)$/,hb=/\\/g;function pb(e){e=d.Uri.file(e).fsPath.replace(hb,"/");const t=db.exec(e);return t!==null&&([,,e]=t),e.startsWith("/")?e:`/${e}`}l(pb,"normalizePath");function zf(e){switch(e){case Y.Changed:return zo.MODIFIED;case Y.Created:return zo.INTENT_TO_ADD;case Y.Deleted:return zo.DELETED}}l(zf,"opTypeToStatus");class Fl extends Error{constructor(t,n,r){super(t.message);this.original=t,this.name=n,this.id=r;var i;(i=Error.captureStackTrace)==null||i.call(Error,this,Fl)}}l(Fl,"PullRequestNotFoundError");class qo extends Error{constructor(t,n){super(t.message);this.original=t,this.name=n;var r;(r=Error.captureStackTrace)==null||r.call(Error,this,qo)}}l(qo,"RepositoryForbiddenError");class Wo extends Error{constructor(t,n){super(t.message);this.original=t,this.name=n;var r;(r=Error.captureStackTrace)==null||r.call(Error,this,Wo)}}l(Wo,"RepositoryNotFoundError");class Nl extends Error{constructor(t,n){super(t.message);this.original=t,this.name=n;var r;(r=Error.captureStackTrace)==null||r.call(Error,this,Nl)}}l(Nl,"RepositoryEmptyError");var gb=Object.defineProperty,mb=Object.getOwnPropertyDescriptor,Or=l((e,t,n,r)=>{for(var i=r>1?void 0:r?mb(t,n):t,a=e.length-1,o;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&gb(t,n,i),i},"messages_decorateClass");const jt=(0,Xe.loadMessageBundle)();class rr{showGitHubStatus500Message(){return d.window.showErrorMessage(jt("github 500 error notification","GitHub failed to respond and might be experiencing issues. Visit the [GitHub status page](https://githubstatus.com) for more information."),jt("ok","OK")),Promise.resolve()}async showStatus401Message(t){if(!t)return void d.window.showErrorMessage(jt("401 error notification","The provided credentials are either invalid or expired."),jt("ok","OK"));const n=jt("401 error notification confirm","Reauthenticate");await d.window.showErrorMessage(jt("401 error notification with reauth","The provided credentials are either invalid or expired. Would you like to reauthenticate?"),n)===n&&t()}async showStatus403Message(t){if(!t)return void d.window.showErrorMessage(jt("403 error notification","The provided credentials do not have the required access."),jt("ok","OK"));const n=jt("403 error notification confirm","Reauthenticate"),r=jt("403 error notification with reauth","The provided credentials do not have the required access. Would you like to reauthenticate to grant additional access?");await d.window.showErrorMessage(r,n)===n&&t()}async showRepositoryEmptyMessage(t){const n=jt("repository empty open","Open Repository");await d.window.showErrorMessage(jt("repository empty","Repository '{0}' is empty and cannot be opened. Would you like to open another repository?",t),n)===n&&d.commands.executeCommand("remoteHub.openRepository")}async showPullRequestNotFoundMessage(t,n){const r=jt("pull request not found open","Open Pull Request");await d.window.showErrorMessage(jt("pull request not found","Unable to find pull request {1} on repository '{0}'. Would you like to open another pull request?",t,n),r)===r&&d.commands.executeCommand("remoteHub.openRepository")}async showPullRequestHeadNotFoundMessage(t,n){const r=jt("pull request head not found ok","OK");await d.window.showWarningMessage(jt("pull request head not found","Unable to find the source branch for pull request {1} on repository '{0}'.",t,n),r)}async showRepositoryForbiddenMessage(t){const n=jt("repository forbidden open","Open Repository");await d.window.showErrorMessage(jt("repository forbidden","You don't have access to repository '{0}'. Would you like to open another repository?",t),n)===n&&d.commands.executeCommand("remoteHub.openRepository")}async showRepositoryNotFoundMessage(t){const n=jt("repository not found confirm","Open Repository");await d.window.showErrorMessage(jt("repository not found","Unable to find repository '{0}'. Would you like to open another repository?",t),n)===n&&d.commands.executeCommand("remoteHub.openRepository")}async showUnableToOpenRepositoryMessage(t){const n=jt("unable to open repo confirm","Open Repository");await d.window.showErrorMessage(jt("unable to open repo","Unable to open repository. {0}. Would you like to open another repository?",String(t)),n)===n&&d.commands.executeCommand("remoteHub.openRepository")}}l(rr,"Messages"),Or([_n(()=>"")],rr.prototype,"showGitHubStatus500Message",1),Or([_n(()=>"")],rr.prototype,"showStatus401Message",1),Or([_n(()=>"")],rr.prototype,"showStatus403Message",1),Or([_n()],rr.prototype,"showRepositoryEmptyMessage",1),Or([_n()],rr.prototype,"showPullRequestNotFoundMessage",1),Or([_n()],rr.prototype,"showPullRequestHeadNotFoundMessage",1),Or([_n()],rr.prototype,"showRepositoryForbiddenMessage",1),Or([_n()],rr.prototype,"showRepositoryNotFoundMessage",1),Or([_n()],rr.prototype,"showUnableToOpenRepositoryMessage",1);const Mn=new rr;var qf=__webpack_require__(4155),vb=Object.defineProperty,wb=Object.getOwnPropertyDescriptor,W0=l((e,t,n,r)=>{for(var i=r>1?void 0:r?wb(t,n):t,a=e.length-1,o;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&vb(t,n,i),i},"provider_decorateClass");const yr=(0,Xe.loadMessageBundle)(),j0=/^(?:https?:\/\/)?github\.(?:com|dev)\/(?<owner>[^/]+)\/(?<repo>[^/?#]+)(?:|\.git|\/tree\/(?<tree>[^?#]+)|\/blob\/(?<blob>[^?#]+)|\/commit\/(?<commit>[0-9a-f]{40})|\/pull\/(?<pull>[0-9]+))?(?<extra>[^?#]*)(?:\?(?<query>[^#]*))?(?:#(?<fragment>.*))?$/i,V0=/(?<remoteOwner>[^/:]+)\/?(?<remoteRepo>[^/:]+)?:(?<remoteRef>.*)/,jo=["repo","workflow"],Ll=1,Wf=Object.freeze({id:"github",name:"GitHub"});function Oi(e){const{scheme:t,metadata:n}=H.decodeAuthority(e,o=>{if(o.v!==void 0)return o;if(typeof o.pr=="string")return{v:Ll,ref:{type:Me.PullRequest,id:o.pr},idx:o.idx};if(typeof o.ref=="string")return{v:Ll,ref:{type:Me.Tree,id:o.ref},idx:o.idx}}),[,r,i,...a]=e.path.split("/");return{scheme:t,provider:Wf,name:`${r}/${i}`,repo:{owner:r,name:i},path:a.join("/")||"",ref:n==null?void 0:n.ref,idx:n==null?void 0:n.idx}}l(Oi,"getGitHubMetadata");function yb(e,t){const{repo:n}=t!=null?t:Oi(e);return e.with({path:`/${n.owner}/${n.name}`,query:"",fragment:""})}l(yb,"getGitHubRootUri");function jf(e,t,n){const{repo:{owner:r,name:i}}=e instanceof d.Uri?Oi(e):e;return d.Uri.parse(`github://${H.encodeAuthority("github",{v:Ll,ref:{type:Me.Commit,id:t}})}/${r}/${i}/${n}`)}l(jf,"getGitHubRevisionUri");class G0{constructor(t){if(this.scopes=t,this.id="github",this.account={id:"vscode-remotehub-test",label:"RemoteHub Test"},!qf.env.GITHUB_REMOTEHUB_TEST_PAT)throw new Error("Unable to initialize authentication for integration tests. Please set `process.env.GITHUB_REMOTEHUB_TEST_PAT`.");this.accessToken=qf.env.GITHUB_REMOTEHUB_TEST_PAT}}l(G0,"TestAuthenticationSession");class Bl{constructor(t,n){this.providerService=t,this.tarPit=n,this.fileTreeCache=new Map,this.disposable=d.Disposable.from(t.onDidChangeRepository(r=>{r.reason==="HEAD"&&this.onRefreshOrRepositoryChanged([r.repository.uri])}),t.onDidRefresh(r=>this.onRefreshOrRepositoryChanged(r))),vo&&(this.tarballProxyEndpoint=d.commands.executeCommand("_workbench.getTarballProxyEndpoints").then(r=>r==null?void 0:r["github.com"])),qf.env.GITHUB_REMOTEHUB_TEST_PAT&&(this._session=new G0(jo))}get scheme(){return"github"}get repositories(){return[...this.providerService.getRepositories(Wf.id)]}dispose(){this.disposable.dispose()}onRefreshOrRepositoryChanged(t){t=t.filter(n=>H.getProviderId(n)===this.scheme),t.length!==0&&(this.fileTreeCache.forEach(n=>n.dispose()),this.fileTreeCache.clear())}async ensureAuthenticated(t=!1){const n=new P("GitHub.ensureAuthenticated");try{if(this._session===void 0){async function r(){try{return t?await d.authentication.getSession("github",jo,{forceNewSession:t}):await d.authentication.getSession("github",jo,{createIfNone:!0})}catch(a){le.error(a);try{const o=await d.authentication.getSession("github",jo,{createIfNone:!1});if(o!==void 0)return o}catch{}return new Promise(o=>{async function s(){const c=await d.authentication.getSession("github",jo,{createIfNone:!0});c!==void 0&&o(c)}l(s,"getSession");const u=d.authentication.onDidChangeSessions(async c=>{c.provider.id==="github"&&(u.dispose(),await s())})})}}l(r,"waitUntilAuthenticated"),this._session=await r();const i=d.authentication.onDidChangeSessions(a=>{if(this._session===void 0){i.dispose();return}a.provider.id==="github"&&(this.clearAuthenticationSession(),i.dispose())})}return this._session}finally{n.stop()}}async getAuthentication(t){const n=await this.ensureAuthenticated();return{provider:Wf,session:n,getRichNavigationHeaders:()=>({"X-Git-GitHub":`Bearer ${n.accessToken}`})}}clearAuthenticationSession(){this._session=void 0,this._octokit=void 0,this._octokitDefaults=void 0}async reauthenticate(){this.clearAuthenticationSession(),await this.ensureAuthenticated(!0)}async octokit(t){if(this._octokitDefaults===void 0){const r=await this.ensureAuthenticated();if(vo){async function i(a,o){if(o.headers!==void 0){const{"user-agent":s,...u}=o.headers;s&&(o.headers=u)}return Ix(a,o)}l(i,"fetchCore"),this._octokitDefaults=Ho.defaults({auth:`token ${r.accessToken}`,request:{fetch:i}})}else this._octokitDefaults=Ho.defaults({auth:`token ${r.accessToken}`})}const n=new this._octokitDefaults(t);return(le.logLevel===Ne.Debug||le.isDebugging)&&n.hook.wrap("request",async(r,i)=>{var a;const o=new P(`[GITHUB] ${i.method} ${i.url}`,{log:!1});try{return await r(i)}finally{let s;try{if(typeof i.query=="string"){const u=/(^[^({\n]+)/.exec(i.query);s=` ${(a=u==null?void 0:u[1].trim())!=null?a:i.query}`}}catch{}o.stop({message:s})}}),n}async graphql(t,n,r=!0){this._octokit===void 0&&(this._octokit=await this.octokit());try{return await this._octokit.graphql(t,n)}catch(i){throw r||this.handleRequestErrors(i),le.error(i),i}}async request(t,n){this._octokit===void 0&&(this._octokit=await this.octokit());try{return await this._octokit.request(t,n)}catch(r){throw this.handleRequestErrors(r),le.error(r),r}}handleRequestErrors(t){var n,r;if(t instanceof Pr)switch(t.status){case 500:return t.response&&Mn.showGitHubStatus500Message(),!0;case 401:return Mn.showStatus401Message(()=>void this.reauthenticate()),!0;case 403:return Mn.showStatus403Message(()=>void this.reauthenticate()),!0}else if(t instanceof ci){if(((r=(n=t.errors)==null?void 0:n[0])==null?void 0:r.type)==="FORBIDDEN")return Mn.showStatus403Message(()=>void this.reauthenticate()),!0;if(t.headers.status==="500")return Mn.showGitHubStatus500Message(),!0}return!1}createIGitRepository(t,n,r,i){return new q0(this.providerService,t,n,r,i,this)}async createMetadata(t,n){var r,i,a,o,s,u;const c=new P(`GitHub.createMetadata(${t.toString()}, ${n})`);let f;try{let{provider:v,name:g,repo:{owner:w,name:A},ref:T}=Oi(t);(!T||T.type===Me.Commit&&/HEAD/i.test(T.id))&&(T={type:Me.Commit,id:"HEAD"});const C=this.providerService.isInWorkspace(t),D=await this.getRepositoryInfo(w,A,C,T.type===Me.PullRequest?{pr:Number(T.id)}:{ref:T.id});if(D===void 0)throw f=" \u2022 Aborted; Unable to get repository info",new Error(`Cannot get metadata for Uri(${t.toString()}); Unable to get repository info`);let $;if(n)$=n;else if(T.type===Me.Commit&&T.id!=="HEAD"||T.type===Me.Tree&&D.ref===void 0)$=T.id;else if($=(i=(r=D.ref)==null?void 0:r.sha)!=null?i:D.defaultBranch.sha,$===void 0)throw f=" \u2022 Aborted; Unable to get repository revision",new Error(`Cannot get metadata for Uri(${t.toString()}); Unable to get repository revision`);let V;if(((a=D.ref)==null?void 0:a.prefix)==="refs/heads/")V={type:ne.Branch,name:D.ref.name,sha:$,branch:{name:D.ref.name,sha:D.ref.sha}};else if(((o=D.ref)==null?void 0:o.prefix)==="refs/remotes/"){if(!D.ref.remote)throw f=" \u2022 Aborted; Unable to get remote info",new Error(`Cannot get metadata for Uri(${t.toString()}); Unable to get remote info`);V={type:ne.RemoteBranch,name:`${D.ref.remote.repo.owner}${D.ref.remote.repo.name!==A?`/${D.ref.remote.repo.name}`:""}:${D.ref.name}`,sha:$,branch:{name:D.ref.name,sha:D.ref.sha,remote:D.ref.remote}}}else((s=D.ref)==null?void 0:s.prefix)==="refs/tags/"?V={type:ne.Tag,name:D.ref.name,sha:$,detached:{type:ne.Tag,name:D.ref.name}}:V={type:ne.Commit,name:b($),sha:$,detached:{type:ne.Commit,name:b($)}};let q,ee;if(rt.get("experimental.prefetch")&&C&&(q=$,c.log({suffix:` \u2022 Prefetching tree for ${q}...`}),this.getFileTree(t,void 0,{cache:!0,recursive:!0,prefetched:{metadata:new Promise(ge=>ee=ge),repo:{owner:w,name:A},HEAD:{sha:q},timestamp:Date.now()}})),q!==void 0&&q!==V.sha){const ge=this.asFileTreeKey(t,q),de=this.fileTreeCache.get(ge);de&&!R(q)&&V.sha===((u=V.branch)==null?void 0:u.sha)?(c.log({suffix:` \u2022 Updating prefetched tree for ${q}, since HEAD was resolved; HEAD=${V.sha}`}),this.fileTreeCache.set(this.asFileTreeKey(t,V.sha),de),this.fileTreeCache.delete(ge)):(c.log({suffix:` \u2022 Removing prefetched tree for ${q}, since the HEAD changed; HEAD=${V.sha}`}),this.fileTreeCache.delete(ge),de==null||de.dispose())}const _e={version:us.schemaVersion,timestamp:Date.now(),provider:v,name:g,repo:D.repo,accessLevel:D.accessLevel,HEAD:V,defaultBranch:D.defaultBranch,pullRequest:D.pullRequest};return f=` \u2022 HEAD=${V.sha}`,ee==null||ee(_e),_e}finally{c.stop(f?{suffix:f}:void 0)}}getMetadata(t){return this.providerService.getMetadata(t)}getRemoteWorkspaceSourceProviders(){return[{name:"GitHub",icon:"$(github)",label:yr("open repo from","Open Repository from {0}","GitHub"),placeholder:yr("pick repo","Choose a repository"),provideSources:async(t,n,r,i)=>{r=r!=null?r:"";let a;const o=r==null?void 0:r.indexOf("/");o!==-1&&(a=r.substring(0,o),r=r.substr(o+1));const{results:s,hasSAMLProtectedResults:u}=await this.searchRepositoriesQuery(r,{...i,user:a}),c=[];if(u){const f={label:`$(lock) ${yr("sso required repositories","Single sign-on to see repositories in organizations protected by SAML enforcement")}`,showMore:async()=>this.reauthenticate()};c.push(f)}return c.push({kind:d.QuickPickItemKind.Separator,label:yr("repositories","repositories")},...s.map(f=>({providerId:"github",name:f.repoWithOwner,icon:"$(repo)",description:`${f.fork?`$(repo-forked) ${f.fork}`:""}${f.stars>0?`${f.fork?" \u2022 ":""}$(star-full) ${f.stars}`:""}`,detail:f.description,url:f.url}))),c}},{name:"GitHub",icon:"$(github)",label:yr("open pr from","Open Pull Request from {0}","GitHub"),placeholder:yr("pick pr","Choose a pull request"),provideSources:async(t,n,r,i)=>{r=r!=null?r:"";let a;const o=r==null?void 0:r.indexOf("/");o!==-1&&(a=r.substring(0,o),r=r.substr(o+1));const{results:s,hasSAMLProtectedResults:u}=await this.searchPullRequestsQuery(r,{user:a}),c=[];if(u){const f={label:`$(lock) ${yr("sso required pull requests","Single sign-on to see pull requests in organizations protected by SAML enforcement")}`,showMore:async()=>this.reauthenticate()};c.push(f)}return c.push({kind:d.QuickPickItemKind.Separator,label:yr("pull requests","pull requests")},...s.map(f=>({providerId:"github",name:f.title,icon:"$(git-pull-request)",description:f.reasons.length!==0?f.reasons.sort().join(", "):void 0,detail:`${f.repoWithOwner} #${f.number}`,url:f.url}))),c}}]}canOpenRemoteUrl(t){const n=j0.exec(t);if((n==null?void 0:n.groups)===void 0)return;const{blob:r,commit:i,pull:a,tree:o}=n.groups;return a?Pe.PullRequest:i?Pe.Commit:o?Pe.Branch:r?Pe.File:Pe.Repository}async createWorkspaceForRemoteUrl(t,n=we.CurrentWindow){const r=j0.exec(t);if((r==null?void 0:r.groups)===void 0)return;let{owner:i,repo:a,blob:o,commit:s,pull:u,tree:c,fragment:f}=r.groups;a=a.endsWith(".git")?a.slice(0,a.length-4):a;const v=await this.validateOwnerAndRepoAndSplitRefFromPath(i,a,c!=null?c:o);if(v===void 0)return;let g,w;if({owner:i,repo:a,ref:w,path:g}=v,c||o){if(g&&f&&o){const C=/L(?<start>\d+)(?:-L(?<end>\d+))?/.exec(f);if(C==null?void 0:C.groups){const{start:D,end:$}=C.groups;g+=`:${D}${$!==void 0?`-${$}`:""}`}}}else s?w={type:Me.Commit,id:s}:u&&(w={type:Me.PullRequest,id:u});const A=this.providerService.createVirtualUri("github",{repo:{owner:i,name:a},ref:w}),{name:T}=Oi(H.getVirtualUri(this.getProviderRootUri(A)));return{name:T,uri:A,location:n,filesToOpen:g?[g]:void 0}}createVirtualUri(t,{repo:n,ref:r,idx:i},a){const o=r!==void 0||i!==void 0?{v:Ll}:void 0;return o&&(r&&(o.ref={...r,type:r.type===Me.Branch||r.type===Me.Tag?Me.Tree:r.type}),i&&(o.idx=i)),t.with({authority:H.encodeAuthority("github",o),path:`/${n.owner}/${n.name}${(a==null?void 0:a.startsWith("/"))?a:a?`/${a}`:""}`})}getRemoteUri(t){const n=`https://github.com/${t.repo.owner}/${t.repo.name}`,r=t.path?"blob":"tree",i=t.path?`/${t.path}`:"";return t.clone?d.Uri.parse(`${n}.git`):t.pullRequest?d.Uri.parse(`${n}/pull/${t.pullRequest.id}`):t.branch?d.Uri.parse(`${n}/${r}/${t.branch}${i}`):t.tag?d.Uri.parse(`${n}/${r}/${t.tag}${i}`):t.sha?d.Uri.parse(`${n}/${r}/${t.sha}${i}`):d.Uri.parse(n)}getProviderRootUri(t){return yb(t)}getRelativeFilePath(t,n){let{path:r}=Oi(t);const{path:i}=Oi(O(t,n));return r.length!==0&&i!==r&&i.startsWith(r)?(r=r.endsWith("/")?r:`${r}/`,i.slice(r.length)):i}getVirtualUriMetadata(t){const{provider:n,name:r,repo:i,ref:a}=Oi(t);return{provider:n,name:r,repo:i,ref:a}}async getModeRefType(t,n){const{HEAD:r,pullRequest:i}=await(n!=null?n:this.getMetadata(t));switch(r.type){case ne.Branch:return i!==void 0?ye.PullRequestBranch:ye.Branch;case ne.RemoteBranch:return i!==void 0?ye.PullRequestRemoteBranch:ye.RemoteBranch;case ne.Tag:return ye.Tag;case ne.Commit:return ye.Commit}}async createBranch(t,n,r,i){try{const{repo:{owner:a,name:o}}=i!=null?i:await this.getMetadata(t);return n.startsWith("refs/heads/")||(n=`refs/heads/${n}`),(await this.request("POST /repos/{owner}/{repo}/git/refs",{owner:a,repo:o,ref:n,sha:r})).data.ref.substr(11)}catch(a){throw a instanceof Pr&&a.status===422?a.message==="Reference already exists"?X.InvalidBranchNameError(n.substring(11),!0):X.InvalidBranchNameError(n.substring(11),!1):(le.error(a),a)}}async createAndPushCommit(t,n,r,i,a,o){var s;const u=new P(`GitHub.createAndPushCommit(${t.toString()}${o?`, fork=${o.repo.owner}/${o.repo.name}`:""})`);if(r=r.filter(f=>f.fileType===d.FileType.File),r.length===0&&!(a==null?void 0:a.empty))throw u.stop({message:"Aborted; No changes to commit"}),X.NothingToCommitError("No changes to commit");let c;try{const f=await this.getMetadata(t);let v;if(i!==void 0)v=i;else{if(f.HEAD.detached&&!f.HEAD.branch)throw X.DetachedHEADError("Unable to commit; no current branch");v=f.HEAD.branch.name}let g;if(o)g=`${o.repo.owner}/${o.repo.name}`;else if(f.HEAD.type===ne.RemoteBranch&&f.HEAD.branch.remote.accessLevel>=J.Write){const{owner:$,name:V}=f.HEAD.branch.remote.repo;g=`${$}/${V}`}else g=`${f.repo.owner}/${f.repo.name}`;const w=[],A=[];for(const $ of r)switch($.type){case Y.Created:case Y.Changed:{try{const V=await $.content;w.push({path:$.path,contents:ls(V)})}catch(V){throw le.error(V),X.CommitFailedError()}break}case Y.Deleted:A.push({path:$.path});break}const T={branch:{branchName:v,repositoryNameWithOwner:g},message:{headline:n},fileChanges:{additions:w,deletions:A},expectedHeadOid:f.HEAD.sha},C=`mutation CreateCommitOnBranch ($commitInput: CreateCommitOnBranchInput!) {
	createCommitOnBranch(input: $commitInput) {
		commit {
			oid
		}
		ref {
			name
		}
	}
}`,D=await this.graphql(C,{commitInput:T});if(c=D==null?void 0:D.createCommitOnBranch.commit.oid,!c)throw X.CommitFailedError();return i===void 0&&!f.HEAD.detached&&c!==void 0&&await this.fastForwardTo(t,c,f),c}catch(f){if(f instanceof ci){const v=(s=f.errors)==null?void 0:s[0];if((v==null?void 0:v.type)==="STALE_DATA"&&v.message.includes("Pull and try again"))throw X.MergeConflictError(f)}throw le.error(f),f}finally{u.stop(c?{message:`: Created and pushed commit ${c}`}:void 0)}}async createPullRequest(t,n,r,i,a){var o,s,u;const c=new P(`GitHub.createPullRequest(${t.toString()}, ${n}${a?`, fork=${a.repo.owner}/${a.repo.name}`:""})`);try{const{repo:{owner:f,name:v},HEAD:{branch:g},defaultBranch:w}=await this.getMetadata(t),A=await this.request("POST /repos/{owner}/{repo}/pulls",{owner:f,repo:v,base:`refs/heads/${(o=g==null?void 0:g.name)!=null?o:w.name}`,head:a?`${a.repo.owner}:${n}`:n,title:r,draft:(s=i==null?void 0:i.draft)!=null?s:!1,maintainer_can_modify:(u=i==null?void 0:i.canMaintainerModify)!=null?u:!0});return{id:A.data.number.toString(),uri:d.Uri.parse(A.data.html_url)}}catch(f){throw le.error(f),f}finally{c.stop()}}async fetch(t,n){const{fetched:r,metadata:i}=await this.fetchCore(t,!1,n);r&&await this.providerService.updateMetadata(t,i)}async fetchCore(t,n,r){var i,a,o,s,u,c,f,v,g;const{force:w,to:A}={...r,force:n||(r==null?void 0:r.force)},T=new P(`GitHub.fetch(${t.toString()}, force=${w}, to=${A})`);let C;try{const D=await this.getMetadata(t);if(D.HEAD.detached)return C=" \u2022 Skipped; detached HEAD",{fetched:!1,metadata:D};const $=await this.getBranchTips(t);if(!$)throw C=" \u2022 Unable to fetch branch tips",X.SyncOrFetchError(n);if(!w&&!A&&((i=$.defaultBranch)==null?void 0:i.sha)!==void 0&&$.defaultBranch.sha===D.defaultBranch.sha&&((a=$.branch)==null?void 0:a.sha)!==void 0&&$.branch.sha===D.HEAD.branch.sha&&(D.HEAD.sha===D.HEAD.branch.sha||D.state!==void 0))return C=" \u2022 No changes detected",{fetched:!1,metadata:D};let V;if(((o=$.defaultBranch)==null?void 0:o.sha)!==void 0&&$.defaultBranch.sha!==D.defaultBranch.sha&&(V={defaultBranch:{...D.defaultBranch,sha:$.defaultBranch.sha}}),((s=$.branch)==null?void 0:s.sha)===void 0){if(C=" \u2022 Unable to find branch tip",w)throw X.SyncOrFetchError(n);return V!==void 0?{fetched:!0,metadata:{...D,...V}}:{fetched:!1,metadata:D}}if($.branch.sha!==D.HEAD.branch.sha&&(V={...V,HEAD:{...D.HEAD,branch:{...D.HEAD.branch,sha:$.branch.sha},detached:void 0}}),$.branch.sha===((u=r==null?void 0:r.to)!=null?u:D.HEAD.sha))return C=" \u2022 Up to date",D.state!==void 0||V!==void 0?{fetched:!0,metadata:{...D,...V,state:void 0}}:{fetched:!1,metadata:D};T.logStep("Fetching upstream changes");try{const q=await this.getAheadBehindState(t,D,{base:(c=r==null?void 0:r.to)!=null?c:D.HEAD.sha,head:(g=(v=(f=V==null?void 0:V.HEAD)==null?void 0:f.branch)==null?void 0:v.sha)!=null?g:D.HEAD.branch.sha});return C=` \u2022 Changes detected; ${q==null?void 0:q.behind} commits behind`,{fetched:!0,metadata:{...D,...V,state:q?{ahead:q.ahead,behind:q.behind,incomingChanges:q.incomingChanges}:void 0}}}catch(q){if(C=` \u2022 Failed fetching upstream changes; ${String(q)}`,w)throw X.SyncOrFetchError(n);return V!==void 0?{fetched:!0,metadata:{...D,...V}}:{fetched:!1,metadata:D}}}finally{T.stop(C?{suffix:C}:void 0)}}async fork(t){try{const{repo:{owner:n,name:r}}=await this.getMetadata(t),i=await this.request("POST /repos/{owner}/{repo}/forks",{owner:n,repo:r});let a;for(;;){try{if(a=await this.getRepositoryInfo(i.data.owner.login,i.data.name,!1),a!==void 0)break}catch{}await new Promise(o=>setTimeout(o,250))}return{name:`${i.data.owner.login}/${i.data.name}`,repo:{owner:i.data.owner.login,name:i.data.name},url:i.data.url}}catch(n){throw le.error(n),n}}async getBranches(t,n){var r,i,a;try{const{repo:{owner:o,name:s}}=await this.getMetadata(t),u=`query getBranches(
	$owner: String!
	$repo: String!
	$branchQuery: String!
	$cursor: String
	$limit: Int = 100
) {
	repository(owner: $owner, name: $repo) {
		refs(query: $branchQuery, refPrefix: "refs/heads/", first: $limit, after: $cursor) {
			pageInfo {
				endCursor
				hasNextPage
			}
			nodes {
				name
				target {
					oid
					commitUrl
				}
			}
		}
	}
}`,c=await this.graphql(u,{owner:o,repo:s,branchQuery:(r=n==null?void 0:n.query)!=null?r:"",cursor:n==null?void 0:n.cursor,limit:Math.min(100,(i=n==null?void 0:n.limit)!=null?i:100)});if(c===void 0)return{branches:[]};const f=(a=c.repository)==null?void 0:a.refs;if(f===void 0)return{branches:[]};const v=f.nodes.map(g=>({type:ui.Head,name:g.name,commit:g.target.oid,commitUrl:g.target.commitUrl}));return{paging:{cursor:f.pageInfo.endCursor,more:f.pageInfo.hasNextPage},branches:v}}catch(o){return{branches:[]}}}async getCommit(t,n){var r;try{const{HEAD:i,repo:{owner:a,name:o}}=await this.getMetadata(t),s=`query getCommit(
	$owner: String!
	$repo: String!
	$ref: GitObjectID!
) {
	repository(name: $repo owner: $owner) {
		object(oid: $ref) {
			...on Commit {
				oid
				message
				parents(first: 100) {
					nodes {
						oid
					}
				}
				author {
					date
					email
					name
				}
				committer {
					date
				}
			}
		}
	}
}`;n.toUpperCase()==="HEAD"&&(n=i.sha);const u=await this.graphql(s,{owner:a,repo:o,ref:n});if(u===void 0)return;const c=(r=u.repository)==null?void 0:r.object;return c===void 0?void 0:{hash:c.oid,message:c.message,parents:c.parents.nodes.map(f=>f.oid),authorDate:new Date(c.author.date),authorEmail:c.author.email,authorName:c.author.name,commitDate:new Date(c.committer.date)}}catch(i){return}}async getCommits(t,n){var r,i,a;try{const{HEAD:o,repo:{owner:s,name:u}}=await this.getMetadata(t),c=`query getCommits(
	$owner: String!
	$repo: String!
	$ref: GitObjectID!
	$path: String
	$cursor: String
	$limit: Int = 100
) {
	repository(name: $repo, owner: $owner) {
		object(oid: $ref) {
			... on Commit {
				history(first: $limit, path: $path, after: $cursor) {
					pageInfo {
						endCursor
						hasNextPage
					}
					nodes {
						... on Commit {
							...commit
						}
					}
				}
			}
		}
	}
}

fragment commit on Commit {
	oid
	message
	parents(first: 100) {
		nodes {
			oid
		}
	}
	author {
		date
		email
		name
	}
	committer {
		date
	}
}
`;let f=n==null?void 0:n.ref;(f==null?void 0:f.toUpperCase())==="HEAD"&&(f=o.sha);const v=await this.graphql(c,{owner:s,repo:u,ref:f,cursor:n==null?void 0:n.cursor,path:n==null?void 0:n.path,limit:Math.min(100,(r=n==null?void 0:n.limit)!=null?r:100)});if(v===void 0)return;const g=(a=(i=v.repository)==null?void 0:i.object)==null?void 0:a.history;if(g===void 0)return;const w=g.nodes.map(A=>({hash:A.oid,message:A.message,parents:A.parents.nodes.map(T=>T.oid),authorDate:new Date(A.author.date),authorEmail:A.author.email,authorName:A.author.name,commitDate:new Date(A.committer.date)}));return{paging:{cursor:g.pageInfo.endCursor,more:g.pageInfo.hasNextPage},commits:w}}catch(o){return}}async getBlobContent(t,n){try{const r=await this.request("GET /repos/{owner}/{repo}/git/blobs/{file_sha}",{owner:t.owner,repo:t.name,file_sha:n});return Zn(r.data.content)}catch(r){throw le.logLevel===Ne.Debug&&le.error(r),r}}async getFileContent(t,n,r){le.debug(`GitHub.getFileContent(${t.toString()}, ${n}, ${r})`);try{let i;if(n&&r&&!this.hasFileTree(t,n)){const a=this.getProviderRootUri(t);r.startsWith("/")&&(r=r.slice(1));let o=(0,Ax.dirname)(r);(o==="."||o==="/")&&(o=""),le.debug(`GitHub.getFileContent: Loading file tree for path ${o}`),i=await(await this.getFileTree(a,n,{path:o,cache:!1,recursive:!1})).get(r)}else{le.debug("GitHub.getFileContent: Loading full file tree");const[a,{path:o}]=await Promise.all([this.getFileTree(t,n),r?{path:void 0}:this.providerService.getMetadata(t)]);le.debug(`GitHub.getFileContent: path: ${r}, uriPath: ${o}`),i=await a.get(r!=null?r:o)}if(le.debug(`GitHub.getFileContent: File SHA is ${i==null?void 0:i.sha}`),(i==null?void 0:i.sha)===void 0)throw d.FileSystemError.FileNotFound(t);return await i.getContent()}catch(i){throw le.logLevel===Ne.Debug&&le.error(i),i}}async getFileList(t,n,r){const i=new P(`GitHub.getFileList(${t.toString()}${r?`, ${r}`:""})`);try{const{repo:{owner:a,name:o},HEAD:{sha:s}}=await this.getMetadata(t),u=await this.request("GET /repos/{owner}/{repo}/git/tree-file-list/{treeish}",{owner:a,repo:o,treeish:`${r!=null?r:s}${n?`:${n}`:""}`});return u.status!==200?[]:u.data}catch(a){return le.error(a),[]}finally{i.stop()}}hasFileTree(t,n){return n?this.fileTreeCache.has(this.asFileTreeKey(t,n)):this.getMetadata(t).then(r=>this.fileTreeCache.has(this.asFileTreeKey(t,r.HEAD.sha)))}async getFileTree(t,n,r){var i,a,o,s,u;const c=this.providerService.isInWorkspace(t);let f=(i=r==null?void 0:r.cache)!=null?i:c,v,g,w;if(f||!n){const D=(o=(a=r==null?void 0:r.prefetched)==null?void 0:a.metadata)!=null?o:this.getMetadata(t);v=c?this.getFileTreePermissions(t,D):void 0;let $;({repo:g,HEAD:{sha:$},timestamp:w}=(s=r==null?void 0:r.prefetched)!=null?s:await D),n&&$!==n?(f=!1,w=Date.now()):n=$}else({repo:g}=(u=r==null?void 0:r.prefetched)!=null?u:this.providerService.getVirtualUriMetadata(t)),w=Date.now();const A=this.asFileTreeKey(t,n),T=this.getProviderRootUri(t),C=new P(`GitHub.getFileTree(${A}): ${t.toString()}`,{log:!1,logLevel:Ne.Debug});try{let D=l(function(){var V;const q=new P(`GitHub.createFileTree(${A})`);let ee,_e;f&&c&&(ee=new d.EventEmitter,_e=d.Disposable.from(this.tarPit.onDidChangeIndexingEnablement(()=>ee.fire()),this.tarPit.onDidDownloadTar(de=>ee.fire({rootUri:this.getProviderRootUri(de.rootUri),sha:de.sha}))));const ge={dispose:()=>_e==null?void 0:_e.dispose(),permissions:v,getContent:async(de,Ie)=>{const fe=new P("getFileContents"),De=rt.get("experimental.fs.useTars");if(De==="always"||De==="ifAvailable"){const vt=await this.tarPit.getInMemoryTar(T,n);if(vt){const ie=vt.entryMap.get(Ie);if(ie)return fe.stop({message:`Retrieved ${Ie} from in-memory tar with rootUri=${T.toString()}, ref=${n==null?void 0:n.toString()}`}),ie.dataAsBytes}}let Ze=!1;return new Promise((vt,ie)=>{this.getBlobContent(g,de.sha).then(xe=>{Ze||(fe.stop({message:`Retrieved ${Ie} from web`}),Ze=!0,vt(xe))},xe=>ie(xe)),this.tarPit.getCachedTar(T,n).then(xe=>xe===void 0&&De==="always"&&!Ze?this.tarPit.getTar(T,!1,n):xe).then(xe=>{var Re;const Te=(Re=xe==null?void 0:xe.entryMap.get(Ie))==null?void 0:Re.dataAsBytes;Te&&!Ze&&(fe.stop({message:`Retrieved ${Ie} from tar`}),Ze=!0,vt(Te))},xe=>{})})},getTree:async(de,Ie)=>{const fe=await this.request("GET /repos/{owner}/{repo}/git/trees/{tree_sha}",{owner:g.owner,repo:g.name,recursive:Ie?"1":void 0,tree_sha:`${n}${de?`:${de}`:""}`});return fe.data.truncated?{sha:fe.data.sha,truncated:!0}:{sha:fe.data.sha,truncated:!1,tree:Zp(fe.data.tree,De=>{var Ze;return{path:De.path,item:{mode:De.mode,sha:De.sha,stat:{type:xb(De.type),size:(Ze=De.size)!=null?Ze:0,ctime:0,mtime:w,permissions:void 0}}}})}},onDidTriggerContentCaching:ee==null?void 0:ee.event,tryCachingContent:f&&c?async de=>{const Ie=rt.get("experimental.fs.useTars");if(Ie!=="always"&&Ie!=="ifAvailable")return!1;const fe=new P(`FileTree.loadAllContent(${n})`);let De;try{let Ze;if(Ie==="ifAvailable"){if(fe.logStep("Tar cache query"),Ze=await this.tarPit.getCachedTar(T,n),Ze===void 0)return De=" \u2022 No cached Tar",!1}else fe.logStep("Tar query"),Ze=await this.tarPit.getTar(T,!1,n);fe.logStep("Updating content",{suffix:" \u2022 Updating content..."});for(const vt of Ze.entries){const ie=de(vt.header.fullFileName);if(ie===void 0)continue;const xe=vt.dataAsBytes;ie.getContent=()=>xe}return!0}catch(Ze){return De=` \u2022 Failed ${String(Ze)}`,!1}finally{fe.stop(De?{suffix:De}:void 0)}}:void 0};try{return new Hf(T,n,w,ge,{path:r==null?void 0:r.path,recursive:(V=r==null?void 0:r.recursive)!=null?V:f,preload:f||(r==null?void 0:r.recursive)})}catch(de){return le.error(de),new Hf(T,n,w,void 0)}finally{q.stop()}},"createFileTree"),$=this.fileTreeCache.get(A);return $!==void 0||($=D.call(this),f&&this.fileTreeCache.set(A,$)),$}finally{C.stop()}}async getFileTreePermissions(t,n){if(this.providerService.getModeConfig(t,await this.getModeRefType(t,n)).display===oe.Edit)return;const i=await this.providerService.getIndexMetadata(t);return re.isActive(i)?d.FilePermission.Readonly:void 0}async getFork(t){var n,r,i;try{const{repo:{owner:a,name:o}}=await this.getMetadata(t),s=`query getFork(
	$owner: String!
	$repo: String!
) {
	repository(owner: $owner, name: $repo) {
		forks(affiliations: OWNER, first: 1) {
			nodes {
				owner {
					login
				}
				name
				url
			}
		}
	}
}`,u=await this.graphql(s,{owner:a,repo:o});if(u===void 0)return;const[c]=(i=(r=(n=u.repository)==null?void 0:n.forks)==null?void 0:r.nodes)!=null?i:[];return c===void 0?void 0:{name:`${c.owner.login}/${c.name}`,repo:{owner:c.owner.login,name:c.name},url:c.url}}catch(a){return}}async getIncomingChanges(t){var n,r;return(r=(n=(await this.getMetadata(t)).state)==null?void 0:n.incomingChanges)!=null?r:[]}async compareCommits(t,n){const r=await this.getMetadata(t),i=await this.getAheadBehindState(t,r,{base:n.base,head:n.compare});return i==null?void 0:i.incomingChanges}async getAheadBehindState(t,n,r){var i,a,o,s,u;const{base:c,head:f}={base:n.HEAD.sha,head:(i=n.HEAD.branch)==null?void 0:i.sha,...r},v=new P(`GitHub.getAheadBehindState(${t.toString()}, base=${c}, head=${f})`);let g,w;try{if(!f){g=` \u2022 Skipped; Unsupported HEAD type (${n.HEAD.type})`;return}const A=await this.request("GET /repos/{owner}/{repo}/compare/{base}...{head}",{owner:n.repo.owner,repo:n.repo.name,base:c,head:f}),T=[];for(const C of(a=A.data.files)!=null?a:[])switch(C.status){case"added":case"copied":T.push({uri:d.Uri.joinPath(t,C.filename),type:Y.Created});break;case"removed":T.push({uri:d.Uri.joinPath(t,C.filename),type:Y.Deleted});break;case"modified":T.push({uri:d.Uri.joinPath(t,C.filename),type:Y.Changed});break;case"renamed":T.push({uri:d.Uri.joinPath(t,C.filename),type:Y.Created}),T.push({uri:d.Uri.joinPath(t,C.previous_filename),type:Y.Deleted});break;default:le.warn(`GitHub.getAheadBehindState(${t.toString()}, base=${c}, head=${f}): Unknown file status encountered '${C.status}'`);break}return w={ahead:(o=A.data.behind_by)!=null?o:0,behind:(s=A.data.ahead_by)!=null?s:0,incomingChanges:T},w}catch(A){throw g=` \u2022 Failed; ${String(A)}`,le.error(A),A}finally{v.stop({suffix:g!=null?g:` \u2022 ${(u=w==null?void 0:w.behind)!=null?u:0} commits behind`})}}async getObjectDetails(t,n,r){var i;try{const a=await this.getFileTree(t,n);r?r=this.providerService.getRelativeFilePath(t,this.providerService.createRelativeUri(t,r)):{path:r}=await this.providerService.getMetadata(t);const o=await a.get(r);if((o==null?void 0:o.mode)===void 0||(o==null?void 0:o.sha)===void 0)throw new Error(`Cannot get details of ${r} in ${n}`);return{mode:o.mode,object:o.sha,size:(i=o.stat.size)!=null?i:0}}catch(a){throw le.error(a),a}}async getPullRequest(t,n){const{repo:{owner:r,name:i}}=await this.getMetadata(t);return this.getPullRequestCore(r,i,n)}async getPullRequestCore(t,n,r){var i,a,o,s,u,c,f;try{const v=`query getPullRequest(
	$owner: String!
	$repo: String!
	$pr: Int!
) {
	repository(name: $repo, owner: $owner) {
		pullRequest(number: $pr) {
			author {
				login
				avatarUrl
				url
			}
			permalink
			number
			title
			state
			updatedAt
			closedAt
			mergedAt
			repository {
				name
				owner {
					login
				}
			}
			baseRef {
				name
			}
			baseRefName
			baseRefOid
			baseRepository {
				name
				owner {
					login
				}
			}
			headRef {
				name
			}
			headRefName
			headRefOid
			headRepository {
				name
				owner {
					login
				}
			}
			headRepositoryOwner {
				login
			}
		}
	}
}`,g=await this.graphql(v,{owner:t,repo:n,number:Number(r)}),w=(i=g==null?void 0:g.repository)==null?void 0:i.pullRequest;return w?{author:{name:w.author.login,avatarUrl:w.author.avatarUrl,url:w.author.url},closedAt:w.closedAt?new Date(w.closedAt):void 0,mergedAt:w.mergedAt?new Date(w.mergedAt):void 0,id:w.number.toString(),repo:{name:w.repository.name,owner:w.repository.owner.login},state:Vf(w.state),title:w.title,updatedAt:new Date(w.updatedAt),url:w.permalink,refs:{base:{owner:w.baseRepository.owner.login,repo:w.baseRepository.name,branch:w.baseRefName,sha:w.baseRefOid,exists:w.baseRef!=null},head:{owner:(u=(s=(a=w.headRepository)==null?void 0:a.owner.login)!=null?s:(o=w.headRepositoryOwner)==null?void 0:o.login)!=null?u:"<unknown>",repo:(f=(c=w.headRepository)==null?void 0:c.name)!=null?f:w.baseRepository.name,branch:w.headRefName,sha:w.headRefOid,exists:w.headRef!=null}}}:void 0}catch(v){le.error(v);return}}async getPullRequestForBranch(t,n,r){var i,a,o,s,u;try{const{repo:{owner:c,name:f}}=await this.getMetadata(t),v=`query getPullRequestForBranch(
	$owner: String!
	$repo: String!
	$branch: String!
	$maxCount: Int!
	$states: [PullRequestState!]
) {
	repository(name: $repo, owner: $owner) {
		refs(query: $branch, refPrefix: "refs/heads/", first: 1) {
			nodes {
				associatedPullRequests(first: $maxCount, orderBy: {field: UPDATED_AT, direction: DESC}, states: $states) {
					nodes {
						author {
							login
							avatarUrl
							url
						}
						permalink
						number
						title
						state
						updatedAt
						closedAt
						mergedAt
						repository {
							isFork
							name
							owner {
								login
							}
						}
					}
				}
			}
		}
	}
}`,g=await this.graphql(v,{owner:c,repo:f,branch:n,maxCount:(i=r==null?void 0:r.maxCount)!=null?i:1,states:_b(r==null?void 0:r.include)}),w=(u=(s=(o=(a=g==null?void 0:g.repository)==null?void 0:a.refs.nodes[0])==null?void 0:o.associatedPullRequests)==null?void 0:s.nodes)==null?void 0:u.filter(T=>!T.repository.isFork||T.repository.owner.login===c);if(w==null||w.length===0)return;w.length>1&&w.sort((T,C)=>(T.repository.owner.login===c?-1:1)-(C.repository.owner.login===c?-1:1)||(T.state==="OPEN"?-1:1)-(C.state==="OPEN"?-1:1)||new Date(C.updatedAt).getTime()-new Date(T.updatedAt).getTime());const[A]=w;return{author:{name:A.author.login,avatarUrl:A.author.avatarUrl,url:A.author.url},closedAt:A.closedAt?new Date(A.closedAt):void 0,mergedAt:A.mergedAt?new Date(A.mergedAt):void 0,id:A.number.toString(),repo:{name:A.repository.name,owner:A.repository.owner.login},state:Vf(A.state),title:A.title,updatedAt:new Date(A.updatedAt),url:A.permalink}}catch(c){le.error(c);return}}async getTags(t,n){var r,i,a;try{const{repo:{owner:o,name:s}}=await this.getMetadata(t),u=`query getTags(
	$owner: String!
	$repo: String!
	$tagQuery: String!
	$cursor: String
	$limit: Int = 100
) {
	repository(owner: $owner, name: $repo) {
		refs(query: $tagQuery, refPrefix: "refs/tags/", first: $limit, after: $cursor, orderBy: { field: TAG_COMMIT_DATE, direction: DESC }) {
			pageInfo {
				endCursor
				hasNextPage
			}
			nodes {
				name
				target {
					oid
				}
			}
		}
	}
}`,c=await this.graphql(u,{owner:o,repo:s,tagQuery:(r=n==null?void 0:n.query)!=null?r:"",cursor:n==null?void 0:n.cursor,limit:Math.min(100,(i=n==null?void 0:n.limit)!=null?i:100)});if(c===void 0)return{tags:[]};const f=(a=c.repository)==null?void 0:a.refs;if(f===void 0)return{tags:[]};const v=f.nodes.map(g=>({type:ui.Tag,name:g.name,commit:g.target.oid,commitUrl:g.target.commitUrl}));return{paging:{cursor:f.pageInfo.endCursor,more:f.pageInfo.hasNextPage},tags:v}}catch(o){return{tags:[]}}}async loadWorkspaceContents(t){try{return await this.tarPit.getTar(t,!1),!0}catch(n){return le.error(n),!1}}async getTarGz(t,n){const{repo:{owner:r,name:i},HEAD:{sha:a}}=await this.getMetadata(t),o=await this.ensureAuthenticated(),s=rt.get("indexing.verboseDownloadNotification");return d.window.withProgress({location:s?d.ProgressLocation.Notification:d.ProgressLocation.Window,cancellable:!0,title:yr("fetching index","Downloading repository index")},async(u,c)=>{try{if(vo){let g;try{const C=await this.tarballProxyEndpoint;C!==void 0&&(g=C.replace("{owner}",r).replace("{repo}",i).replace("{sha}",a))}catch{}if(!g)throw new Error("Workbench embedder must set `_tarballProxyEndpoints` in workbench construction options to enable GitHub fulltext search.");const A=await(await C0(g,{headers:{"x-proxy-authorization":`Bearer ${o.accessToken}`},credentials:"include"},c)).text();return await A0(A,{},n,c,u)}const f=`https://api.github.com/repos/${r}/${i}/tarball/${a}`;return await A0(f,{headers:{Authorization:`Bearer ${o.accessToken}`}},n,c,u)}catch(f){throw le.error(f),f}})}async queryRepositoryObject(t,n,r,i){var a,o;try{const{repo:{owner:s,name:u},HEAD:{sha:c},path:f}=await this.providerService.getMetadata(t),v=`query ${n}(
	$owner: String!
	$repo: String!
	$expression: String
) {
	repository(owner: $owner, name: $repo) {
		object(expression: $expression) {
			${r}
		}
	}
}`,g=await this.graphql(v,{owner:s,repo:u,expression:i!=null?i:`${c}:${f}`});return(o=(a=g==null?void 0:g.repository)==null?void 0:a.object)!=null?o:void 0}catch(s){le.error(s);return}}async repositoryObjectExists(t,n){return await this.queryRepositoryObject(t,"exists","			__typename",n)!==void 0}async searchPullRequestsQuery(t,n){var r;function i(a){function o(s,u){return{number:s.number,title:s.title,repoWithOwner:s.repository.nameWithOwner,reasons:u?[u]:[],url:s.url}}return l(o,"toResult"),Qu([...a.assigned.nodes.filter(s=>s!==null).map(s=>o(s,"assigned")),...a.reviewRequested.nodes.filter(s=>s!==null).map(s=>o(s,"review requested")),...a.mentioned.nodes.filter(s=>s!==null).map(s=>o(s,"mentioned")),...a.authored.nodes.filter(s=>s!==null).map(s=>o(s,"authored")),...vw(a.viewer.repositories.nodes,s=>s.pullRequests.nodes.filter(u=>u!==null).map(u=>o(u)))],s=>s.url,(s,u)=>(u.reasons.length!==0&&s.reasons.push(...u.reasons),s))}l(i,"processQueryResults");try{const a=`query searchPullRequests(
	$authored: String!
	$assigned: String!
	$reviewRequested: String!
	$mentioned: String!
) {
	viewer {
		repositories(first: 100, orderBy: { field: STARGAZERS, direction: DESC }) {
			nodes {
				pullRequests(first: 100, states: OPEN, orderBy: { field: UPDATED_AT, direction: DESC }) {
					nodes {
						number
						title
						url
						repository {
							nameWithOwner
						}
					}
				}
			}
		}
	}
	authored: search(first: 100, query: $authored, type: ISSUE) {
		nodes {
			...on PullRequest {
				number
				title
				url
				repository {
					nameWithOwner
				}
			}
		}
	}
	assigned: search(first: 100, query: $assigned, type: ISSUE) {
		nodes {
			...on PullRequest {
				number
				title
				url
				repository {
					nameWithOwner
				}
			}
		}
	}
	reviewRequested: search(first: 100, query: $reviewRequested, type: ISSUE) {
		nodes {
			...on PullRequest {
				number
				title
				url
				repository {
					nameWithOwner
				}
			}
		}
	}
	mentioned: search(first: 100, query: $mentioned, type: ISSUE) {
		nodes {
			...on PullRequest {
				number
				title
				url
				repository {
					nameWithOwner
				}
			}
		}
	}
}`;t=t.trim(),(n==null?void 0:n.user)&&(t+=` user:${n.user}`);const o=await this.graphql(a,{authored:(t?`${t} is:pr is:open archived:false author:@me`:"is:pr is:open archived:false author:@me").trim(),assigned:(t?`${t} is:pr is:open archived:false assignee:@me`:"is:pr is:open archived:false assignee:@me").trim(),reviewRequested:(t?`${t} is:pr is:open archived:false review-requested:@me`:"is:pr is:open archived:false review-requested:@me").trim(),mentioned:(t?`${t} is:pr is:open archived:false mentions:@me`:"is:pr is:open archived:false mentions:@me").trim()},!0);return o===void 0?{results:[],hasSAMLProtectedResults:!1}:{results:i(o),hasSAMLProtectedResults:!1}}catch(a){return a instanceof ci?{results:i(a.data),hasSAMLProtectedResults:((r=a.errors)==null?void 0:r.find(o=>o.type==="FORBIDDEN"))!==void 0}:{results:[],hasSAMLProtectedResults:!1}}}async searchRepositoriesQuery(t,n){var r;function i(a){var o,s,u;const c=Qu((n==null?void 0:n.user)?[...a.search.nodes,...a.viewer.repositories.nodes]:[...a.viewer.repositories.nodes,...a.search.nodes],v=>v==null?void 0:v.url),f=[];for(const v of c)v!==null&&f.push({repoWithOwner:v.nameWithOwner,description:(o=v.description)!=null?o:void 0,url:v.url,fork:(u=(s=v.parent)==null?void 0:s.nameWithOwner)!=null?u:void 0,stars:v.stargazerCount});return f}l(i,"processQueryResults");try{const a=`query searchRepositories(
	$search: String!
) {
	viewer {
		repositories(first: 100, orderBy: { field: UPDATED_AT, direction: DESC }) {
			nodes {
				nameWithOwner
				description
				url
				parent {
					nameWithOwner
				}
				stargazerCount
			}
		}
	}
	search(first: 100, query: $search, type: REPOSITORY) {
		nodes {
			...on Repository {
				nameWithOwner
				description
				url
				parent {
					nameWithOwner
				}
				stargazerCount
			}
		}
	}
}`;(n==null?void 0:n.user)&&(t+=` user:${n.user}`),(n==null?void 0:n.sort)&&(t+=` sort:${n.sort}`),t+=" fork:true";const o=await this.graphql(a,{search:t.trim()},!0);return o===void 0?{results:[],hasSAMLProtectedResults:!1}:{results:i(o),hasSAMLProtectedResults:!1}}catch(a){return a instanceof ci?{results:i(a.data),hasSAMLProtectedResults:((r=a.errors)==null?void 0:r.find(o=>o.type==="FORBIDDEN"))!==void 0}:{results:[],hasSAMLProtectedResults:!1}}}async searchCodeQuery(t,n,r){var i,a,o;const{repo:{owner:s,name:u},HEAD:c,defaultBranch:f}=await this.getMetadata(n),v=[];((i=c.branch)==null?void 0:i.name)!==f.name&&v.push(yr("Cant search branch","Unable to search {0} without index, falling back to {1}.",(o=(a=c.branch)==null?void 0:a.name)!=null?o:c.detached.name,f.name));try{const w=await(await this.octokit({request:{headers:{authorization:`Bearer ${(await this.ensureAuthenticated()).accessToken}`,accept:"application/vnd.github.v3.text-match+json"}}})).request("GET /search/code",{q:`${t} repo:${s}/${u}`}),A=new d.Range(0,0,0,0),T=[];let C=0,D;for(const $ of w.data.items)for(const V of $.text_matches){if(C++,r.maxResults!==void 0&&C>r.maxResults)return{matches:T,limitHit:!0};D={path:$.path,ranges:[],preview:V.fragment,matches:[]};for(const q of V.matches){let ee=0,_e=0,ge=0;for(let de=0;de<q.indices[1];de++)de===q.indices[0]&&(_e=ge),V.fragment[de]===`
`?(ee++,ge=0):ge++;D.ranges.push(A),D.matches.push(new d.Range(ee,_e,ee,ge))}T.push(D)}return{matches:T,limitHit:!1,warnings:v}}catch(g){return{matches:[],limitHit:!0}}}async switchTo(t,n,r){const{name:i,repo:a,HEAD:{branch:o}}=await this.getMetadata(t);let s;if(!(n!==void 0&&(typeof n=="string"?(n==null?void 0:n.startsWith("refs/heads/"))?(s={type:Me.Tree,id:n.substr(11)},n=n.substr(11)):(n==null?void 0:n.startsWith("refs/tags/"))?s={type:Me.Tree,id:n.substr(10)}:s={type:Me.Tree,id:n}:s={...n,type:n.type===Me.Branch||n.type===Me.Tag?Me.Tree:n.type},(o==null?void 0:o.name)===s.id)))return{name:i,uri:this.providerService.createVirtualUri(t,{repo:a,ref:s}),location:(r==null?void 0:r.openInNewWindow)?we.NewWindow:we.CurrentWindow}}async sync(t,n,r){var i,a,o,s,u,c;const f=new P(`GitHub.sync(${t.toString()}, resolution=${r.conflictResolution}, to=${r.to})`);let v;try{const{metadata:g}=await this.fetchCore(t,!0,{to:r.to});if(g.HEAD.detached){v=" \u2022 Skipped; detached HEAD";return}if(((a=(i=g==null?void 0:g.state)==null?void 0:i.behind)!=null?a:0)>0&&await n.hasChanges(t)){f.logStep("Fetching upstream changes");const w=[],A=(s=(o=g.state)==null?void 0:o.incomingChanges)!=null?s:[];if(A.length>0){const T=await n.getChanges(t);for(const C of T){const D=this.providerService.getRelativeFilePath(t,C.uri),$=A.find(V=>this.providerService.getRelativeFilePath(t,V.uri)===D);$!==void 0&&w.push({path:D,current:C,incomingType:$.type})}}if(w.length>0)switch(r.conflictResolution){case Je.KeepCurrent:f.logStep("Syncing (keep) upstream changes",{message:`: ${w.length} conflicts; \u2022`,suffix:" \u2022 Syncing (keep) upstream changes..."});for(const T of w)await n.keep(T.current.uri,{type:T.incomingType,providerUri:jf(g,g.HEAD.branch.sha,T.path)});break;case Je.DiscardCurrent:f.logStep("Syncing (discard) upstream changes",{message:`: ${w.length} conflicts; \u2022`,suffix:" \u2022 Syncing (discard) upstream changes..."});for(const T of w)await n.discard(T.current.uri);break;case Je.Merge:f.logStep("Syncing (merge) upstream changes",{message:`: ${w.length} conflicts; \u2022`,suffix:" \u2022 Syncing (merge) upstream changes..."});for(const T of w)await n.merge(T.current.uri,{type:T.incomingType,providerUri:jf(g,g.HEAD.branch.sha,T.path)},{providerUri:jf(g,g.HEAD.sha,T.path)},rt.get("experimental.useSimplifiedMerge"));break;case Je.Abort:default:throw f.logStep("Syncing (abort) upstream changes",{message:`: ${w.length} conflicts; \u2022`,suffix:" \u2022 Syncing (abort) upstream changes..."}),await this.providerService.updateMetadata(t,g),X.SyncConflictsError()}}v=` \u2022 to=${(u=r.to)!=null?u:g.HEAD.branch.sha}`,await this.fastForwardTo(t,(c=r.to)!=null?c:g.HEAD.branch.sha,g)}finally{f.stop(v?{suffix:v}:void 0)}}async fastForwardTo(t,n,r){if(r.HEAD.detached)throw X.DetachedHEADError("Unable to fast-forward; no current branch");if(r.HEAD.sha===n&&r.state===void 0)return;const i=this.asFileTreeKey(t,r.HEAD.sha),a=this.fileTreeCache.get(i);this.fileTreeCache.delete(i),a==null||a.dispose(),le.log(`Fast forward to ${n}; rootUri=${t.toString()}`),await this.providerService.updateMetadata(t,{...r,HEAD:{...r.HEAD,detached:void 0,sha:n},state:n!==r.HEAD.branch.sha?r.state:void 0,timestamp:Date.now()}),n!==r.HEAD.branch.sha&&r.state===void 0&&await this.fetchCore(t,!1,{to:n})}async getBranchTips(t,n){try{const{repo:{owner:r,name:i},HEAD:a}=await this.getMetadata(t);n===void 0&&(a.type===ne.RemoteBranch?n=`${a.branch.remote.repo.owner}/${a.branch.remote.repo.name}:refs/heads/${a.branch.name}`:n=a.branch?`refs/heads/${a.branch.name}`:"");const o=V0.exec(n);if(o==null?void 0:o.groups)return this.getRemoteBranchTips(r,i,n);const s=`query getBranchTips(
	$owner: String!
	$repo: String!
	$ref: String!
) {
	repository(owner: $owner, name: $repo) {
		defaultBranchRef {
			target {
				oid
			}
		}
		ref(qualifiedName: $ref) {
			target {
				oid
			}
		}
	}
}`,u=await this.graphql(s,{owner:r,repo:i,ref:n});if((u==null?void 0:u.repository)==null)return;const{defaultBranchRef:c,ref:f}=u.repository;return!c&&!f?void 0:{defaultBranch:c?{sha:c.target.oid}:void 0,branch:f?{sha:f.target.oid}:void 0}}catch(r){return}}async getRemoteBranchTips(t,n,r){try{const i=V0.exec(r);if((i==null?void 0:i.groups)==null)return;let{remoteOwner:a,remoteRepo:o,remoteRef:s}=i.groups;o||(o=n);const u=`query getRemoteBranchTips(
	$owner: String!
	$repo: String!
	$remoteOwner: String!
	$remoteRepo: String!
	$remoteRef: String!
) {
	repository(owner: $owner, name: $repo) {
		defaultBranchRef {
			target {
				oid
			}
		}
	}
	remote: repository(owner: $remoteOwner, name: $remoteRepo) {
		ref(qualifiedName: $remoteRef) {
			target {
				oid
			}
		}
	}
}`,c=await this.graphql(u,{owner:t,repo:n,remoteOwner:a,remoteRepo:o,remoteRef:s});if((c==null?void 0:c.repository)==null||(c==null?void 0:c.remote)==null)return;const{repository:{defaultBranchRef:f},remote:{ref:v}}=c;return!f&&!v?void 0:{defaultBranch:f?{sha:f.target.oid}:void 0,branch:v?{sha:v.target.oid}:void 0}}catch(i){return}}async getRepositoryInfo(t,n,r,i){var a,o,s,u,c,f,v,g,w,A,T,C,D,$,V,q;try{const ee=`number
title
state
maintainerCanModify
baseRef { name }
baseRefName
baseRefOid
baseRepository {
	name
	owner { login }
	defaultBranchRef {
		name
		target { oid }
	}
	viewerPermission
}
headRef { name }
headRefName
headRefOid
headRepository {
	name
	owner { login }
	defaultBranchRef {
		name
		target { oid }
	}
	viewerPermission
}
mergeCommit { oid }
`,_e=`query getRepository(
	$owner: String!
	$repo: String!
	$ref: String = ""
	$has_pr: Boolean!
	$pr: Int = 0
) {
	viewer { login }
	repository(owner: $owner, name: $repo) {
		name
		owner { login }
		defaultBranchRef {
			name
			target { oid }
		}
		ref(qualifiedName: $ref) {
			name
			prefix
			target { oid }
		}
		viewerPermission
		pullRequest(number: $pr) @include(if: $has_pr) {
			${ee}
		}
	}
}`;let ge,de;try{const Ze=await this.graphql(_e,{owner:t,repo:n,ref:(i==null?void 0:i.ref)!=="HEAD"?i==null?void 0:i.ref:void 0,has_pr:Boolean(i==null?void 0:i.pr),pr:(a=i==null?void 0:i.pr)!=null?a:0});if((Ze==null?void 0:Ze.repository)==null)return;({repository:de,viewer:{login:ge}}=Ze)}catch(Ze){if((i==null?void 0:i.pr)&&Ze instanceof ci&&((s=(o=Ze.errors)==null?void 0:o[0])==null?void 0:s.type)==="NOT_FOUND"&&((u=Ze.errors[0])==null?void 0:u.message.includes("Could not resolve to a PullRequest"))){({repository:de,viewer:{login:ge}}=Ze.data);try{const vt=await this.graphql(`query getPullRequestFromParentRepository(
	$owner: String!
	$repo: String!
	$pr: Int!
) {
	repository(owner: $owner, name: $repo) {
		parent {
			pullRequest(number: $pr) {
				${ee}
			}
		}
	}
}`,{owner:t,repo:n,pr:i==null?void 0:i.pr});if(((f=(c=vt==null?void 0:vt.repository)==null?void 0:c.parent)==null?void 0:f.pullRequest)==null)throw Ze;de.pullRequest=vt.repository.parent.pullRequest}catch{throw Ze}}else throw Ze}const Ie=(v=de.defaultBranchRef)!=null?v:void 0;if((Ie==null?void 0:Ie.name)==null)return;const fe=de.pullRequest;let De;if(de==null?void 0:de.ref)De={prefix:de.ref.prefix,name:de.ref.name,sha:de.ref.target.oid};else if(fe==null?void 0:fe.headRef){let Ze=Gf(fe.headRepository.viewerPermission);Ze<J.Write&&fe.maintainerCanModify&&Gf(de.viewerPermission)>=J.Write&&(Ze=J.WriteToPullRequest),De=fe.headRepository.owner.login===t?{prefix:"refs/heads/",name:fe==null?void 0:fe.headRef.name,sha:(w=(g=fe.mergeCommit)==null?void 0:g.oid)!=null?w:fe==null?void 0:fe.headRefOid}:{prefix:"refs/remotes/",name:fe==null?void 0:fe.headRef.name,sha:(T=(A=fe.mergeCommit)==null?void 0:A.oid)!=null?T:fe==null?void 0:fe.headRefOid,remote:{name:`${fe.headRepository.owner.login}/${fe.headRepository.name}`,accessLevel:Ze,repo:{owner:fe.headRepository.owner.login,name:fe.headRepository.name}}}}else(fe==null?void 0:fe.baseRef)?(De={prefix:"refs/heads/",name:fe==null?void 0:fe.baseRef.name,sha:(D=(C=fe.mergeCommit)==null?void 0:C.oid)!=null?D:fe==null?void 0:fe.baseRefOid},r&&(le.log("Did not find a headRef for PR, falling back to baseRef",fe.baseRef),Mn.showPullRequestHeadNotFoundMessage(`${t}/${n}`,`#${i==null?void 0:i.pr}`))):(i==null?void 0:i.ref)==="HEAD"&&(De={prefix:"refs/heads/",name:Ie.name,sha:Ie.target.oid});return{user:ge,repo:{owner:de.owner.login,name:de.name},accessLevel:Gf(de.viewerPermission),ref:De,defaultBranch:{name:Ie.name,sha:Ie.target.oid},pullRequest:fe?{id:fe.number.toString(),state:Vf(fe.state),title:fe.title}:void 0}}catch(ee){if(ee instanceof ci)switch((V=($=ee.errors)==null?void 0:$[0])==null?void 0:V.type){case"NOT_FOUND":{if((i==null?void 0:i.pr)&&((q=ee.errors[0])==null?void 0:q.message.includes("Could not resolve to a PullRequest"))){const ge=new Fl(ee,`${t}/${n}`,`#${i==null?void 0:i.pr}`);throw r&&Mn.showPullRequestNotFoundMessage(ge.name,ge.id),ge}const _e=new Wo(ee,`${t}/${n}`);throw r&&Mn.showRepositoryNotFoundMessage(_e.name),_e}case"FORBIDDEN":{const _e=new qo(ee,`${t}/${n}`);throw r&&Mn.showRepositoryForbiddenMessage(_e.name),_e}}le.error(ee,`Failed to get repository info for '${t}/${n}'`),!this.handleRequestErrors(ee)&&r&&Mn.showUnableToOpenRepositoryMessage(ee);return}}async validateOwnerAndRepoAndSplitRefFromPath(t,n,r){try{const i=await this.request(`GET /repos/{owner}/{repo}/git/extract-ref/${r!=null?r:"HEAD"}`,{owner:t,repo:n});return[t,n]=i.data.name_with_owner.split("/"),r?{owner:t,repo:n,ref:{type:Me.Tree,id:i.data.ref},path:i.data.path}:{owner:t,repo:n}}catch(i){if(i instanceof Pr)switch(i.status){case 401:throw X.InvalidCredentialsError(i,()=>void this.reauthenticate());case 403:throw Mn.showRepositoryForbiddenMessage(`${t}/${n}`),new qo(i,`${t}/${n}`);case 404:throw Mn.showRepositoryNotFoundMessage(`${t}/${n}`),new Wo(i,`${t}/${n}`);case 409:throw Mn.showRepositoryEmptyMessage(`${t}/${n}`),new Nl(i,`${t}/${n}`)}return}}asFileTreeKey(t,n){return`${U(this.getProviderRootUri(t))}:${n}`}}l(Bl,"GitHubRepositoryProvider"),W0([_n()],Bl.prototype,"ensureAuthenticated",1),W0([_n()],Bl.prototype,"octokit",1);function Vf(e){switch(e){case"OPEN":return Fe.Open;case"CLOSED":return Fe.Closed;case"MERGED":return Fe.Merged}}l(Vf,"toPullRequestState");function _b(e){if(e!==void 0)return e.map(t=>{switch(t){case Fe.Open:return"OPEN";case Fe.Closed:return"CLOSED";case Fe.Merged:return"MERGED"}})}l(_b,"fromPullRequestStates");var Ui;(function(e){e.ADMIN="ADMIN",e.MAINTAIN="MAINTAIN",e.WRITE="WRITE",e.TRIAGE="TRIAGE",e.READ="READ",e.NONE="NONE"})(Ui||(Ui={}));function Gf(e){switch(e){case Ui.ADMIN:return J.Admin;case Ui.MAINTAIN:return J.Maintain;case Ui.WRITE:return J.Write;case Ui.TRIAGE:return J.Triage;case Ui.READ:return J.Read;default:return J.None}}l(Gf,"permissionToAccessLevel");function xb(e){switch(e&&(e=e.toLocaleLowerCase()),e){case"blob":return d.FileType.File;case"tree":return d.FileType.Directory;default:return d.FileType.Unknown}}l(xb,"typenameToFileType");function bb(e){return{registerVirtualProviderService:function(t){un.configure("githubRepositories",e),le.configure(e,"GitHub Repositories",rt.get("logLevel")),P.start("Time to root directory",{log:!1});const n=Zu.configure(e),r=new Vp(e);try{const i=new fs(e.globalState),a=i.with(n),o=new ds(e.globalStorageUri,n),s=new us(a),u=new cs(t,a,o,r,n);u.getWorkspacesWithChanges();const c=new Xu(t,i,u,n),f=new E0(e.globalStorageUri,t),v=new Bl(t,f),g=new Po(t,v,u,f,r);e.subscriptions.push(t.register("github","GitHub",v,g,i,u,s,c),v,g,new Ce(v))}catch(i){throw le.error(i),i}}}}l(bb,"activate")})(),module.exports=__webpack_exports__})();
